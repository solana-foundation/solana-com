---
title: Комісії за транзакції
description:
  Дізнайтеся про комісії за транзакції Solana, включаючи базову та пріоритетну
  комісії, як кожна з них застосовується, та найкращі практики управління
  обчислювальними одиницями у ваших транзакціях.
---

Кожна транзакція Solana вимагає базової комісії (SOL) для компенсації
валідаторам за обробку транзакції. Ви також можете сплатити додаткову комісію за
пріоритизацію, щоб збільшити ймовірність того, що поточний лідер (validator)
обробить вашу транзакцію.

## Ключові моменти

- **Базова комісія** за транзакцію становить 5000 lamport за кожен підпис у
  транзакції.
- **Комісія за пріоритизацію** (необов'язкова) — це додаткова плата, яку ви
  сплачуєте validator, щоб збільшити ймовірність того, що поточний лідер
  обробить вашу транзакцію.
- Комісія за пріоритизацію дорівнює: **(ліміт обчислювальних одиниць \* ціна
  обчислювальної одиниці)**.
- **Ліміт обчислювальних одиниць** — це максимальна кількість обчислювальних
  одиниць, яку може використати ваша транзакція.
- **Ціна обчислювальної одиниці** — це ціна за обчислювальну одиницю в
  мікро-lamport.
- 1 000 000 мікро-lamport = 1 lamport
- Платник комісії за транзакцію повинен бути обліковим записом, яким володіє
  System Program.

## Базова комісія за транзакцію

Базова комісія — це вартість відправлення транзакції. Вартість становить 5000
lamport за кожен підпис, включений у транзакцію.

Базова комісія знімається з рахунку платника комісії за транзакцію, який є
першим підписантом транзакції. Платник комісії повинен бути обліковим записом,
яким володіє System Program.

- [50% спалюється](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/fee-calculator/src/lib.rs#L70):
  Половина базової комісії спалюється.
- [50% розподіляється](https://github.com/anza-xyz/agave/blob/e621336acad4f5d6e5b860eaa1b074b01c99253c/runtime/src/bank/fee_distribution.rs#L58-L62):
  Половина виплачується validator, який обробив транзакцію.

## Комісія за пріоритизацію

Комісія за пріоритизацію — це необов'язкова плата, яка сплачується для
збільшення ймовірності того, що поточний лідер обробить вашу транзакцію.

- [SIMD-0096](https://github.com/solana-foundation/solana-improvement-documents/blob/main/proposals/0096-reward-collected-priority-fee-in-entirety.md):
  Validator, який обробляє транзакцію, отримує 100% комісії за пріоритет.

### Обчислювальні одиниці та ліміти

Коли транзакція обробляється, вона використовує обчислювальні ресурси, які
вимірюються в обчислювальних одиницях (CU). Кожна інструкція віднімає від
бюджету обчислювальних одиниць транзакції.

- Максимальний ліміт: Транзакція може використовувати до
  [1,4 мільйона обчислювальних одиниць](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget_limits.rs#L14).
- Ліміт за замовчуванням: За замовчуванням кожна інструкція може використовувати
  до
  [200 000 обчислювальних одиниць](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget_limits.rs#L10).
- Користувацький ліміт: Ви можете запросити конкретний ліміт обчислювальних
  одиниць, включивши `SetComputeUnitLimit` інструкцію у вашу транзакцію.

Для отримання додаткової інформації про використання обчислювальних одиниць:

- [ComputeBudget](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget.rs#L22-L130)
- [Значення за замовчуванням для споживання обчислювальних одиниць](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget.rs#L149-L197)

Дивіться посібник
[Як запитувати оптимальні обчислення](/developers/guides/advanced/how-to-request-optimal-compute)
для отримання додаткової інформації про використання обчислювальних одиниць.

### Ціна обчислювальної одиниці

Ціна обчислювальної одиниці — це необов'язкова сума, вказана в мікро-lamport,
яку ви платите за кожну запитану обчислювальну одиницю. Ця ціна використовується
для розрахунку комісії за пріоритет вашої транзакції.

<Callout>1 000 000 мікро-lamport = 1 lamport</Callout>

Використовуйте ці ресурси, щоб отримати рекомендації в реальному часі щодо
поточної ціни обчислювальної одиниці:

| Провайдер                               | API комісії за пріоритет                                                         |
| --------------------------------------- | -------------------------------------------------------------------------------- |
| [Helius](https://www.helius.dev/)       | [Документація](https://docs.helius.dev/solana-apis/priority-fee-api)             |
| [QuickNode](https://www.quicknode.com/) | [Документація](https://marketplace.quicknode.com/add-on/solana-priority-fee)     |
| [Triton](https://triton.one/)           | [Документація](https://docs.triton.one/chains/solana/improved-priority-fees-api) |

Дивіться посібник
[Як використовувати комісії за пріоритет](/developers/guides/advanced/how-to-use-priority-fees)
для отримання додаткової інформації про комісії за пріоритет.

### Розрахунок комісії за пріоритет

[Комісія за пріоритет](https://github.com/anza-xyz/agave/blob/v2.2.14/compute-budget/src/compute_budget_limits.rs#L47-L48)
розраховується як:

**Комісія за пріоритет = Ліміт обчислювальних одиниць × Ціна обчислювальної
одиниці**

Рекомендований підхід для встановлення комісій за пріоритет — спочатку
[симулювати](/developers/guides/advanced/how-to-request-optimal-compute)
транзакцію, щоб оцінити необхідну кількість обчислювальних одиниць. Потім додати
10% запасу безпеки до цієї оцінки та використовувати отримане значення як
`Compute Unit Limit`.

[Пріоритет транзакції](https://github.com/anza-xyz/agave/blob/v2.2.14/core/src/banking_stage/transaction_scheduler/receive_and_buffer.rs#L646),
який визначає її пріоритетність відносно інших транзакцій, обчислюється за такою
формулою:

**Пріоритет = ((Ліміт обчислювальних одиниць \* Ціна обчислювальної одиниці) +
Базова комісія) / (1 + Ліміт обчислювальних одиниць + Обчислювальні одиниці
підпису + Обчислювальні одиниці блокування запису)**

Використовуйте ці інструкції для встановлення ліміту та ціни обчислювальних
одиниць для транзакції:

- [`SetComputeUnitLimit`](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/src/compute_budget.rs#L42-L44)
  для встановлення конкретного ліміту одиниць.
- [`SetComputeUnitPrice`](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/src/compute_budget.rs#L48-L50)
  для визначення ціни за обчислювальну одиницю.

<Callout>

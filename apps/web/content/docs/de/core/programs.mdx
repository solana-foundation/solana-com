---
title: Programme
description:
  Erfahren Sie mehr über Solana-Programme (Smart Contracts) und wie man sie mit
  Rust oder dem Anchor-Framework entwickelt. Verstehen Sie Deployment, Upgrades
  und Verifizierung von Programmen im Solana-Netzwerk.
h1: Programme
---

Auf Solana wird ein Smart Contract als Programm bezeichnet. Ein Programm ist ein
zustandsloses [Konto](/docs/core/accounts#program-account), das ausführbaren
Code enthält. Dieser Code ist in Funktionen organisiert, die als Anweisungen
bezeichnet werden. Benutzer interagieren mit einem Programm, indem sie eine
[Transaktion](/docs/core/transaction) senden, die eine oder mehrere
[Anweisungen](/docs/core/instructions) enthält. Eine Transaktion kann
Anweisungen von mehreren Programmen enthalten.

Wenn ein Programm bereitgestellt wird, verwendet Solana
[LLVM](https://llvm.org/), um es in ein ausführbares und verknüpfbares Format
([ELF](https://en.wikipedia.org/wiki/Executable_and_Linkable_Format)) zu
kompilieren. Die ELF- Datei enthält die Programmbinärdatei im Solana Bytecode
Format (sBPF) und wird on-chain in einem ausführbaren Konto gespeichert.

<Callout>
  sBPF ist Solanas angepasste Version des
  [eBPF](https://en.wikipedia.org/wiki/EBPF) Bytecodes.
</Callout>

## Programme schreiben

Die Mehrheit der Programme wird in
[Rust](https://rust-book.cs.brown.edu/title-page.html) geschrieben, mit zwei
gängigen Entwicklungsansätzen:

- [Anchor](https://www.anchor-lang.com/docs): Anchor ist ein Framework, das für
  schnelle und einfache Solana-Entwicklung konzipiert wurde. Es verwendet
  [Rust-Makros](https://doc.rust-lang.org/book/ch20-05-macros.html), um
  Boilerplate-Code zu reduzieren – ideal für Anfänger.
- [Native Rust](/docs/programs/rust): Programme in Rust schreiben, ohne
  Frameworks zu nutzen. Dieser Ansatz bietet mehr Flexibilität, bringt aber auch
  erhöhte Komplexität mit sich.

## Programme aktualisieren

Um ein bestehendes Programm zu
[modifizieren](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/bpf_loader/src/lib.rs#L704),
muss ein Konto als
[Upgrade-Authority](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/bpf_loader/src/lib.rs#L894)
festgelegt werden. (Typischerweise dasselbe Konto, das ursprünglich das Programm
[bereitgestellt hat](/docs/programs/deploying).) Wenn die Upgrade-Authority
widerrufen und auf `None` gesetzt wird, kann das Programm nicht mehr
aktualisiert werden.

## Programme verifizieren

Solana unterstützt [verifizierbare Builds](/docs/programs/verified-builds), die
es Benutzern ermöglichen zu überprüfen, ob der On-Chain-Code eines Programms mit
seinem öffentlichen Quellcode übereinstimmt. Das Anchor-Framework bietet
[integrierte Unterstützung](https://www.anchor-lang.com/docs/verifiable-builds)
für die Erstellung eines verifizierbaren Builds.

Um zu überprüfen, ob ein bestehendes Programm verifiziert ist, suchen Sie nach
seiner Programm-ID im
[Solana Explorer](https://explorer.solana.com/address/PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY).
Alternativ können Sie die Ellipsis Labs
[Solana Verifiable Build CLI](https://github.com/Ellipsis-Labs/solana-verifiable-build)
verwenden, um On-Chain-Programme unabhängig zu verifizieren.

## Integrierte Programme

### Loader-Programme

Jedes Programm gehört einem anderen – seinem Loader. Loader werden verwendet, um
Programme zu deployen, neu zu deployen, zu aktualisieren oder zu schließen. Sie
werden auch verwendet, um ein Programm zu finalisieren und die
Programm-Authority zu übertragen.

Derzeit gibt es fünf Loader-Programme, wie in der folgenden Tabelle dargestellt.

| Loader | Program ID                                    | Hinweise                                                                                                                             | Anweisungen Link                                                                                                                               |
| ------ | --------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------- |
| native | `NativeLoader1111111111111111111111111111111` | Besitzt die anderen vier Loader                                                                                                      | —                                                                                                                                              |
| v1     | `BPFLoader1111111111111111111111111111111111` | Management-Anweisungen sind deaktiviert, aber Programme werden weiterhin ausgeführt                                                  | —                                                                                                                                              |
| v2     | `BPFLoader2111111111111111111111111111111111` | Management-Anweisungen sind deaktiviert, aber Programme werden weiterhin ausgeführt                                                  | [Anweisungen](https://docs.rs/solana-loader-v2-interface/latest/solana_loader_v2_interface/enum.LoaderInstruction.html)                        |
| v3     | `BPFLoaderUpgradeab1e11111111111111111111111` | Programme können nach dem Deployment aktualisiert werden. Programm-Executable wird in einem separaten Programmdatenkonto gespeichert | [Anweisungen](https://docs.rs/solana-loader-v3-interface/latest/solana_loader_v3_interface/instruction/enum.UpgradeableLoaderInstruction.html) |
| v4     | `LoaderV411111111111111111111111111111111111` | In Entwicklung (unveröffentlicht)                                                                                                    | [Anweisungen](https://docs.rs/solana-loader-v4-interface/latest/solana_loader_v4_interface/instruction/enum.LoaderV4Instruction.html)          |

Programme, die mit loader-v3 oder loader-v4 bereitgestellt wurden, können nach
dem Deployment modifizierbar sein, je nach ihrer Upgrade-Authority.

### Vorkompilierte Programme

Zusätzlich zu den Loader-Programmen bietet Solana die folgenden vorkompilierten
Programme.

#### Verifizierung von ed25519-Signaturen

Das ed25519-Programm wird verwendet, um eine oder mehrere ed25519-Signaturen zu
verifizieren.

| Programm         | Program ID                                    | Beschreibung                                                                                   | Anweisungen                                                                                    |
| ---------------- | --------------------------------------------- | ---------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------- |
| Ed25519 Programm | `Ed25519SigVerify111111111111111111111111111` | Verifiziert ed25519-Signaturen. Wenn eine Signatur fehlschlägt, wird ein Fehler zurückgegeben. | [Anweisungen](https://docs.rs/solana-ed25519-program/latest/solana_ed25519_program/index.html) |

Das ed25519-Programm verarbeitet eine Anweisung. Das erste `u8` der Anweisung
enthält eine Anzahl der zu überprüfenden Signaturen, gefolgt von einem einzelnen
Byte Padding. Danach wird die folgende Struktur für jede zu überprüfende
Signatur serialisiert.

```rust
pub struct Ed25519SignatureOffsets {
    signature_offset: u16,             // Offset zum Signatur-Array, 64 Bytes
    signature_instruction_index: u16,  // Index der Anweisung, die die Signatur enthält
    public_key_offset: u16,            // Offset zum öffentlichen Schlüssel, 32 Bytes
    public_key_instruction_index: u16, // Index der Anweisung, die den öffentlichen Schlüssel enthält
    message_data_offset: u16,          // Offset zu den Nachrichtendaten
    message_data_size: u16,            // Größe der Nachrichtendaten
    message_instruction_index: u16,    // Index der Anweisung, die die Nachrichtendaten enthält
}
```

Dies ermöglicht dem Benutzer, beliebige Anweisungsdaten in der Transaktion für
Signatur- und Nachrichtendaten anzugeben. Durch Angabe einer speziellen
Instructions-Sysvar kann man auch Daten aus der Transaktion selbst empfangen.

#### Verifizierung der secp256k1-Wiederherstellung

Das secp256k1-Programm wird verwendet, um
secp256k1-Wiederherstellungsoperationen für öffentliche Schlüssel zu
verifizieren.

| Programm           | Programm-ID                                   | Beschreibung                                                                               | Anweisungen                                                                                        |
| ------------------ | --------------------------------------------- | ------------------------------------------------------------------------------------------ | -------------------------------------------------------------------------------------------------- |
| Secp256k1-Programm | `KeccakSecp256k11111111111111111111111111111` | Verifiziert secp256k1-Wiederherstellungsoperationen für öffentliche Schlüssel (ecrecover). | [Anweisungen](https://docs.rs/solana-secp256k1-program/latest/solana_secp256k1_program/index.html) |

Das secp256k1-Programm verarbeitet eine Anweisung. Das erste Byte der Anweisung
enthält die Anzahl der zu überprüfenden öffentlichen Schlüssel. Danach wird die
folgende Struktur einmal für jeden öffentlichen Schlüssel erstellt, dann
serialisiert und zu den Anweisungsdaten hinzugefügt.

```rust
pub struct Secp256k1RecoverOffsets {
    secp_recovery_id_offset: u16,             // Offset zur Wiederherstellungs-ID, 1 Byte
    secp_recovery_id_instruction_index: u16,  // Index der Anweisung, die die Wiederherstellungs-ID enthält
    eth_address_offset: u16,                  // Offset zur Ethereum-Adresse, 20 Bytes
    eth_address_instruction_index: u16,       // Index der Anweisung, die die Ethereum-Adresse enthält
    message_data_offset: u16,                 // Offset zu den Nachrichtendaten
    message_data_size: u16,                   // Größe der Nachrichtendaten
    message_instruction_index: u16,           // Index der Anweisung, die die Nachrichtendaten enthält
    signature_offset: u16,                    // Offset zur Signatur, 64 Bytes
    signature_instruction_index: u16,         // Index der Anweisung, die die Signatur enthält
}
```

Der Pseudocode der Recovery-Verifizierung:

Dies ermöglicht dem Benutzer, beliebige Anweisungsdaten in der Transaktion für
Signatur- und Nachrichtendaten anzugeben. Durch Angabe einer speziellen
Instructions-Sysvar kann man auch Daten aus der Transaktion selbst empfangen.

Die Kosten der Transaktion werden anhand der Anzahl der zu verifizierenden
Signaturen multipliziert mit dem Signaturkosten-Verifizierungsmultiplikator
berechnet.

Das secp256r1-Programm wird verwendet, um bis zu 8 secp256r1-Signaturen zu
verifizieren.

| Programm           | Programm-ID                                   | Beschreibung                                                                                                                                                      | Anweisungen                                                                                      |
| ------------------ | --------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------ |
| Secp256r1-Programm | `Secp256r1SigVerify1111111111111111111111111` | Verifiziert bis zu 8 secp256r1-Signaturen. Nimmt eine Signatur, einen öffentlichen Schlüssel und eine Nachricht. Gibt einen Fehler zurück, wenn eine fehlschlägt. | [Anweisungen](https://docs.rs/solana-secp256r1-program/latest/solana_secp256r1_program/all.html) |

Das secp256r1-Programm verarbeitet eine Anweisung. Das erste Byte der Anweisung
ist eine Anzahl der zu überprüfenden Signaturen, gefolgt von einem einzelnen
Byte Padding. Danach wird die folgende Struktur für jede Signatur erstellt, dann
serialisiert und zu den Anweisungsdaten hinzugefügt.

```rust
fn verify_signature(
    message: &[u8],
    signature: &[u8],
    public_key: &[u8],
) -> Result<(), SignatureError> {
    let signature = Signature::try_from(signature)?;
    let public_key = PublicKey::try_from(public_key)?;

    // Überprüfe, ob die Signatur ein "low S" hat
    if !signature.is_canonical() {
        return Err(SignatureError::InvalidS);
    }

    // Überprüfe, ob die Signatur gültig ist
    if !public_key.verify(message, &signature) {
        return Err(SignatureError::InvalidSignature);
    }

    Ok(())
}
```

<Callout>
  Niedrige S-Werte werden für alle Signaturen erzwungen, um versehentliche
  Signatur- Manipulierbarkeit zu vermeiden.
</Callout>

```rust
fn verify_signatures(
    message: &[u8],
    signatures: &[&[u8]],
    public_keys: &[&[u8]],
) -> Result<(), SignatureError> {
    if signatures.len() != public_keys.len() {
        return Err(SignatureError::MismatchedCount);
    }

    for (signature, public_key) in signatures.iter().zip(public_keys.iter()) {
        verify_signature(message, signature, public_key)?;
    }

    Ok(())
}
```

### Kernprogramme

Die Programme in der folgenden Liste bieten die Kernfunktionalität des
Netzwerks.

| Programm                 | Programm-ID                                   | Beschreibung                                                                                                                                                                                                                                                                                                                                                                                                     | Anweisungen                                                                                                                                           |
| ------------------------ | --------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| **System**               | `11111111111111111111111111111111`            | Erstellt neue Konten, weist Kontendaten zu, weist Konten den besitzenden Programmen zu, überträgt Lamports von System-Programm-eigenen Konten und zahlt Transaktionsgebühren                                                                                                                                                                                                                                     | [SystemInstruction](https://docs.rs/solana-program/latest/solana_program/system_instruction/enum.SystemInstruction.html)                              |
| **Vote**                 | `Vote111111111111111111111111111111111111111` | Erstellt und verwaltet Konten, die den Validator-Abstimmungsstatus und Belohnungen verfolgen                                                                                                                                                                                                                                                                                                                     | [VoteInstruction](https://docs.rs/solana-vote-program/latest/solana_vote_program/vote_instruction/enum.VoteInstruction.html)                          |
| **Stake**                | `Stake11111111111111111111111111111111111111` | Erstellt und verwaltet Konten, die Einsätze und Belohnungen für Delegationen an Validatoren darstellen                                                                                                                                                                                                                                                                                                           | [StakeInstruction](https://docs.rs/solana-sdk/latest/solana_sdk/stake/instruction/enum.StakeInstruction.html)                                         |
| **Config**               | `Config1111111111111111111111111111111111111` | Fügt Konfigurationsdaten zur Chain hinzu, gefolgt von der Liste der öffentlichen Schlüssel, die zu deren Änderung berechtigt sind. Im Gegensatz zu den anderen Programmen definiert das Config-Programm keine einzelnen Anweisungen. Es hat nur eine implizite Anweisung: "store". Seine Anweisungsdaten sind eine Reihe von Schlüsseln, die den Zugriff auf das Konto und die darin gespeicherten Daten steuern | [ConfigInstruction](https://docs.rs/solana-config-program/latest/solana_config_program/config_instruction/index.html)                                 |
| **Compute Budget**       | `ComputeBudget111111111111111111111111111111` | Legt Compute-Unit-Limits und Preise für Transaktionen fest, sodass Benutzer Rechenressourcen und Priorisierungsgebühren kontrollieren können                                                                                                                                                                                                                                                                     | [ComputeBudgetInstruction](https://docs.rs/solana-compute-budget-interface/latest/solana_compute_budget_interface/enum.ComputeBudgetInstruction.html) |
| **Address Lookup Table** | `AddressLookupTab1e1111111111111111111111111` | Verwaltet Adressnachschlagetabellen, die es Transaktionen ermöglichen, mehr Konten zu referenzieren, als sonst in die Kontenliste der Transaktion passen würden                                                                                                                                                                                                                                                  | [ProgramInstruction](https://docs.rs/solana-sdk/latest/solana_sdk/address_lookup_table/instruction/enum.ProgramInstruction.html)                      |
| **ZK ElGamal Proof**     | `ZkTokenProof1111111111111111111111111111111` | Bietet Zero-Knowledge-Proof-Verifizierung für ElGamal-verschlüsselte Daten                                                                                                                                                                                                                                                                                                                                       | —                                                                                                                                                     |

---
title: Anchor CLI 基础
seoTitle: Anchor CLI 入门命令
description: 本节将介绍一些常见的 Anchor CLI 命令，帮助您快速入门。
---

本节将介绍一些常见的 Anchor CLI 命令，帮助您快速入门。有关 Anchor
CLI 的更多信息，请参阅 [Anchor 文档](https://www.anchor-lang.com/docs)。

<Steps>
<Step>

### 初始化项目

要创建一个新的 Anchor 项目，请运行以下命令：

```terminal
$ anchor init <project-name>
```

例如，要创建一个名为 `my-project` 的项目，请运行：

```terminal
$ anchor init my-project
```

此命令会创建一个以项目名称命名的新目录，并初始化一个包含基础 Rust 程序和 TypeScript 测试模板的 Anchor 项目。

导航到项目目录：

```terminal
$ cd <project-name>
```

请参阅 Anchor 项目的
[文件结构](https://www.anchor-lang.com/docs/quickstart/local#project-file-structure)。

</Step>

<Step>
### 构建程序

要构建您的项目，请运行以下命令：

```terminal
$ anchor build
```

您可以在 `/target/deploy` 目录中找到已编译的程序。

<Callout type="warn">

运行 `anchor build` 时，如果遇到以下错误：

<Accordions>
<Accordion title="错误：不是一个目录">

```
error: not a directory: '.../solana-release/bin/sdk/sbf/dependencies/platform-tools/rust/lib'
```

尝试以下解决方案：

1. 使用以下命令强制安装：

```terminal
$ cargo build-sbf --force-tools-install
```

2. 如果上述解决方案无效，请清除 Solana 缓存：

```terminal
$ rm -rf ~/.cache/solana/*
```

</Accordion>

<Accordion title="锁文件版本 4 需要 `-Znext-lockfile-bump">
您可以通过将 `Cargo.lock` 文件的版本字段从 4 更改为 3 来解决此问题：

```diff title="Cargo.lock"
-version = 4
+version = 3
```

有关更多信息，请参见[此问题](https://github.com/solana-foundation/anchor/issues/3392)。

</Accordion>

</Accordions>

应用上述解决方案后，尝试再次运行 _shell`anchor build`_。

</Callout>

</Step>
<Step>

### 部署程序

要部署您的项目，请运行以下命令：

```terminal
$ anchor deploy
```

此命令将您的程序部署到
[`Anchor.toml`](https://www.anchor-lang.com/docs/references/anchor-toml)
文件中指定的 `cluster`。

</Step>
<Step>

### 测试程序

要测试您的项目，请运行以下命令：

```terminal
$ anchor test
```

<Callout>

此命令将构建、部署并运行您的项目测试。

当使用 `localnet` 作为 `cluster` 并在 `Anchor.toml`
中时，Anchor 会自动启动一个本地 validator，部署您的程序，运行测试，然后停止 validator。

</Callout>

<Callout type="warn">

在 Linux 或 WSL 上创建新的 Anchor 项目后运行 _shell`anchor test`_
时，如果未安装 Node.js 或 Yarn，可能会遇到以下错误：

```
Permission denied (os error 13)
```

```
No such file or directory (os error 2)
```

</Callout>

</Step>
</Steps>

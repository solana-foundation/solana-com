---
title: Lukeminen verkosta
description:
  Opi lukemaan dataa Solana-lohkoketjuverkosta. Tämä opas kattaa lompakkotilien,
  ohjelmatilien ja token-tilien hakemisen JavaScript/TypeScript-kielillä, ja
  sisältää käytännön esimerkkejä Solana web3.js-kirjaston käytöstä.
---

Lue dataa Solana-verkosta hakemalla erilaisia tilejä. Tämä osio auttaa sinua
ymmärtämään Solanan [tilien](/docs/core/accounts) rakennetta. Jokaisella
Solana-tilillä on yksilöllinen [osoite](/docs/core/accounts#account-address),
jota käytetään sen vastaavan lohkoketjudatan paikantamiseen. Tilit sisältävät
joko
[tiladataa tai suoritettavan ohjelman](/docs/core/accounts#types-of-accounts).

## Hae lompakkotili

<WithMentions>

Lompakko on tili, jonka omistaa
[System Program](/docs/core/programs#the-system-program). Lompakoita käytetään
pääasiassa SOL-tokenien säilyttämiseen ja transaktioiden allekirjoittamiseen.
Kun SOL-tokeneita lähetetään uuteen osoitteeseen ensimmäistä kertaa,
järjestelmätili luodaan automaattisesti.

Alla oleva esimerkki luo [uuden avainparin](mention:keypair),
[pyytää SOL-tokeneita](mention:airdrop) rahoittaakseen uuden julkisen avaimen
osoitteen ja [hakee tilidatan](mention:info) juuri rahoitetulle lompakolle.

<CodeTabs flags="r">

```ts !! title="Fetch account"
import { Keypair, Connection, LAMPORTS_PER_SOL } from "@solana/web3.js";

// !mention keypair
const keypair = Keypair.generate();
console.log(`Public Key: ${keypair.publicKey}`);

const connection = new Connection("http://localhost:8899", "confirmed");

// Funding an address with SOL automatically creates an account
// !mention airdrop
const signature = await connection.requestAirdrop(
  keypair.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

// !mention info
const accountInfo = await connection.getAccountInfo(keypair.publicKey);
console.log(JSON.stringify(accountInfo, null, 2));
```

</CodeTabs>
</WithMentions>

<ScrollyCoding>

## !!steps

Kun haet lompakkotilin, vastaus sisältää oikealla näkyvässä
esimerkkitulostuksessa esitetyt kentät.

<CodePlaceholder title="Example output" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

`data` -kenttä sisältää tilin datan tallennettuna tavuina. Lompakkotileillä tämä
kenttä on tyhjä (0 tavua).

<CodePlaceholder title="Example output" />

```json !! title="Example output"
{
  // !focus(1:4)
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

`executable` -kenttä osoittaa, sisältääkö tilin `data` -kenttä suoritettavaa
ohjelmakoodia. Lompakkotileillä tämän kentän arvo on `false`.

<CodePlaceholder title="Example output" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  // !focus
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

`lamports` -kenttä sisältää tilin SOL-saldon
[lamporteina](/docs/references/terminology#lamport).

<CodePlaceholder title="Example output" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  // !focus
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

`owner` -kenttä näyttää ohjelman, joka omistaa tilin. Lompakkojen kohdalla
omistaja on aina System Program, jonka osoite on
`11111111111111111111111111111111`.

<CodePlaceholder title="Example output" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  // !focus
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

`rentEpoch` -kenttä on jäänne vanhentuneesta rent-mekanismista. (Tämä kenttä on
sisällytetty taaksepäin yhteensopivuuden vuoksi.)

<CodePlaceholder title="Example output" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  // !focus
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

`space` -kenttä näyttää `data` -kentän sisältämien tavujen määrän. Tämä ei ole
kenttä itse [Account-tyypissä](/docs/core/accounts#account-structure), vaan se
on sisällytetty vastaukseen.

Tässä esimerkissä `space` -kenttä on 0, koska `data` -kenttä sisältää 0 tavua
dataa.

<CodePlaceholder title="Example output" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  // !focus
  "space": 0
}
```

</ScrollyCoding>

## Hae Token Program

Alla oleva esimerkki hakee Token Programin osoittaakseen eron lompakko- ja
program account -tilien välillä. Program account tallentaa käännetyn tavukoodin
Token Programin
[lähdekoodista](https://github.com/solana-program/token/tree/main/program). Voit
tarkastella tätä program accountia
[Solana Explorerissa](https://explorer.solana.com/address/TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA).

<CodeTabs flags="r">

```ts !! title="Fetch program account"
import { Connection, PublicKey } from "@solana/web3.js";

const connection = new Connection(
  "https://api.mainnet.solana.com",
  "confirmed"
);
// !mark(1:2)
const address = new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");
const accountInfo = await connection.getAccountInfo(address);

// !collapse(1:17) collapsed
console.log(
  JSON.stringify(
    accountInfo,
    (key, value) => {
      if (key === "data" && value && value.length > 1) {
        return [
          value[0],
          "...truncated, total bytes: " + value.length + "...",
          value[value.length - 1]
        ];
      }
      return value;
    },
    2
  )
);
```

</CodeTabs>

<ScrollyCoding>

## !!steps

Token Program on suoritettava program account. Ohjelmilla on samat peruskentät
kuin kaikilla [tileillä](/docs/core/accounts#account-structure), mutta
merkittävin eroin.

<CodePlaceholder title="Token program account" />

```json !! title="Token program account"
{
  "data": {
    "type": "Buffer",
    "data": [127, "...truncated, total bytes: 134080...", 0]
  },
  "executable": true,
  "lamports": 4522329612,
  "owner": "BPFLoader2111111111111111111111111111111111",
  "rentEpoch": 18446744073709552000,
  "space": 134080
}
```

## !!steps

`executable` -kenttä on asetettu arvoon `true`, mikä osoittaa, että tilin `data`
-kenttä sisältää suoritettavaa koodia.

<CodePlaceholder title="Token program account" />

```json !! title="Token program account"
{
  "data": {
    "type": "Buffer",
    "data": [127, "...truncated, total bytes: 134080...", 0]
  },
  // !focus
  "executable": true,
  "lamports": 4522329612,
  "owner": "BPFLoader2111111111111111111111111111111111",
  "rentEpoch": 18446744073709552000,
  "space": 134080
}
```

## !!steps

`data` -kenttä tallentaa ohjelman suoritettavan koodin.

<CodePlaceholder title="Token program account" />

```json !! title="Token program account"
{
  // !focus(1:4)
  "data": {
    "type": "Buffer",
    "data": [127, "...truncated, total bytes: 134080...", 0]
  },
  "executable": true,
  "lamports": 4522329612,
  "owner": "BPFLoader2111111111111111111111111111111111",
  "rentEpoch": 18446744073709552000,
  "space": 134080
}
```

## !!steps

Jokaisen program account -tilin omistaa sen
[lataaja-ohjelma](/docs/core/programs#loader-programs). Tässä esimerkissä
`owner` on BPFLoader2-ohjelma.

<CodePlaceholder title="Token program account" />

```json !! title="Token program account"
{
  "data": {
    "type": "Buffer",
    "data": [127, "...truncated, total bytes: 134080...", 0]
  },
  "executable": true,
  "lamports": 4522329612,
  // !focus
  "owner": "BPFLoader2111111111111111111111111111111111",
  "rentEpoch": 18446744073709552000,
  "space": 134080
}
```

</ScrollyCoding>

## Hae mint account

[Mint account](https://github.com/solana-program/token/blob/program%40v8.0.0/program/src/state.rs#L16-L30)
on Token Program -ohjelman omistama tili, joka tallentaa tietyn tokenin
globaalit metatiedot. Näihin kuuluvat kokonaistarjonta, desimaalien määrä ja
tilit, joilla on valtuudet luoda tai jäädyttää tokeneita. Mint account -tilin
osoite yksilöi tokenin Solana-verkossa.

Alla oleva esimerkki hakee USD Coin Mint -tilin havainnollistaakseen, miten
ohjelman tila tallennetaan erilliseen tiliin.

<CodeTabs flags="r">

```ts !! title="Fetch program account"
import { Connection, PublicKey } from "@solana/web3.js";

const connection = new Connection(
  "https://api.mainnet.solana.com",
  "confirmed"
);

// !mark(1:2)
const address = new PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");
const accountInfo = await connection.getAccountInfo(address);

// !collapse(1:17) collapsed
console.log(
  JSON.stringify(
    accountInfo,
    (key, value) => {
      if (key === "data" && value && value.length > 1) {
        return [
          value[0],
          "...truncated, total bytes: " + value.length + "...",
          value[value.length - 1]
        ];
      }
      return value;
    },
    2
  )
);
```

</CodeTabs>

<ScrollyCoding>

## !!steps

Mint account -tilit tallentavat tilaa, eivät suoritettavaa koodia. Niiden
omistaja on Token Program, joka sisältää ohjeet siitä, miten mint account
-tilejä luodaan ja päivitetään.

<CodePlaceholder title="Mint account" />

```json !! title="Mint account"
{
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  "executable": false,
  "lamports": 407438077149,
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

## !!steps

Mint account -tilin `data` -kenttä tallentaa tilaa, ei suoritettavaa koodia,
joten `executable` -kenttä on `false`.

Token Program määrittelee `Mint` -datatyypin, joka tallennetaan `data`
-kenttään.

<CodePlaceholder title="Mint account" />

```json !! title="Mint account"
{
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  // !focus
  "executable": false,
  "lamports": 407438077149,
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

## !!steps

`data` -kenttä sisältää serialisoidun `Mint` -tilatiedon, kuten mint authorityn,
kokonaistarjonnan ja desimaalien määrän.

Lukeaksesi Mint account -tiliä, sinun täytyy deserialisoida `data` -kenttä
`Mint` -datatyypiksi, mikä näytetään
[seuraavassa esimerkissä](#deserialize-mint-account).

<CodePlaceholder title="Mint account" />

```json !! title="Mint account"
{
  // !focus(1:4)
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  "executable": false,
  "lamports": 407438077149,
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

## !!steps

Mint account -tilin omistaa
[Token Program](/docs/references/terminology#token-program). Tämä tarkoittaa,
että sen `data` -kenttää voi muokata vain Token Program -ohjelman ohjeilla.

<CodePlaceholder title="Mint Account" />

```json !! title="Mint Account"
{
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  "executable": false,
  "lamports": 407438077149,
  // !focus
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

</ScrollyCoding>

## Mint account -tilin deserialisointi

Ennen kuin tilin `data` -kentän raakadataa voidaan tulkita mielekkäästi, se
täytyy deserialisoida. Asianmukaisen datatyypin määrittelee ohjelma, joka
omistaa tilin. Useimmat Solana-ohjelmat tarjoavat asiakaskirjastoja
apufunktioilla, jotka abstrahoivat deserialisointiprosessin. Nämä funktiot
muuntavat tilin raakatavut jäsennellyiksi datatyypeiksi, mikä helpottaa
tilidatan käsittelyä.

<WithMentions>

Esimerkiksi _shell`@solana/spl-token`_ -kirjasto sisältää
[_ts`getMint()`_](mention:one) -funktion, joka auttaa deserialisoimaan mint
account -tilin `data` -kentän
[Mint](https://github.com/solana-program/token/blob/program%40v8.0.0/program/src/state.rs#L16-L30)
-datatyypiksi, jonka Token Program on määritellyt.

<CodeTabs flags="r">

```ts !! title="Deserialize mint account data"
import { PublicKey, Connection } from "@solana/web3.js";
import { getMint } from "@solana/spl-token";

const connection = new Connection(
  "https://api.mainnet.solana.com",
  "confirmed"
);

const address = new PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");
// !mention one
const mintData = await getMint(connection, address, "confirmed");

// !collapse(1:17) collapsed
console.log(
  JSON.stringify(
    mintData,
    (key, value) => {
      // Convert BigInt to String
      if (typeof value === "bigint") {
        return value.toString();
      }
      // Handle Buffer objects
      if (Buffer.isBuffer(value)) {
        return `<Buffer ${value.toString("hex")}>`;
      }
      return value;
    },
    2
  )
);
```

</CodeTabs>

</WithMentions>

```rs title="Mint account type"
pub struct Mint {
    /// Optional authority used to mint new tokens. The mint authority may only
    /// be provided during mint creation. If no mint authority is present
    /// then the mint has a fixed supply and no further tokens may be
    /// minted.
    pub mint_authority: COption<Pubkey>,
    /// Total supply of tokens.
    pub supply: u64,
    /// Number of base 10 digits to the right of the decimal place.
    pub decimals: u8,
    /// Is `true` if this structure has been initialized
    pub is_initialized: bool,
    /// Optional authority to freeze token accounts.
    pub freeze_authority: COption<Pubkey>,
}
```

<ScrollyCoding>

## !!steps

_ts`getMint()`_ -funktio purkaa mint account -tilin `data` -kentän Mint account
-tyypiksi.

```json title="Mint account"
{
  // !focus(1:4)
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  "executable": false,
  "lamports": 407438077149,
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

Voit tarkastella täysin purettua
[mint account](https://explorer.solana.com/address/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v?cluster=mainnet-beta)
-dataa Solana Explorerissa.

<CodePlaceholder title="Purettu Mint-data" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

`address` -kenttä sisältää mint account -tilin osoitteen.

<CodePlaceholder title="Purettu Mint-data" />

```json !! title="Deserialized mint data"
{
  // !focus
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

`mintAuthority` -kenttä näyttää ainoan tilin, joka voi luoda uusia tokenin
yksiköitä.

<CodePlaceholder title="Purettu Mint-data" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  // !focus
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

`supply` -kenttä näyttää luotujen tokenien kokonaismäärän. Tämä arvo mitataan
tokenin pienimmässä yksikössä. Saadaksesi kokonaistarjonnan standardiyksiköissä,
mukauta `supply` -kentän arvoa `decimals` -arvon mukaan.

<CodePlaceholder title="Purettu Mint-data" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  // !focus
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

`decimals` -kenttä näyttää tokenin desimaalipaikkojen määrän.

<CodePlaceholder title="Purettu Mint-data" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  // !focus
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

`isInitialized` -kenttä ilmaisee, onko mint account -tili alustettu. Tätä
kenttää käytetään turvallisuustarkistuksena Token Program -ohjelmassa.

<CodePlaceholder title="Purettu Mint-data" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  // !focus
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

`freezeAuthority` -kenttä näyttää tilin, jolla on valtuudet jäädyttää token
account -tilejä. Jäädytetty token account ei voi siirtää tai polttaa
sisältämäänsä tokenia.

<CodePlaceholder title="Purettu Mint-data" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  // !focus
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

`tlvData` -kenttä sisältää lisätietoja Token Extensions -ominaisuuksille ja
vaatii lisäpurkamista. Tämä kenttä on merkityksellinen vain tileille, jotka on
luotu [Token Extension Program](/docs/tokens/extensions) -ohjelmalla
(Token2022).

<CodePlaceholder title="Purettu Mint-data" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  // !focus(1:4)
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

</ScrollyCoding>

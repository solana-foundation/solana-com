---
title: Ghi dữ liệu lên Mạng
description:
  Tìm hiểu cách tương tác với mạng Solana bằng cách gửi giao dịch và hướng dẫn.
  Theo dõi các ví dụ từng bước để chuyển token SOL và tạo token mới bằng System
  Program và Token Extensions Program.
---

Trong phần trước, bạn đã học cách đọc dữ liệu từ mạng Solana. Bây giờ bạn sẽ học
cách ghi dữ liệu vào mạng. Việc ghi dữ liệu vào mạng Solana liên quan đến việc
gửi các giao dịch chứa một hoặc nhiều chỉ thị.

Các chương trình định nghĩa logic nghiệp vụ cho những gì mỗi
[chỉ thị](/docs/core/instructions) thực hiện. Khi bạn gửi một
[giao dịch](/docs/core/transactions), thời gian chạy Solana thực thi từng chỉ
thị theo trình tự và một cách nguyên tử. Các ví dụ trong phần này cho thấy cách
xây dựng và gửi giao dịch để gọi các chương trình Solana, bao gồm:

1. Chuyển SOL giữa các tài khoản
2. Tạo một token mới

## Chuyển SOL

Ví dụ dưới đây chuyển SOL giữa hai tài khoản. Mỗi tài khoản có một chương trình
sở hữu, đây là chương trình duy nhất có thể trừ số dư SOL của tài khoản.

Tất cả các tài khoản ví đều thuộc sở hữu của System Program. Để chuyển SOL, bạn
phải gọi chỉ thị
[transfer](https://github.com/anza-xyz/agave/blob/v2.1.11/programs/system/src/system_processor.rs#L183-L213)
của System Program.

<WithNotes>

<CodeTabs flags="r">

```ts !! title="Transfer SOL"
import {
  LAMPORTS_PER_SOL,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  Keypair,
  Connection
} from "@solana/web3.js";

// !tooltip[/connection/] connection
const connection = new Connection("http://localhost:8899", "confirmed");

// !tooltip[/sender/] sender
const sender = new Keypair();
// !tooltip[/receiver/] receiver
const receiver = new Keypair();

// !tooltip[/requestAirdrop/] airdrop
const signature = await connection.requestAirdrop(
  sender.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

// !tooltip[/transferInstruction/] instruction
const transferInstruction = SystemProgram.transfer({
  fromPubkey: sender.publicKey,
  toPubkey: receiver.publicKey,
  lamports: 0.01 * LAMPORTS_PER_SOL
});

// !tooltip[/transaction/] transaction
const transaction = new Transaction().add(transferInstruction);

// !tooltip[/sendAndConfirmTransaction/] sendAndConfirmTransaction
const transactionSignature = await sendAndConfirmTransaction(
  connection,
  transaction,
  [sender]
);

console.log("Transaction Signature:", `${transactionSignature}`);

const senderBalance = await connection.getBalance(sender.publicKey);
const receiverBalance = await connection.getBalance(receiver.publicKey);

console.log("Sender Balance:", `${senderBalance}`);
console.log("Receiver Balance:", `${receiverBalance}`);
```

</CodeTabs>

### !connection

Tạo kết nối đến một cụm Solana.

### !sender

Tạo một cặp khóa mới để sử dụng làm `sender`.

### !receiver

Tạo một cặp khóa mới để sử dụng làm `receiver`.

### !airdrop

Yêu cầu airdrop SOL để cấp vốn cho `sender`.

### !instruction

Xây dựng chỉ thị để gọi chỉ thị transfer của System Program.

### !transaction

Tạo giao dịch mới và thêm chỉ thị chuyển tiền.

### !sendAndConfirmTransaction

Gửi giao dịch.

</WithNotes>

<ScrollyCoding>

## !!steps

Tạo một `Connection` để xử lý việc gửi giao dịch và lấy dữ liệu tài khoản.

Trong ví dụ này, chúng ta đang kết nối đến validator thử nghiệm cục bộ chạy trên
`localhost:8899`.

```ts title="Connection"
const connection = new Connection("http://localhost:8899", "confirmed");
```

```ts !! title="Transfer SOL"
import {
  LAMPORTS_PER_SOL,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  Keypair,
  Connection
} from "@solana/web3.js";

// !focus
const connection = new Connection("http://localhost:8899", "confirmed");
```

## !!steps

Tạo [cặp khóa](/docs/core/accounts#public-key) mới để sử dụng làm tài khoản
người gửi và người nhận.

```ts title="Generate keypairs"
const sender = new Keypair();
const receiver = new Keypair();
```

```ts !! title="Transfer SOL"
import {
  LAMPORTS_PER_SOL,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  Keypair,
  Connection
} from "@solana/web3.js";

const connection = new Connection("http://localhost:8899", "confirmed");

// !focus(1:2)
const sender = new Keypair();
const receiver = new Keypair();
```

## !!steps

Thêm SOL vào tài khoản người gửi. Trên các mạng khác ngoài mainnet, bạn có thể
sử dụng phương thức `requestAirdrop` để nhận SOL cho việc kiểm thử.

```ts title="Airdrop"
const signature = await connection.requestAirdrop(
  sender.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");
```

```ts !! title="Transfer SOL"
import {
  LAMPORTS_PER_SOL,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  Keypair,
  Connection
} from "@solana/web3.js";

const connection = new Connection("http://localhost:8899", "confirmed");

const sender = new Keypair();
const receiver = new Keypair();

// !focus(1:5)
const signature = await connection.requestAirdrop(
  sender.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");
```

## !!steps

<WithMentions>

Phương thức `SystemProgram.transfer()` tạo một chỉ thị chuyển SOL từ tài khoản
[`fromPubkey`](mention:from) đến tài khoản [`toPubkey`](mention:to) với số lượng
[`lamports`](mention:lamports) được chỉ định.

```ts title="Transfer instruction"
const transferInstruction = SystemProgram.transfer({
  // !mention from
  fromPubkey: sender.publicKey,
  // !mention to
  toPubkey: receiver.publicKey,
  // !mention lamports
  lamports: 0.01 * LAMPORTS_PER_SOL
});
```

</WithMentions>

```ts !! title="Transfer SOL"
import {
  LAMPORTS_PER_SOL,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  Keypair,
  Connection
} from "@solana/web3.js";

const connection = new Connection("http://localhost:8899", "confirmed");

const sender = new Keypair();
const receiver = new Keypair();

const signature = await connection.requestAirdrop(
  sender.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

// !focus(1:5)
const transferInstruction = SystemProgram.transfer({
  fromPubkey: sender.publicKey,
  toPubkey: receiver.publicKey,
  lamports: 0.01 * LAMPORTS_PER_SOL
});
```

## !!steps

Tạo một giao dịch và thêm chỉ thị vào giao dịch. Trong ví dụ này, chúng ta đang
tạo một giao dịch với một chỉ thị duy nhất. Tuy nhiên, bạn có thể thêm nhiều chỉ
thị vào một giao dịch.

```ts title="Transaction"
const transaction = new Transaction().add(transferInstruction);
```

```ts !! title="Transfer SOL"
import {
  LAMPORTS_PER_SOL,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  Keypair,
  Connection
} from "@solana/web3.js";

const connection = new Connection("http://localhost:8899", "confirmed");

const sender = new Keypair();
const receiver = new Keypair();

const signature = await connection.requestAirdrop(
  sender.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

const transferInstruction = SystemProgram.transfer({
  fromPubkey: sender.publicKey,
  toPubkey: receiver.publicKey,
  lamports: 0.01 * LAMPORTS_PER_SOL
});

// !focus
const transaction = new Transaction().add(transferInstruction);
```

## !!steps

<WithMentions>

Ký và gửi [giao dịch](mention:transaction) đến mạng lưới. Keypair của
[người gửi](mention:sender) cần phải có trong mảng người ký để ủy quyền cho việc
chuyển SOL từ tài khoản của họ.

```ts title="Send transaction"
const transactionSignature = await sendAndConfirmTransaction(
  connection,
  // !mention transaction
  transaction,
  // !mention sender
  [sender]
);
```

</WithMentions>

Chữ ký giao dịch là một định danh duy nhất có thể được sử dụng để tra cứu giao
dịch trên Solana Explorer.

```ts !! title="Transfer SOL"
import {
  LAMPORTS_PER_SOL,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  Keypair,
  Connection
} from "@solana/web3.js";

const connection = new Connection("http://localhost:8899", "confirmed");

const sender = new Keypair();
const receiver = new Keypair();

const signature = await connection.requestAirdrop(
  sender.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

const transferInstruction = SystemProgram.transfer({
  fromPubkey: sender.publicKey,
  toPubkey: receiver.publicKey,
  lamports: 0.01 * LAMPORTS_PER_SOL
});

const transaction = new Transaction().add(transferInstruction);

// !focus(1:6)
const transactionSignature = await sendAndConfirmTransaction(
  connection,
  transaction,
  [sender]
);

console.log("Transaction Signature:", `${transactionSignature}`);
```

</ScrollyCoding>

## Tạo một token

Ví dụ dưới đây tạo một token mới trên Solana sử dụng Token Extensions Program.
Điều này yêu cầu hai chỉ thị:

1. Gọi System Program để tạo một tài khoản mới.
2. Gọi Token Extensions Program để khởi tạo tài khoản đó như một Mint.

<WithNotes>

<CodeTabs flags="r">

```ts !! title="Create mint account"
import {
  Connection,
  Keypair,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  LAMPORTS_PER_SOL
} from "@solana/web3.js";
import {
  MINT_SIZE,
  TOKEN_2022_PROGRAM_ID,
  createInitializeMint2Instruction,
  getMinimumBalanceForRentExemptMint,
  getMint
} from "@solana/spl-token";

const connection = new Connection("http://localhost:8899", "confirmed");

// !tooltip[/wallet/] wallet
const wallet = new Keypair();
// Fund the wallet with SOL
const signature = await connection.requestAirdrop(
  wallet.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

// Generate keypair to use as address of mint account
// !tooltip[/mint/] mint
const mint = new Keypair();

// Calculate lamports required for rent exemption
// !tooltip[/rentExemptionLamports/] rentExemptionLamports
const rentExemptionLamports =
  await getMinimumBalanceForRentExemptMint(connection);

// Instruction to create new account with space for new mint account
// !tooltip[/createAccountInstruction/] createAccountInstruction
const createAccountInstruction = SystemProgram.createAccount({
  fromPubkey: wallet.publicKey,
  newAccountPubkey: mint.publicKey,
  space: MINT_SIZE,
  lamports: rentExemptionLamports,
  programId: TOKEN_2022_PROGRAM_ID
});

// Instruction to initialize mint account
// !tooltip[/initializeMintInstruction/] initializeMintInstruction
const initializeMintInstruction = createInitializeMint2Instruction(
  mint.publicKey,
  2, // decimals
  wallet.publicKey, // mint authority
  wallet.publicKey, // freeze authority
  TOKEN_2022_PROGRAM_ID
);

// Build transaction with instructions to create new account and initialize mint account
// !tooltip[/transaction/] transaction
const transaction = new Transaction().add(
  createAccountInstruction,
  initializeMintInstruction
);

// !tooltip[/sendAndConfirmTransaction/] sendAndConfirmTransaction
const transactionSignature = await sendAndConfirmTransaction(
  connection,
  transaction,
  [
    wallet, // payer
    mint // mint address keypair
  ]
);

console.log("Transaction Signature:", `${transactionSignature}`);

const mintData = await getMint(
  connection,
  mint.publicKey,
  "confirmed",
  TOKEN_2022_PROGRAM_ID
);
// !collapse(1:17) collapsed
console.log(
  "Mint Account:",
  JSON.stringify(
    mintData,
    (key, value) => {
      // Convert BigInt to String
      if (typeof value === "bigint") {
        return value.toString();
      }
      // Handle Buffer objects
      if (Buffer.isBuffer(value)) {
        return `<Buffer ${value.toString("hex")}>`;
      }
      return value;
    },
    2
  )
);
```

</CodeTabs>

### !wallet

Tạo một keypair mới để sử dụng làm ví.

### !mint

Tạo một keypair mới để sử dụng làm địa chỉ của mint account cần tạo.

### !rentLamports

Tính toán số lượng lamport cần thiết cho một mint account.

### !rentExemptionLamports

Tính toán số lượng lamport cần thiết để miễn rent

### !createAccountInstruction

Xây dựng chỉ thị để tạo một tài khoản mới với không gian cho loại tài khoản Mint
và được sở hữu bởi Token Extensions Program.

### !initializeMintInstruction

Xây dựng chỉ thị để khởi tạo dữ liệu của tài khoản mới như một loại tài khoản
Mint.

### !transaction

Tạo giao dịch mới và thêm cả hai chỉ thị.

Thứ tự của các chỉ thị rất quan trọng ở đây. `createAccountInstruction` phải đến
trước `initializeMintInstruction`.

### !sendAndConfirmTransaction

Gửi giao dịch.

</WithNotes>

<ScrollyCoding>

## !!steps

Việc tạo token yêu cầu sử dụng cả thư viện `@solana/web3.js` và
`@solana/spl-token`. Mã trong ví dụ dưới đây sẽ:

<WithMentions>

- [Tạo kết nối](mention:connection)
- [Tạo một keypair](mention:wallet) để thanh toán cho giao dịch
- [Yêu cầu airdrop](mention:airdrop) để cấp vốn cho keypair

```ts title="Connection & wallet setup"
// !mention connection
const connection = new Connection("http://localhost:8899", "confirmed");

// !mention wallet
const wallet = new Keypair();
// !mention(1:4) airdrop
const signature = await connection.requestAirdrop(
  wallet.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");
```

</WithMentions>

```ts !! title="Create mint account"
import {
  Connection,
  Keypair,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  LAMPORTS_PER_SOL
} from "@solana/web3.js";
import {
  MINT_SIZE,
  TOKEN_2022_PROGRAM_ID,
  createInitializeMint2Instruction,
  getMinimumBalanceForRentExemptMint,
  getMint
} from "@solana/spl-token";

// !focus(1:8)
const connection = new Connection("http://localhost:8899", "confirmed");

const wallet = new Keypair();
const signature = await connection.requestAirdrop(
  wallet.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");
```

## !!steps

Tạo một keypair cho tài khoản mint. Khóa công khai sẽ được sử dụng làm địa chỉ
của tài khoản mint.

```ts title="Mint keypair"
const mint = new Keypair();
```

```ts !! title="Create mint account"
import {
  Connection,
  Keypair,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  LAMPORTS_PER_SOL
} from "@solana/web3.js";
import {
  MINT_SIZE,
  TOKEN_2022_PROGRAM_ID,
  createInitializeMint2Instruction,
  getMinimumBalanceForRentExemptMint,
  getMint
} from "@solana/spl-token";

const connection = new Connection("http://localhost:8899", "confirmed");

const wallet = new Keypair();
const signature = await connection.requestAirdrop(
  wallet.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

// !focus
const mint = new Keypair();
```

## !!steps

Tính toán số lượng lamport tối thiểu cần thiết cho một tài khoản mint. Hàm
`getMinimumBalanceForRentExemptMint` tính toán số lượng lamport phải được phân
bổ cho dữ liệu trên một tài khoản mint.

```ts title="Rent exemption"
const rentExemptionLamports =
  await getMinimumBalanceForRentExemptMint(connection);
```

```ts !! title="Create mint account"
import {
  Connection,
  Keypair,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  LAMPORTS_PER_SOL
} from "@solana/web3.js";
import {
  MINT_SIZE,
  TOKEN_2022_PROGRAM_ID,
  createInitializeMint2Instruction,
  getMinimumBalanceForRentExemptMint,
  getMint
} from "@solana/spl-token";

const connection = new Connection("http://localhost:8899", "confirmed");

const wallet = new Keypair();
const signature = await connection.requestAirdrop(
  wallet.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

const mint = new Keypair();

// !focus(1:2)
const rentExemptionLamports =
  await getMinimumBalanceForRentExemptMint(connection);
```

## !!steps

<WithMentions>

Chỉ thị đầu tiên gọi chỉ thị `createAccount` của System Program để:

1. Phân bổ [số lượng byte](mention:space) cần thiết để lưu trữ dữ liệu mint.
2. [Chuyển lamports](mention:lamports) từ ví để cấp vốn cho tài khoản mới.
3. [Gán quyền sở hữu](mention:programId) của tài khoản cho
   [Token Extensions Program](/docs/tokens/extensions).

```ts title="Create account instruction"
const createAccountInstruction = SystemProgram.createAccount({
  // !mention(1:2) lamports
  fromPubkey: wallet.publicKey,
  newAccountPubkey: mint.publicKey,
  // !mention space
  space: MINT_SIZE,
  // !mention lamports
  lamports: rentExemptionLamports,
  // !mention programId
  programId: TOKEN_2022_PROGRAM_ID
});
```

</WithMentions>

```ts !! title="Create mint account"
import {
  Connection,
  Keypair,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  LAMPORTS_PER_SOL
} from "@solana/web3.js";
import {
  MINT_SIZE,
  TOKEN_2022_PROGRAM_ID,
  createInitializeMint2Instruction,
  getMinimumBalanceForRentExemptMint,
  getMint
} from "@solana/spl-token";

const connection = new Connection("http://localhost:8899", "confirmed");

const wallet = new Keypair();
const signature = await connection.requestAirdrop(
  wallet.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

const mint = new Keypair();

const rentExemptionLamports =
  await getMinimumBalanceForRentExemptMint(connection);

// !focus(1:7)
const createAccountInstruction = SystemProgram.createAccount({
  fromPubkey: wallet.publicKey,
  newAccountPubkey: mint.publicKey,
  space: MINT_SIZE,
  lamports: rentExemptionLamports,
  programId: TOKEN_2022_PROGRAM_ID
});
```

## !!steps

<WithMentions>

Chỉ thị thứ hai gọi hướng dẫn `createInitializeMint2Instruction` của
[Token Extensions Program](mention:programId) để khởi tạo tài khoản mint với các
dữ liệu sau:

- [2 số thập phân](mention:decimals)
- [Ví](mention:authority) đóng vai trò là cả mint authority và freeze authority

```ts title="Initialize mint instruction"
const initializeMintInstruction = createInitializeMint2Instruction(
  mint.publicKey,
  // !mention decimals
  2,
  // !mention authority
  wallet.publicKey,
  // !mention authority
  wallet.publicKey,
  // !mention programId
  TOKEN_2022_PROGRAM_ID
);
```

</WithMentions>

```ts !! title="Create mint account"
import {
  Connection,
  Keypair,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  LAMPORTS_PER_SOL
} from "@solana/web3.js";
import {
  MINT_SIZE,
  TOKEN_2022_PROGRAM_ID,
  createInitializeMint2Instruction,
  getMinimumBalanceForRentExemptMint,
  getMint
} from "@solana/spl-token";

const connection = new Connection("http://localhost:8899", "confirmed");

const wallet = new Keypair();
const signature = await connection.requestAirdrop(
  wallet.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

const mint = new Keypair();

const rentExemptionLamports =
  await getMinimumBalanceForRentExemptMint(connection);

const createAccountInstruction = SystemProgram.createAccount({
  fromPubkey: wallet.publicKey,
  newAccountPubkey: mint.publicKey,
  space: MINT_SIZE,
  lamports: rentExemptionLamports,
  programId: TOKEN_2022_PROGRAM_ID
});

// !focus(1:6)
const initializeMintInstruction = createInitializeMint2Instruction(
  mint.publicKey,
  2, // decimals
  wallet.publicKey, // mint authority
  wallet.publicKey, // freeze authority
  TOKEN_2022_PROGRAM_ID
);
```

## !!steps

Thêm cả hai chỉ thị vào một giao dịch duy nhất. Điều này đảm bảo rằng việc tạo
tài khoản và khởi tạo xảy ra một cách nguyên tử. (Hoặc cả hai chỉ thị thành
công, hoặc không có chỉ thị nào thành công.)

Cách tiếp cận này phổ biến khi xây dựng các giao dịch Solana phức tạp, vì nó đảm
bảo rằng tất cả các chỉ thị được thực thi cùng nhau.

```ts title="Transaction"
const transaction = new Transaction().add(
  createAccountInstruction,
  initializeMintInstruction
);
```

```ts !! title="Create mint account"
import {
  Connection,
  Keypair,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  LAMPORTS_PER_SOL
} from "@solana/web3.js";
import {
  MINT_SIZE,
  TOKEN_2022_PROGRAM_ID,
  createInitializeMint2Instruction,
  getMinimumBalanceForRentExemptMint,
  getMint
} from "@solana/spl-token";

const connection = new Connection("http://localhost:8899", "confirmed");

const wallet = new Keypair();
const signature = await connection.requestAirdrop(
  wallet.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

const mint = new Keypair();

const rentExemptionLamports =
  await getMinimumBalanceForRentExemptMint(connection);

const createAccountInstruction = SystemProgram.createAccount({
  fromPubkey: wallet.publicKey,
  newAccountPubkey: mint.publicKey,
  space: MINT_SIZE,
  lamports: rentExemptionLamports,
  programId: TOKEN_2022_PROGRAM_ID
});

const initializeMintInstruction = createInitializeMint2Instruction(
  mint.publicKey,
  2, // decimals
  wallet.publicKey, // mint authority
  wallet.publicKey, // freeze authority
  TOKEN_2022_PROGRAM_ID
);

// !focus(1:4)
const transaction = new Transaction().add(
  createAccountInstruction,
  initializeMintInstruction
);
```

## !!steps

<WithMentions>

Ký và gửi giao dịch. Hai chữ ký được yêu cầu:

- Tài khoản [ví](mention:wallet) ký với tư cách là người thanh toán cho
  [phí giao dịch](/docs/core/fees) và việc tạo tài khoản
- Tài khoản [mint](mention:mint) ký để ủy quyền việc sử dụng địa chỉ của nó cho
  tài khoản mới

```ts title="Send transaction"
const transactionSignature = await sendAndConfirmTransaction(
  connection,
  transaction,
  [
    // !mention wallet
    wallet,
    // !mention mint
    mint
  ]
);
```

Chữ ký giao dịch được trả về có thể được sử dụng để kiểm tra giao dịch trên
Solana Explorer.

</WithMentions>

```ts !! title="Create mint account"
import {
  Connection,
  Keypair,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  LAMPORTS_PER_SOL
} from "@solana/web3.js";
import {
  MINT_SIZE,
  TOKEN_2022_PROGRAM_ID,
  createInitializeMint2Instruction,
  getMinimumBalanceForRentExemptMint,
  getMint
} from "@solana/spl-token";

const connection = new Connection("http://localhost:8899", "confirmed");

const wallet = new Keypair();
const signature = await connection.requestAirdrop(
  wallet.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

const mint = new Keypair();

const rentExemptionLamports =
  await getMinimumBalanceForRentExemptMint(connection);

const createAccountInstruction = SystemProgram.createAccount({
  fromPubkey: wallet.publicKey,
  newAccountPubkey: mint.publicKey,
  space: MINT_SIZE,
  lamports: rentExemptionLamports,
  programId: TOKEN_2022_PROGRAM_ID
});

const initializeMintInstruction = createInitializeMint2Instruction(
  mint.publicKey,
  2, // decimals
  wallet.publicKey, // mint authority
  wallet.publicKey, // freeze authority
  TOKEN_2022_PROGRAM_ID
);

const transaction = new Transaction().add(
  createAccountInstruction,
  initializeMintInstruction
);

// !focus(1:9)
const transactionSignature = await sendAndConfirmTransaction(
  connection,
  transaction,
  [
    wallet, // payer
    mint // mint address keypair
  ]
);

console.log("Transaction Signature:", `${transactionSignature}`);
```

</ScrollyCoding>

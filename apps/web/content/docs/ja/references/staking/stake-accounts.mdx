---
title: ステークアカウント
---

Solanaのステークアカウントは、トークンをネットワーク上のvalidatorに委任して、ステークアカウントの所有者が報酬を獲得する可能性があります。ステークアカウントは、*システムアカウント*として知られる従来のウォレットアドレスとは異なる方法で作成・管理されます。システムアカウントはネットワーク上の他のアカウントからSOLを送受信することしかできませんが、ステークアカウントはトークンの委任を管理するために必要なより複雑な操作をサポートしています。

Solanaのステークアカウントは、あなたが馴染みのある他のプルーフ・オブ・ステークブロックチェーンネットワークとも異なる仕組みで動作します。このドキュメントでは、Solanaステークアカウントの高レベルの構造と機能について説明します。

### アカウントアドレス

各ステークアカウントには固有のアドレスがあり、コマンドラインやネットワークエクスプローラーツールでアカウント情報を検索するために使用できます。しかし、ウォレットアドレスではアドレスのキーペアの所有者がウォレットを制御するのとは異なり、ステークアカウントアドレスに関連付けられたキーペアは必ずしもアカウントを制御する権限を持っているわけではありません。実際、ステークアカウントのアドレスに対応するキーペアや秘密鍵が存在しない場合もあります。

ステークアカウントのアドレスにキーペアファイルが存在するのは、[コマンドラインツールを使用してステークアカウントを作成する](https://docs.anza.xyz/cli/examples/delegate-stake#create-a-stake-account)場合のみです。新しいキーペアファイルが最初に作成されるのは、ステークアカウントのアドレスが新しく一意であることを確認するためだけです。

### アカウント権限の理解

特定のタイプのアカウントには、1つ以上の*署名権限*が関連付けられている場合があります。アカウント権限は、制御するアカウントの特定のトランザクションに署名するために使用されます。これは、アカウントアドレスに関連付けられたキーペアの所有者がアカウントのすべてのアクティビティを制御する他のブロックチェーンネットワークとは異なります。

各ステークアカウントには、それぞれのアドレスで指定された2つの署名権限があり、それぞれがステークアカウントに対する特定の操作を実行する権限を持っています。

*ステーク権限*は以下の操作のためのトランザクションに署名するために使用されます：

- ステークの委任
- ステーク委任の非アクティブ化
- ステークアカウントの分割（最初のアカウントの資金の一部で新しいステークアカウントを作成）
- 2つのステークアカウントを1つに統合
- 新しいステーク権限の設定

*引き出し権限*は以下のためのトランザクションに署名します：

- 委任されていないステークをウォレットアドレスに引き出す
- 新しい引き出し権限の設定
- 新しいステーク権限の設定

ステーク権限と引き出し権限はステークアカウントの作成時に設定され、いつでも新しい署名アドレスを承認するように変更できます。ステーク権限と引き出し権限は同じアドレスでも、2つの異なるアドレスでも構いません。

引き出し権限のkeypairはステークアカウント内のトークンを清算するために必要であり、ステーク権限のkeypairが紛失または侵害された場合にステーク権限をリセットするために使用できるため、アカウントに対するより多くの制御権を持っています。

ステークアカウントを管理する際には、引き出し権限を紛失や盗難から保護することが最も重要です。

### 複数の委任

各ステークアカウントは一度に1つのvalidatorにのみ委任できます。アカウント内のすべてのトークンは委任されているか、委任されていないか、あるいは委任または委任解除のプロセス中のいずれかです。トークンの一部をvalidatorに委任したり、複数のvalidatorに委任したりするには、複数のステークアカウントを作成する必要があります。

これは、いくつかのトークンを含むウォレットアドレスから複数のステークアカウントを作成するか、単一の大きなステークアカウントを作成し、ステーク権限を使用してアカウントを任意のトークン残高を持つ複数のアカウントに分割することで実現できます。

同じステーク権限と引き出し権限を複数のステークアカウントに割り当てることができます。

### ステークアカウントの統合

同じ権限とロックアップを持つ2つのステークアカウントは、1つの結果のステークアカウントに統合することができます。以下の状態にある2つのステークは、追加条件なしで統合が可能です：

- 2つの非アクティブ化されたステーク
- アクティベーションエポック中に、非アクティブなステークをアクティブ化中のステークに統合する場合

以下のケースでは、投票者のpubkeyと観測された投票クレジットが一致する必要があります：

- 2つのアクティブ化されたステーク
- アクティベーションエポック中に、同じアクティベーションエポックを共有する2つのアクティブ化中のアカウント

その他のステーク状態の組み合わせはすべて統合に失敗します。これには、ステークがゼロ以外の有効なステークでアクティブ化または非アクティブ化されている「一時的な」状態もすべて含まれます。

### 委任のウォームアップとクールダウン

ステークアカウントが委任される場合、または委任が非アクティブ化される場合、その操作はすぐには有効になりません。

委任または非アクティブ化が完了するには複数の[エポック](/docs/references/terminology#epoch)がかかり、instructionsを含むトランザクションがクラスターに送信された後の各エポック境界で、委任の一部がアクティブまたは非アクティブになります。

また、ネットワーク全体での急激なステークの変化を防ぐために、1つのエポックで委任または非アクティブ化できる総ステーク量には制限があります。ウォームアップとクールダウンは他のネットワーク参加者の行動に依存するため、その正確な期間を予測することは困難です。ウォームアップとクールダウンのタイミングに関する詳細は[こちら](https://docs.anza.xyz/consensus/stake-delegation-and-rewards#stake-warmup-cooldown-withdrawal)で確認できます。

### ロックアップ

ステークアカウントには、特定の日付またはepochに達するまでトークンの引き出しを防止するロックアップを設定できます。ロックアップ中でも、ステークアカウントは通常通り委任、委任解除、分割が可能であり、ステーク権限も変更できます。別のウォレットへの引き出しや出金権限の更新のみが許可されません。

ロックアップはステークアカウント作成時にのみ追加できますが、後で*ロックアップ権限者*または*カストディアン*によって変更することができます。これらのアドレスもアカウント作成時に設定されます。

### ステークアカウントの破棄

Solanaネットワーク上の他のタイプのアカウントと同様に、残高が0
SOLのステークアカウントは追跡されなくなります。ステークアカウントが委任されておらず、含まれるすべてのトークンがウォレットアドレスに引き出された場合、そのアドレスのアカウントは事実上破棄され、そのアドレスを再度使用するには手動で再作成する必要があります。

### ステークアカウントの表示

ステークアカウントの詳細は、[Solana Explorer](http://explorer.solana.com/)で確認できます。アカウントアドレスを検索バーにコピー＆ペーストするだけです。

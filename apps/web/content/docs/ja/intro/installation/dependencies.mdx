---
title: 依存関係のインストール
seoTitle: Solanaで開発するために必要な依存関係をインストールする
description:
  ローカルのSolana開発環境をセットアップするためのガイド。Windows（WSL）、Linux、およびMacでRust、Solana
  CLI、およびAnchorフレームワークをインストールする方法を学びましょう。
---

ローカルのSolana開発環境をセットアップするためのガイド。Windows（WSL）、Linux、およびMacでRust、Solana
CLI、およびAnchorフレームワークをインストールする方法を学びましょう。各依存関係を個別にインストールしたい場合や、[クイックインストール](/docs/intro/installation/)が何らかの理由で失敗した場合にこのガイドを使用してください。

### 前提条件

<Accordions>
<Accordion title="Windows">

WindowsでSolanaプログラムを開発するには、
[Windows Subsystem for Linux](https://learn.microsoft.com/en-us/windows/wsl/install)
（WSL）を使用する**必要があります**。WSLをインストールした後、他のすべての依存関係はLinuxターミナルを通じてインストールされます。

WSLをインストールするには、Windows PowerShellで次のコマンドを実行します：

```terminal
$ wsl --install
```

インストールプロセスでは、デフォルトのユーザーアカウントを作成するよう求められます。

![WSLインストール](/assets/docs/intro/installation/wsl-install.png)

デフォルトでは、WSLはUbuntuをインストールします。検索バーで「Ubuntu」を検索することで、Linuxターミナルを開くことができます。

![WSL Ubuntu](/assets/docs/intro/installation/wsl-ubuntu-search.png)

Ubuntuターミナルが以下の画像のように表示される場合、ターミナルで`ctrl + v`（貼り付けのキーボードショートカット）が機能しない問題が発生する可能性があります。

![Ubuntuターミナル](/assets/docs/intro/installation/wsl-ubuntu-terminal-1.png)

この問題が発生した場合は、検索バーで「Terminal」を検索してWindows
Terminalを開きます。

![Windows Terminal](/assets/docs/intro/installation/wsl-windows-terminal.png)

次に、Windows
Terminalを閉じて、再度Ubuntuを検索してLinuxターミナルを開きます。ターミナルは以下の画像のように表示され、`ctrl + v`（貼り付けのキーボードショートカット）が機能するようになります。

![Ubuntuターミナル](/assets/docs/intro/installation/wsl-ubuntu-terminal-2.png)

VS
Codeを使用している場合、[WSL拡張機能](https://code.visualstudio.com/docs/remote/wsl-tutorial)を使用することで、WSLとVS
Codeを一緒に使用できます。

![VS CodeでのWSLセットアップ](/assets/docs/intro/installation/wsl-vscode.png)

VS Codeのステータスバーに以下のように表示されます：

![WSL: Ubuntu](/assets/docs/intro/installation/wsl-vscode-ubuntu.png)

WSLのセットアップが完了したら、次のいずれかを行う準備が整いました：

- Ubuntu（Linux）ターミナルを使用して[クイックインストール](/docs/intro/installation)を完了する
- 以下に説明するように、[Rust](#install-rust)、[Solana CLI](#install-solana-cli)、および
  [Anchor CLI](#install-anchor-cli)を個別にインストールする

</Accordion>
<Accordion title="Linux">

<Tabs items={[".deb", ".rpm"]}>
<Tab value=".deb" >
DebianまたはUbuntuやMintなどのDebian派生のディストリビューションを使用している場合は、以下の手順に従ってください：

1. パッケージリストを更新して、すべてのパッケージが最新であることを確認します：

```terminal
$ sudo apt-get update
```

2. 以下の依存関係をインストールします：

```terminal
$ sudo apt-get install -y \
    build-essential \
    pkg-config \
    libudev-dev llvm libclang-dev \
    protobuf-compiler libssl-dev
```

<Callout>
`protobuf-compiler`をインストール中に次のエラーが発生した場合は、
最初に_shell`sudo apt-get update`を実行してください

```
Package protobuf-compiler is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source
```

</Callout>

  </Tab>

    <Tab value=".rpm" >
    FedoraやRed Hat Linuxなどのrhel派生のディストリビューションの場合は、以下の手順に従ってください。

コマンドを実行して、パッケージリストを更新し、パッケージの新しいバージョンを取得します。

```terminal
$ sudo dnf upgrade --refresh
```

次に、以下の依存関係をインストールします：

```terminal
$ sudo dnf group install c-development development-tools \
&& sudo dnf install pkg-config openssl-devel
```

  </Tab>
</Tabs>

</Accordion>
</Accordions>

<Steps>
<Step>

### Rustをインストールする

開発者は[Rust](https://www.rust-lang.org/)プログラミング言語を使用してSolanaプログラムを構築します。

1. 次のコマンドをターミナルに入力して、[rustup](https://www.rust-lang.org/tools/install)を使用してRustをインストールします：

```terminal
$ curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
```

インストールが成功すると、次のメッセージが表示されます：

<Accordions>
<Accordion title="Rustインストール成功メッセージ">

```
Rust is installed now. Great!

To get started you may need to restart your current shell.
This would reload your PATH environment variable to include
Cargo's bin directory ($HOME/.cargo/bin).

To configure your current shell, you need to source
the corresponding env file under $HOME/.cargo.

This is usually done by running one of the following (note the leading DOT):
. "$HOME/.cargo/env"            # For sh/bash/zsh/ash/dash/pdksh
source "$HOME/.cargo/env.fish"  # For fish
```

</Accordion>
</Accordions>

2. [Cargo](https://github.com/rust-lang/cargo)のbinディレクトリを含めるために、PATH環境変数を再読み込みします：

```terminal
$ . "$HOME/.cargo/env"
```

3. インストールが成功したことを確認します。

```terminal
$ rustc --version
```

次のような出力が表示されます：

```
rustc 1.86.0 (05f9846f8 2025-03-31)
```

</Step>
<Step>

### Solana CLIのインストール

Solana
CLIは、Solanaプログラムを構築およびデプロイするために必要なすべてのツールを提供します。

1. 公式のインストールコマンドを使用してSolana
   CLIツールスイートをインストールします：

```terminal
$ sh -c "$(curl -sSfL https://release.anza.xyz/stable/install)"
```

<Callout>
  `stable`を、希望するリリースのソフトウェアバージョンに一致するリリースタグ（例：`v2.0.3`）に置き換えるか、3つのシンボリックチャンネル名：`stable`、`beta`、または`edge`のいずれかを使用できます。
</Callout>

2. PATH環境変数を追加する

Solana
CLIを初めてインストールする場合、`PATH`環境変数を追加するよう促されることがあります。これを行うには、ターミナルを閉じて再度開くか、シェルで次のコマンドを実行します：

```
export PATH="/Users/test/.local/share/solana/install/active_release/bin:$PATH"
```

3. PATH環境変数を更新する

<Tabs groupId="language" items={["Windows & Linux", "Mac"]}>
<Tab value="Windows & Linux">

**Linux**または**WSL**を使用している場合は、コマンドがターミナルで利用できるように、Solana
CLIバイナリをPATHに追加する必要があります。以下の手順に従ってください：

**a.** 使用しているシェルを確認します：

```terminal
$ echo $SHELL
```

- 出力に `/bash` が含まれている場合は、`.bashrc` を使用してください。
- 出力に `/zsh` が含まれている場合は、`.zshrc` を使用してください。

**b.** シェルに応じて適切なコマンドを実行します。

Bash (`bashrc`) の場合：

```terminal
$ echo 'export PATH="$HOME/.local/share/solana/install/active_release/bin:$PATH"' >> ~/.bashrc
$ source ~/.bashrc
```

Zsh (`zshrc`) の場合：

```terminal
$ echo 'export PATH="$HOME/.local/share/solana/install/active_release/bin:$PATH"' >> ~/.zshrc
$ source ~/.zshrc
```

</Tab>
<Tab value="Mac">

`zsh` を使用したMacの場合、インストール時に表示された標準の `export PATH`
コマンドを実行しても、ターミナルを閉じると設定は保持されません。代わりに、以下のコマンドを実行して、PATHをシェル設定ファイルに追加してください：

```terminal
$ echo 'export PATH="$HOME/.local/share/solana/install/active_release/bin:$PATH"' >> ~/.zshrc
```

<Callout>
  上記の手順は `bash`
  ユーザーには適用されません。PATH変数の変更はデフォルトで保持されるためです。
</Callout>

</Tab>
</Tabs>

4. ターミナルを再起動するか、以下のコマンドを実行してターミナルセッションを更新します：

```terminal
$ source ~/.bashrc # If using Bash
$ source ~/.zshrc # If using Zsh
```

5. Solana CLIのバージョンを確認して、インストールが成功したことを確認します：

```terminal
$ solana --version
```

以下のような出力が表示されます：

```
solana-cli 2.2.12 (src:0315eb6a; feat:1522022101, client:Agave)
```

<Callout>

利用可能なすべてのバージョンは[Agave Githubリポジトリ](https://github.com/anza-xyz/agave/releases)で確認できます。Agaveは[Anza](https://www.anza.xyz/)が提供するvalidatorクライアントで、以前はSolana
Labsのvalidatorクライアントとして知られていました。

</Callout>

5. 必要に応じて、Solana CLIを最新バージョンに更新します（_任意_）

```terminal
$ agave-install update
```

</Step>
<Step>

### Anchor CLIのインストール

[Anchor](https://www.anchor-lang.com/)はSolanaプログラムを開発するためのフレームワークです。Anchorフレームワークは、Rustマクロを活用してSolanaプログラムの作成プロセスを簡素化します。

#### 前提条件

*shell`anchor init`*コマンドで作成されるデフォルトのAnchorプロジェクトテストファイル（TypeScript）には、Node.jsとYarnが必要です。（Rustテストテンプレートは*shell`anchor init --test-template rust`*を使用して利用できます）

<Accordions>
<Accordion title="Nodeのインストール">

1. [Node Version Manager (nvm)](https://github.com/nvm-sh/nvm)を使用して、以下のコマンドでNodeをインストールします：

```terminal
$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/master/install.sh | bash
```

2. ターミナルを再起動し、`nvm`コマンドが正常に実行されることを確認します：

```terminal
$ command -v nvm
```

3. `nvm`を使用してNodeをインストールします：

```terminal
$ nvm install node
```

4. Nodeのバージョンを確認して、インストールが成功したことを確認します：

```terminal
$ node --version
```

以下のような出力が表示されます：

```
v23.7.0
```

</Accordion>
<Accordion title="Yarnのインストール">

1. Yarnをインストールします：

```terminal
$ npm install --global yarn
```

2. Yarnのバージョンを確認して、インストールが成功したことを確認します：

```terminal
$ yarn --version
```

以下の出力が表示されます：

```
1.22.1
```

</Accordion>
</Accordions>

#### インストール

Anchor CLIとツールは2つの方法でインストールできます：

- Anchor Version Manager（AVM）— 推奨されるインストール方法
- AVMなし — GitHubから直接インストール

<Tabs groupId="anchor" items={["AVM", "Without AVM"]}>
<Tab value="AVM">

Anchor バージョンマネージャー（AVM）を使用すると、システム上で異なる Anchor バージョンをインストールして管理し、将来的に Anchor バージョンを簡単に更新することができます。AVM を使用して Anchor をインストールするには、以下の手順に従ってください：

1. 次のコマンドで AVM をインストールします：

```terminal
$ cargo install --git https://github.com/solana-foundation/anchor avm --force
```

2. AVM が正常にインストールされたことを確認します：

```terminal
$ avm --version
```

3. AVM を使用して Anchor CLI をインストールします：

最新バージョンをインストールするには：

```terminal
$ avm install latest
$ avm use latest
```

特定のバージョンをインストールするには、バージョン番号を指定します：

```terminal
$ avm install 0.30.1
$ avm use 0.30.1
```

<Callout type="warn">

Linux または WSL で Anchor
CLI をインストールする際に、次のエラーが発生することがあります：

```
error: could not exec the linker cc = note: Permission denied (os error 13)
```

このエラーメッセージが表示された場合は、次の手順に従ってください：

1. このページの上部にある [Linux](/docs/intro/installation#install-dependencies)
   セクションに記載されている依存関係をインストールします。
2. Anchor CLI のインストールを再試行します。

</Callout>

4. Anchor CLI のバージョンを確認して、インストールが成功したことを確認します：

```terminal
$ anchor --version
```

次のような出力が表示されます：

```
anchor-cli 0.31.1
```

<Callout type="info">

システム上で実行する Anchor CLI バージョンを宣言するために、_shell`avm use`_
コマンドを実行することを忘れないでください。

- `latest` バージョンをインストールした場合は、_shell`avm use latest`_
  を実行します。
- バージョン `0.30.1` をインストールした場合は、_shell`avm use 0.30.1`_
  を実行します。

</Callout>

</Tab>

<Tab value="Without AVM">

1. 次のコマンドで特定のバージョンのAnchor CLIをインストールします：

```terminal
$ cargo install --git https://github.com/solana-foundation/anchor --tag v0.30.1 anchor-cli
```

2. Anchor CLIのバージョンを確認して、インストールが成功したことを確認します：

```terminal
$ anchor --version
```

以下のような出力が表示されます：

```
anchor-cli 0.31.1
```

</Tab>
</Tabs>

</Step>
</Steps>

### Solana開発のためのAIツールのセットアップ

このセクションでは、Solana開発を加速するために使用できるオプションのAIツールのセットアップについて詳しく説明します。

| ツール   | 説明                                                                             | リンク                      |
| -------- | -------------------------------------------------------------------------------- | --------------------------- |
| MCP      | cursorと接続してSolanaのAIアシスト開発を向上させることができるMCPサーバー。      | https://mcp.solana.com/     |
| LLMs.txt | LLMをSolanaドキュメントでトレーニングするために使用できるLLM最適化ドキュメント。 | https://solana.com/llms.txt |

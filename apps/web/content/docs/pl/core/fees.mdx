---
title: Opłaty transakcyjne
description:
  Dowiedz się więcej o opłatach transakcyjnych w Solana, w tym o opłatach
  podstawowych i priorytetowych, sposobie ich naliczania oraz najlepszych
  praktykach zarządzania jednostkami obliczeniowymi w transakcjach.
---

Każda transakcja w Solana wymaga podstawowej opłaty (SOL), która rekompensuje
validatorom przetwarzanie transakcji. Możesz również uiścić opcjonalną opłatę
priorytetową, aby zwiększyć szansę, że obecny lider (validator) przetworzy Twoją
transakcję.

## Kluczowe informacje

- **Podstawowa opłata** za transakcję wynosi 5000 lamportów za każdy podpis w
  transakcji.
- **Opłata priorytetowa** (opcjonalna) to dodatkowa opłata, którą płacisz
  validatorowi, aby zwiększyć szansę, że obecny lider przetworzy Twoją
  transakcję.
- Opłata priorytetowa jest równa: **(limit jednostek obliczeniowych \* cena
  jednostki obliczeniowej)**.
- **Limit jednostek obliczeniowych** to maksymalna liczba jednostek
  obliczeniowych, które może wykorzystać Twoja transakcja.
- **Cena jednostki obliczeniowej** to koszt jednej jednostki obliczeniowej,
  wyrażony w mikro-lamportach.
- 1 000 000 mikro-lamportów = 1 lamport
- Płatnik opłaty transakcyjnej musi być kontem należącym do System Program.

## Podstawowa opłata transakcyjna

Podstawowa opłata to koszt wysłania transakcji. Wynosi ona 5000 lamportów za
każdy podpis zawarty w transakcji.

Podstawowa opłata jest pobierana z konta płatnika opłaty transakcyjnej, które
jest pierwszym podpisującym w transakcji. Płatnik opłaty musi być kontem
należącym do System Program.

- [50% spalane](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/fee-calculator/src/lib.rs#L70):
  Połowa podstawowej opłaty jest spalana.
- [50% dystrybucji](https://github.com/anza-xyz/agave/blob/e621336acad4f5d6e5b860eaa1b074b01c99253c/runtime/src/bank/fee_distribution.rs#L58-L62):
  Połowa jest wypłacana validatorowi, który przetworzył transakcję.

## Opłata priorytetowa

Opłata priorytetowa to opcjonalna opłata, która zwiększa szansę, że obecny lider
przetworzy Twoją transakcję.

- [SIMD-0096](https://github.com/solana-foundation/solana-improvement-documents/blob/main/proposals/0096-reward-collected-priority-fee-in-entirety.md):
  Validator przetwarzający transakcję otrzymuje 100% opłaty priorytetowej.

### Jednostki obliczeniowe i limity

Podczas przetwarzania transakcji wykorzystywane są zasoby obliczeniowe mierzone
w jednostkach obliczeniowych (CU). Każda instrukcja zmniejsza budżet jednostek
obliczeniowych transakcji.

- Maksymalny limit: Transakcja może wykorzystać do
  [1,4 miliona jednostek obliczeniowych](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget_limits.rs#L14).
- Domyślny limit: Domyślnie każda instrukcja może wykorzystać do
  [200 000 jednostek obliczeniowych](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget_limits.rs#L10).
- Niestandardowy limit: Możesz zażądać określonego limitu jednostek
  obliczeniowych, dodając `SetComputeUnitLimit` instrukcję do swojej transakcji.

Więcej szczegółów na temat wykorzystania jednostek obliczeniowych:

- [ComputeBudget](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget.rs#L22-L130)
- [Domyślne zużycie jednostek obliczeniowych](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget.rs#L149-L197)

Zobacz przewodnik
[Jak zażądać optymalnych obliczeń](/developers/guides/advanced/how-to-request-optimal-compute)
aby uzyskać więcej szczegółów na temat wykorzystania jednostek obliczeniowych.

### Cena jednostki obliczeniowej

Cena jednostki obliczeniowej to opcjonalna kwota, określona w mikro-lamportach,
którą płacisz za każdą żądaną jednostkę obliczeniową. Cena ta jest używana do
obliczenia opłaty priorytetowej dla Twojej transakcji.

<Callout>1 000 000 mikro-lamportów = 1 lamport</Callout>

Skorzystaj z tych zasobów, aby uzyskać rekomendacje w czasie rzeczywistym
dotyczące aktualnej ceny jednostki obliczeniowej:

| Dostawca                                | API opłat priorytetowych                                                         |
| --------------------------------------- | -------------------------------------------------------------------------------- |
| [Helius](https://www.helius.dev/)       | [Dokumentacja](https://docs.helius.dev/solana-apis/priority-fee-api)             |
| [QuickNode](https://www.quicknode.com/) | [Dokumentacja](https://marketplace.quicknode.com/add-on/solana-priority-fee)     |
| [Triton](https://triton.one/)           | [Dokumentacja](https://docs.triton.one/chains/solana/improved-priority-fees-api) |

Zobacz przewodnik
[Jak korzystać z opłat priorytetowych](/developers/guides/advanced/how-to-use-priority-fees)
aby uzyskać więcej szczegółów na temat opłat priorytetowych.

### Obliczanie opłaty priorytetowej

[Opłata priorytetowa](https://github.com/anza-xyz/agave/blob/v2.2.14/compute-budget/src/compute_budget_limits.rs#L47-L48)
jest obliczana jako:

**Opłata priorytetowa = Limit jednostek obliczeniowych × Cena jednostki
obliczeniowej**

Zalecanym podejściem do ustalania opłat priorytetowych jest najpierw
[zasymulowanie](/developers/guides/advanced/how-to-request-optimal-compute)
transakcji w celu oszacowania wymaganych jednostek obliczeniowych. Następnie
dodaj 10% marginesu bezpieczeństwa do tego oszacowania i użyj uzyskanej wartości
jako `Compute Unit Limit`.

[Priorytet transakcji](https://github.com/anza-xyz/agave/blob/v2.2.14/core/src/banking_stage/transaction_scheduler/receive_and_buffer.rs#L646),
który określa, jak jest ona priorytetyzowana względem innych transakcji, jest
obliczany za pomocą następującego wzoru:

**Priorytet = ((Limit jednostek obliczeniowych \* Cena jednostki
obliczeniowej) + Opłata bazowa) / (1 + Limit jednostek obliczeniowych + Podpisy
CUs + Blokady zapisu CUs)**

Skorzystaj z tych instrukcji, aby ustawić limit jednostek obliczeniowych i cenę
dla transakcji:

- [`SetComputeUnitLimit`](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/src/compute_budget.rs#L42-L44)
  aby ustawić konkretny limit jednostek.
- [`SetComputeUnitPrice`](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/src/compute_budget.rs#L48-L50)
  aby określić cenę za jednostkę obliczeniową.

<Callout>

---
title: Programmi
description:
  Scopri i programmi Solana (smart contract) e come svilupparli utilizzando Rust
  o il framework Anchor. Comprendi il deployment, gli aggiornamenti e la
  verifica dei programmi sulla rete Solana.
h1: Programmi
---

Su Solana, uno smart contract è chiamato programma. Un programma è un
[account](/docs/core/accounts#program-account) stateless che contiene codice
eseguibile. Questo codice è organizzato in funzioni chiamate istruzioni. Gli
utenti interagiscono con un programma inviando una
[transazione](/docs/core/transaction) contenente una o più
[istruzioni](/docs/core/instructions). Una transazione può includere istruzioni
da più programmi.

Quando un programma viene distribuito, Solana utilizza [LLVM](https://llvm.org/)
per compilarlo in formato eseguibile e collegabile
([ELF](https://en.wikipedia.org/wiki/Executable_and_Linkable_Format)). Il file
ELF contiene il binario del programma in Solana Bytecode Format (sBPF) e viene
salvato on-chain in un account eseguibile.

<Callout>
  sBPF è la versione personalizzata di Solana del bytecode
  [eBPF](https://en.wikipedia.org/wiki/EBPF).
</Callout>

## Scrivere programmi

La maggior parte dei programmi sono scritti in
[Rust](https://rust-book.cs.brown.edu/title-page.html), con due approcci comuni
di sviluppo:

- [Anchor](https://www.anchor-lang.com/docs): Anchor è un framework progettato
  per uno sviluppo rapido e semplice su Solana. Utilizza
  [macro di Rust](https://doc.rust-lang.org/book/ch20-05-macros.html) per
  ridurre il codice boilerplate—rendendolo ottimo per i principianti.
- [Rust nativo](/docs/programs/rust): Scrivi programmi in Rust senza utilizzare
  alcun framework. Questo approccio offre maggiore flessibilità ma comporta una
  maggiore complessità.

## Aggiornare programmi

Per
[modificare](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/bpf_loader/src/lib.rs#L704)
un programma esistente, un account deve essere designato come
[autorità di aggiornamento](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/bpf_loader/src/lib.rs#L894).
(Tipicamente lo stesso account che ha originariamente
[distribuito il programma](/docs/programs/deploying).) Se l'autorità di
aggiornamento viene revocata e impostata su null, il programma non può più
essere aggiornato.

## Verificare programmi

Solana supporta [build verificabili](/docs/programs/verified-builds), che
permettono agli utenti di controllare se il codice on-chain di un programma
corrisponde al suo codice sorgente pubblico. Il framework Anchor fornisce
[supporto integrato](https://www.anchor-lang.com/docs/verifiable-builds) per
creare una build verificabile.

Per controllare se un programma esistente è verificato, cerca il suo ID
programma su
[Solana Explorer](https://explorer.solana.com/address/PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY).
In alternativa, puoi utilizzare la
[CLI Solana Verifiable Build](https://github.com/Ellipsis-Labs/solana-verifiable-build)
di Ellipsis Labs, per verificare indipendentemente i programmi on-chain.

## Programmi integrati

### Programmi di caricamento

Ogni programma è di proprietà di un altro—il suo caricatore. I caricatori sono
utilizzati per distribuire, ridistribuire, aggiornare o chiudere i programmi.
Sono anche utilizzati per finalizzare un programma e trasferire l'autorità del
programma.

Attualmente ci sono cinque programmi di caricamento, come mostrato nella tabella
seguente.

| Caricatore | ID programma                                  | Note                                                                                                                              | Link alle istruzioni                                                                                                                          |
| ---------- | --------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| native     | `NativeLoader1111111111111111111111111111111` | Possiede gli altri quattro caricatori                                                                                             | —                                                                                                                                             |
| v1         | `BPFLoader1111111111111111111111111111111111` | Le istruzioni di gestione sono disabilitate, ma i programmi continuano a essere eseguiti                                          | —                                                                                                                                             |
| v2         | `BPFLoader2111111111111111111111111111111111` | Le istruzioni di gestione sono disabilitate, ma i programmi continuano a essere eseguiti                                          | [Istruzioni](https://docs.rs/solana-loader-v2-interface/latest/solana_loader_v2_interface/enum.LoaderInstruction.html)                        |
| v3         | `BPFLoaderUpgradeab1e11111111111111111111111` | I programmi possono essere aggiornati dopo la distribuzione. L'eseguibile del programma è memorizzato in un account dati separato | [Istruzioni](https://docs.rs/solana-loader-v3-interface/latest/solana_loader_v3_interface/instruction/enum.UpgradeableLoaderInstruction.html) |
| v4         | `LoaderV411111111111111111111111111111111111` | In sviluppo (non rilasciato)                                                                                                      | [Istruzioni](https://docs.rs/solana-loader-v4-interface/latest/solana_loader_v4_interface/instruction/enum.LoaderV4Instruction.html)          |

I programmi distribuiti con loader-v3 o loader-v4 possono essere modificabili
dopo la distribuzione, come determinato dalla loro autorità di aggiornamento.

### Programmi precompilati

Oltre ai programmi di caricamento, Solana fornisce i seguenti programmi
precompilati.

#### Verifica firma ed25519

Il programma ed25519 è utilizzato per verificare una o più firme ed25519.

| Programma         | ID programma                                  | Descrizione                                                                   | Istruzioni                                                                                    |
| ----------------- | --------------------------------------------- | ----------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------- |
| Programma Ed25519 | `Ed25519SigVerify111111111111111111111111111` | Verifica le firme ed25519. Se una firma fallisce, viene restituito un errore. | [Istruzioni](https://docs.rs/solana-ed25519-program/latest/solana_ed25519_program/index.html) |

Il programma ed25519 elabora un'istruzione. Il primo `u8` dell'istruzione
contiene un conteggio del numero di firme da controllare, seguito da un singolo
byte di riempimento. Successivamente, la seguente struttura viene serializzata,
una per ogni firma da controllare.

```rust
pub struct Ed25519SignatureOffsets {
    signature_offset: u16,             // offset to ed25519 signature of 64 bytes
    signature_instruction_index: u16,  // instruction index to find signature
    public_key_offset: u16,            // offset to public key of 32 bytes
    public_key_instruction_index: u16, // instruction index to find public key
    message_data_offset: u16,          // offset to start of message data
    message_data_size: u16,            // size of message data
    message_instruction_index: u16,    // index of instruction for message data
}
```

Questo permette all'utente di specificare qualsiasi dato di istruzione nella
transazione per i dati di firma e messaggio. Specificando una sysvar di
istruzioni speciale, si possono anche ricevere dati dalla transazione stessa.

#### Verifica del recupero secp256k1

Il programma secp256k1 viene utilizzato per verificare le operazioni di recupero
della chiave pubblica secp256k1.

| Programma           | ID del programma                              | Descrizione                                                                     | Istruzioni                                                                                        |
| ------------------- | --------------------------------------------- | ------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| Programma Secp256k1 | `KeccakSecp256k11111111111111111111111111111` | Verifica le operazioni di recupero della chiave pubblica secp256k1 (ecrecover). | [Istruzioni](https://docs.rs/solana-secp256k1-program/latest/solana_secp256k1_program/index.html) |

Il programma secp256k1 elabora un'istruzione. Il primo byte dell'istruzione
contiene un conteggio del numero di chiavi pubbliche da verificare.
Successivamente, la seguente struttura viene creata una volta per ogni chiave
pubblica, quindi serializzata e aggiunta ai dati dell'istruzione.

```rust
pub struct Secp256k1SignatureOffsets {
    signature_offset: u16,             // offset to secp256k1 signature data of 64 bytes
    signature_instruction_index: u16,  // instruction index to find signature
    eth_address_offset: u16,          // offset to eth_address of 20 bytes
    eth_address_instruction_index: u16, // instruction index to find eth_address
    message_data_offset: u16,          // offset to start of message data
    message_data_size: u16,            // size of message data
    message_instruction_index: u16,    // instruction index to find message data
}
```

Lo pseudocodice della verifica del recupero:

Questo permette all'utente di specificare qualsiasi dato di istruzione nella
transazione per i dati di firma e messaggio. Specificando una sysvar di
istruzioni speciale, si possono anche ricevere dati dalla transazione stessa.

Il costo della transazione conterà il numero di firme da verificare moltiplicato
per il moltiplicatore del costo di verifica della firma.

Il programma secp256r1 viene utilizzato per verificare fino a 8 firme secp256r1.

| Programma           | ID del programma                              | Descrizione                                                                                                                          | Istruzioni                                                                                      |
| ------------------- | --------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------- |
| Programma Secp256r1 | `Secp256r1SigVerify1111111111111111111111111` | Verifica fino a 8 firme secp256r1. Prende una firma, una chiave pubblica e un messaggio. Restituisce un errore se qualcuna fallisce. | [Istruzioni](https://docs.rs/solana-secp256r1-program/latest/solana_secp256r1_program/all.html) |

Il programma secp256r1 elabora un'istruzione. Il primo `u8` dell'istruzione è un
conteggio del numero di firme da verificare, seguito da un singolo byte di
riempimento. Successivamente, la seguente struttura viene creata per ogni firma,
quindi serializzata e aggiunta ai dati dell'istruzione.

Quando un programma viene eseguito, il runtime di Solana verifica che ogni firma
di transazione sia valida. Questo processo include la verifica che la firma
corrisponda alla chiave pubblica e che la firma sia valida secondo lo schema di
firma Ed25519.

<Callout>
  I valori S bassi sono imposti per tutte le firme per evitare la malleabilità
  accidentale della firma.
</Callout>

Solana utilizza lo schema di firma Ed25519 per verificare le firme. Ed25519 è un
algoritmo di firma digitale che utilizza curve ellittiche per fornire un alto
livello di sicurezza con chiavi e firme relativamente piccole.

### Programmi core

I programmi nell'elenco seguente forniscono le funzionalità core della rete.

| Programma                | Program ID                                    | Descrizione                                                                                                                                                                                                                                                                                                                                                                           | Istruzioni                                                                                                                                            |
| ------------------------ | --------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| **System**               | `11111111111111111111111111111111`            | Crea nuovi account, alloca dati dell'account, assegna account ai programmi proprietari, trasferisce lamport dagli account di proprietà del System Program e paga le commissioni di transazione                                                                                                                                                                                        | [SystemInstruction](https://docs.rs/solana-program/latest/solana_program/system_instruction/enum.SystemInstruction.html)                              |
| **Vote**                 | `Vote111111111111111111111111111111111111111` | Crea e gestisce account che tracciano lo stato di voto del validator e le ricompense                                                                                                                                                                                                                                                                                                  | [VoteInstruction](https://docs.rs/solana-vote-program/latest/solana_vote_program/vote_instruction/enum.VoteInstruction.html)                          |
| **Stake**                | `Stake11111111111111111111111111111111111111` | Crea e gestisce account che rappresentano lo stake e le ricompense per le deleghe ai validator                                                                                                                                                                                                                                                                                        | [StakeInstruction](https://docs.rs/solana-sdk/latest/solana_sdk/stake/instruction/enum.StakeInstruction.html)                                         |
| **Config**               | `Config1111111111111111111111111111111111111` | Aggiunge dati di configurazione alla chain, seguiti dall'elenco delle chiavi pubbliche autorizzate a modificarli. A differenza degli altri programmi, il programma Config non definisce istruzioni individuali. Ha solo un'istruzione implicita: "store". I suoi dati di istruzione sono un insieme di chiavi che regolano l'accesso all'account e ai dati memorizzati al suo interno | [ConfigInstruction](https://docs.rs/solana-config-program/latest/solana_config_program/config_instruction/index.html)                                 |
| **Compute Budget**       | `ComputeBudget111111111111111111111111111111` | Imposta limiti e prezzi delle unità di calcolo per le transazioni, consentendo agli utenti di controllare le risorse di calcolo e le commissioni di priorità                                                                                                                                                                                                                          | [ComputeBudgetInstruction](https://docs.rs/solana-compute-budget-interface/latest/solana_compute_budget_interface/enum.ComputeBudgetInstruction.html) |
| **Address Lookup Table** | `AddressLookupTab1e1111111111111111111111111` | Gestisce le tabelle di ricerca degli indirizzi, che consentono alle transazioni di fare riferimento a più account di quanti ne potrebbero altrimenti contenere nell'elenco degli account della transazione                                                                                                                                                                            | [ProgramInstruction](https://docs.rs/solana-sdk/latest/solana_sdk/address_lookup_table/instruction/enum.ProgramInstruction.html)                      |
| **ZK ElGamal Proof**     | `ZkE1Gama1Proof11111111111111111111111111111` | Fornisce la verifica della prova a conoscenza zero per i dati crittografati con ElGamal                                                                                                                                                                                                                                                                                               | —                                                                                                                                                     |

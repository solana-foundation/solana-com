---
title: Programlar
description:
  Solana programları (akıllı sözleşmeler) hakkında bilgi edinin ve bunları Rust
  veya Anchor framework kullanarak nasıl geliştirebileceğinizi öğrenin. Solana
  ağında program dağıtımı, yükseltmeleri ve doğrulaması hakkında bilgi edinin.
h1: Programlar
---

Solana'da, akıllı sözleşmelere program denir. Bir program, yürütülebilir kod
içeren durumsal olmayan bir [hesaptır](/docs/core/accounts#program-account). Bu
kod, talimat adı verilen fonksiyonlar halinde düzenlenmiştir. Kullanıcılar, bir
veya daha fazla [talimat](/docs/core/instructions) içeren bir
[işlem](/docs/core/transaction) göndererek bir programla etkileşime girerler.
Bir işlem, birden fazla programdan talimatlar içerebilir.

Bir program dağıtıldığında, Solana, yürütülebilir ve bağlanabilir formatta
derlemek için [LLVM](https://llvm.org/) kullanır
([ELF](https://en.wikipedia.org/wiki/Executable_and_Linkable_Format)). ELF
dosyası, programın Solana Bayt Kodu Formatındaki (sBPF) ikili dosyasını içerir
ve yürütülebilir bir hesapta zincir üzerinde saklanır.

<Callout>
  sBPF, Solana'nın [eBPF](https://en.wikipedia.org/wiki/EBPF) bayt kodunun özel
  bir versiyonudur.
</Callout>

## Program yazma

Programların çoğunluğu [Rust](https://rust-book.cs.brown.edu/title-page.html)
ile yazılır ve iki yaygın geliştirme yaklaşımı vardır:

- [Anchor](https://www.anchor-lang.com/docs): Anchor, hızlı ve kolay Solana
  geliştirmesi için tasarlanmış bir çerçevedir. Şablon kodları azaltmak için
  [Rust makrolarını](https://doc.rust-lang.org/book/ch20-05-macros.html)
  kullanır—bu da onu yeni başlayanlar için harika kılar.
- [Native Rust](/docs/programs/rust): Herhangi bir çerçeve kullanmadan Rust ile
  program yazın. Bu yaklaşım daha fazla esneklik sunar ancak artan karmaşıklık
  ile gelir.

## Program güncelleme

Mevcut bir programı
[değiştirmek](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/bpf_loader/src/lib.rs#L704)
için, bir hesabın
[yükseltme yetkisi](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/bpf_loader/src/lib.rs#L894)
olarak belirlenmesi gerekir. (Genellikle programı
[dağıtan](/docs/programs/deploying) hesapla aynıdır.) Eğer yükseltme yetkisi
iptal edilir ve null olarak ayarlanırsa, program artık güncellenemez.

## Program doğrulama

Solana, kullanıcıların bir programın zincir üzerindeki kodunun açık kaynak
koduyla eşleşip eşleşmediğini kontrol etmelerine olanak tanıyan
[doğrulanabilir derlemeleri](/docs/programs/verified-builds) destekler. Anchor
çerçevesi, doğrulanabilir bir derleme oluşturmak için
[yerleşik destek](https://www.anchor-lang.com/docs/verifiable-builds) sağlar.

Mevcut bir programın doğrulanıp doğrulanmadığını kontrol etmek için, program
kimliğini
[Solana Explorer](https://explorer.solana.com/address/PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY)'da
arayın. Alternatif olarak, zincir üzerindeki programları bağımsız olarak
doğrulamak için Ellipsis Labs'ın
[Solana Doğrulanabilir Derleme CLI](https://github.com/Ellipsis-Labs/solana-verifiable-build)'sini
kullanabilirsiniz.

## Yerleşik programlar

### Yükleyici programlar

Her program başka bir programa aittir—yükleyicisine. Yükleyiciler, programları
dağıtmak, yeniden dağıtmak, yükseltmek veya kapatmak için kullanılır. Ayrıca bir
programı sonlandırmak ve program yetkisini aktarmak için de kullanılırlar.

Şu anda aşağıdaki tabloda gösterildiği gibi beş yükleyici program bulunmaktadır.

| Yükleyici | Program ID                                    | Notlar                                                                                                                 | Talimatlar Bağlantısı                                                                                                                         |
| --------- | --------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| native    | `NativeLoader1111111111111111111111111111111` | Diğer dört yükleyiciye sahiptir                                                                                        | —                                                                                                                                             |
| v1        | `BPFLoader1111111111111111111111111111111111` | Yönetim talimatları devre dışı bırakılmıştır, ancak programlar hala çalışır                                            | —                                                                                                                                             |
| v2        | `BPFLoader2111111111111111111111111111111111` | Yönetim talimatları devre dışı bırakılmıştır, ancak programlar hala çalışır                                            | [Talimatlar](https://docs.rs/solana-loader-v2-interface/latest/solana_loader_v2_interface/enum.LoaderInstruction.html)                        |
| v3        | `BPFLoaderUpgradeab1e11111111111111111111111` | Programlar dağıtımdan sonra güncellenebilir. Program çalıştırılabilir dosyası ayrı bir program veri hesabında saklanır | [Talimatlar](https://docs.rs/solana-loader-v3-interface/latest/solana_loader_v3_interface/instruction/enum.UpgradeableLoaderInstruction.html) |
| v4        | `LoaderV411111111111111111111111111111111111` | Geliştirme aşamasında (yayınlanmamış)                                                                                  | [Talimatlar](https://docs.rs/solana-loader-v4-interface/latest/solana_loader_v4_interface/instruction/enum.LoaderV4Instruction.html)          |

Loader-v3 veya loader-v4 ile dağıtılan programlar, yükseltme yetkisine bağlı
olarak dağıtımdan sonra değiştirilebilir.

### Önceden derlenmiş programlar

Yükleyici programlara ek olarak, Solana aşağıdaki önceden derlenmiş programları
sağlar.

#### Ed25519 imzasını doğrula

Ed25519 programı, bir veya daha fazla ed25519 imzasını doğrulamak için
kullanılır.

| Program         | Program ID                                    | Açıklama                                                                              | Talimatlar                                                                                    |
| --------------- | --------------------------------------------- | ------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------- |
| Ed25519 Program | `Ed25519SigVerify111111111111111111111111111` | Ed25519 imzalarını doğrular. Herhangi bir imza başarısız olursa, bir hata döndürülür. | [Talimatlar](https://docs.rs/solana-ed25519-program/latest/solana_ed25519_program/index.html) |

Ed25519 programı bir talimatı işler. Talimatın ilk `u8` kontrol edilecek imza
sayısını içerir, ardından tek bir byte dolgu gelir. Bundan sonra, kontrol
edilecek her imza için aşağıdaki yapı seri hale getirilir.

```rust
pub struct Ed25519SignatureOffsets {
    signature_offset: u16,             // imza baytlarının başlangıç konumu
    signature_instruction_index: u16,  // imzanın bulunduğu talimat
    public_key_offset: u16,            // genel anahtar baytlarının başlangıç konumu
    public_key_instruction_index: u16, // genel anahtarın bulunduğu talimat
    message_data_offset: u16,          // mesaj verilerinin başlangıç konumu
    message_data_size: u16,            // mesaj verilerinin boyutu
    message_instruction_index: u16,    // mesajın bulunduğu talimat
}
```

Sözde kod:

```rust
for i in 0..count {
    let offset = Ed25519SignatureOffsets::deserialize(&instruction_data);

    // İmzayı, genel anahtarı ve mesajı al
    let signature = &instruction_at_index(offset.signature_instruction_index)[offset.signature_offset..offset.signature_offset + 64];
    let public_key = &instruction_at_index(offset.public_key_instruction_index)[offset.public_key_offset..offset.public_key_offset + 32];
    let message = &instruction_at_index(offset.message_instruction_index)[offset.message_data_offset..offset.message_data_offset + offset.message_data_size];

    // İmzayı doğrula
    if !ed25519::verify(message, public_key, signature) {
        return Error::InvalidSignature;
    }
}
```

#### Secp256k1 kurtarma doğrulaması

Secp256k1 programı, secp256k1 genel anahtar kurtarma işlemlerini doğrulamak için
kullanılır.

| Program           | Program ID                                    | Açıklama                                                           | Talimatlar                                                                                        |
| ----------------- | --------------------------------------------- | ------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------- |
| Secp256k1 Program | `KeccakSecp256k11111111111111111111111111111` | Secp256k1 genel anahtar kurtarma işlemlerini (ecrecover) doğrular. | [Talimatlar](https://docs.rs/solana-secp256k1-program/latest/solana_secp256k1_program/index.html) |

Secp256k1 programı bir talimatı işler. Talimatın ilk baytı, kontrol edilecek
genel anahtar sayısını içerir. Bundan sonra, aşağıdaki yapı her bir genel
anahtar için bir kez oluşturulur, ardından serileştirilir ve talimat verisine
eklenir.

```rust
pub struct Secp256k1SignatureOffsets {
    signature_offset: u16,             // 64 baytlık imzanın başlangıç konumu
    signature_instruction_index: u16,  // imzanın bulunduğu talimat
    eth_address_offset: u16,           // 20 baytlık Ethereum adresinin başlangıç konumu
    eth_address_instruction_index: u16, // Ethereum adresinin bulunduğu talimat
    message_data_offset: u16,          // mesaj verilerinin başlangıç konumu
    message_data_size: u16,            // mesaj verilerinin boyutu
    message_instruction_index: u16,    // mesajın bulunduğu talimat
    recovery_id: u8,                   // kurtarma kimliği, 0 veya 1 olmalıdır
}
```

Kurtarma doğrulamasının sözde kodu:

```rust
for i in 0..count {
    let offset = Secp256k1SignatureOffsets::deserialize(&instruction_data);

    // İmzayı, Ethereum adresini ve mesajı al
    let signature = &instruction_at_index(offset.signature_instruction_index)[offset.signature_offset..offset.signature_offset + 64];
    let eth_address = &instruction_at_index(offset.eth_address_instruction_index)[offset.eth_address_offset..offset.eth_address_offset + 20];
    let message = &instruction_at_index(offset.message_instruction_index)[offset.message_data_offset..offset.message_data_offset + offset.message_data_size];

    // Kurtarma kimliğini kontrol et
    if offset.recovery_id > 1 {
        return Error::InvalidRecoveryId;
    }

    // Genel anahtarı kurtar ve Ethereum adresini doğrula
    let recovered_key = secp256k1::recover(message, signature, offset.recovery_id);
    let recovered_eth_address = keccak256(recovered_key)[12..32];

    if eth_address != recovered_eth_address {
        return Error::InvalidSignature;
    }
}
```

Bu, kullanıcının işlemde imza ve mesaj verileri için herhangi bir instruction
data belirtmesine olanak tanır. Özel bir instructions sysvar belirterek, işlemin
kendisinden de veri alınabilir.

İşlemin maliyeti, doğrulanacak imza sayısının imza maliyeti doğrulama çarpanıyla
çarpılmasıyla hesaplanır.

Secp256r1 programı, 8 adede kadar secp256r1 imzasını doğrulamak için kullanılır.

| Program           | Program ID                                    | Açıklama                                                                                                                    | Talimatlar                                                                                      |
| ----------------- | --------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------- |
| Secp256r1 Program | `Secp256r1SigVerify1111111111111111111111111` | 8 adede kadar secp256r1 imzasını doğrular. İmza, genel anahtar ve mesaj alır. Herhangi biri başarısız olursa hata döndürür. | [Talimatlar](https://docs.rs/solana-secp256r1-program/latest/solana_secp256r1_program/all.html) |

Secp256r1 programı bir talimatı işler. Talimatın ilk baytı, kontrol edilecek
imza sayısını içerir ve ardından tek baytlık bir dolgu gelir. Bundan sonra,
aşağıdaki yapı her bir imza için oluşturulur, ardından serileştirilir ve talimat
verisine eklenir.

Solana'da, bir işlemin imzaları, işlemin mesajı üzerinde bir ECDSA imzasıdır.
İmzalar, işlemin mesajının bir özeti üzerinde gerçekleştirilir. İşlem mesajı,
işlemin tüm bilgilerini içerir: hesaplar, talimatlar, son blok, vb.

<Callout>
  Yanlışlıkla imza değiştirilebilirliğini önlemek için tüm imzalar için düşük S
  değerleri zorunlu tutulur.
</Callout>

Bir işlem imzalandıktan sonra, imzalar işlem mesajıyla birlikte ağa gönderilir.
Validator, işlemin mesajını yeniden oluşturur, özeti hesaplar ve ardından
imzaları doğrular.

### Çekirdek programlar

Aşağıdaki listedeki programlar, ağın temel işlevselliğini sağlar.

| Program                  | Program ID                                    | Açıklama                                                                                                                                                                                                                                                                                                                                      | Talimatlar                                                                                                                                            |
| ------------------------ | --------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| **System**               | `11111111111111111111111111111111`            | Yeni hesaplar oluşturma, hesap verilerini tahsis etme, hesapları sahip programlara atama, System Program'a ait hesaplardan lamport transferi yapma ve işlem ücretlerini ödeme                                                                                                                                                                 | [SystemInstruction](https://docs.rs/solana-program/latest/solana_program/system_instruction/enum.SystemInstruction.html)                              |
| **Vote**                 | `Vote111111111111111111111111111111111111111` | Validator oylama durumunu ve ödüllerini takip eden hesapları oluşturma ve yönetme                                                                                                                                                                                                                                                             | [VoteInstruction](https://docs.rs/solana-vote-program/latest/solana_vote_program/vote_instruction/enum.VoteInstruction.html)                          |
| **Stake**                | `Stake11111111111111111111111111111111111111` | Validator'lara yapılan delegasyonlar için stake ve ödülleri temsil eden hesapları oluşturma ve yönetme                                                                                                                                                                                                                                        | [StakeInstruction](https://docs.rs/solana-sdk/latest/solana_sdk/stake/instruction/enum.StakeInstruction.html)                                         |
| **Config**               | `Config1111111111111111111111111111111111111` | Zincire yapılandırma verisi ekleme, ardından bunu değiştirmeye izin verilen genel anahtarların listesi. Diğer programlardan farklı olarak, Config programı herhangi bir bireysel talimat tanımlamaz. Sadece bir örtük talimatı vardır: "store". Talimat verisi, hesaba ve içinde saklanan verilere erişimi kontrol eden bir anahtar kümesidir | [ConfigInstruction](https://docs.rs/solana-config-program/latest/solana_config_program/config_instruction/index.html)                                 |
| **Compute Budget**       | `ComputeBudget111111111111111111111111111111` | İşlemler için hesaplama birimi limitlerini ve fiyatlarını ayarlama, kullanıcıların hesaplama kaynaklarını ve önceliklendirme ücretlerini kontrol etmesine olanak tanıma                                                                                                                                                                       | [ComputeBudgetInstruction](https://docs.rs/solana-compute-budget-interface/latest/solana_compute_budget_interface/enum.ComputeBudgetInstruction.html) |
| **Address Lookup Table** | `AddressLookupTab1e1111111111111111111111111` | İşlemlerin, işlemin hesap listesine normalde sığabilecek olandan daha fazla hesaba başvurmasına olanak tanıyan adres arama tablolarını yönetme                                                                                                                                                                                                | [ProgramInstruction](https://docs.rs/solana-sdk/latest/solana_sdk/address_lookup_table/instruction/enum.ProgramInstruction.html)                      |
| **ZK ElGamal Proof**     | `ZkE1Gama1Proof11111111111111111111111111111` | ElGamal ile şifrelenmiş veriler için sıfır bilgi kanıtı doğrulaması sağlar                                                                                                                                                                                                                                                                    | —                                                                                                                                                     |

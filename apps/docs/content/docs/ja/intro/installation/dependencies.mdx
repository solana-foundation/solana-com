---
title: 依存関係のインストール
seoTitle: Solana開発に必要な依存関係をインストールする
description:
  ローカルのSolana開発環境をセットアップするためのガイド。Windows（WSL）、Linux、MacでRust、Solana
  CLI、Anchorフレームワークをインストールする方法を学びます。
---

ローカルのSolana開発環境をセットアップするためのガイド。Windows（WSL）、Linux、MacでRust、Solana
CLI、Anchorフレームワークをインストールする方法を学びます。各依存関係を個別にインストールしたい場合、または[クイックインストール](/docs/intro/installation/)が何らかの理由で失敗した場合は、このガイドを使用してください。

### 前提条件

<Accordions>
<Accordion title="Windows">

WindowsでSolanaプログラムを開発するには、[Windows Subsystem for Linux](https://learn.microsoft.com/en-us/windows/wsl/install)（WSL）を**必ず**使用する必要があります。WSLをインストールした後、他のすべての依存関係はLinuxターミナルを通じてインストールされます。

WSLをインストールするには、Windows PowerShellで次のコマンドを実行します。

```terminal
$ wsl --install
```

インストールプロセスでは、デフォルトのユーザーアカウントを作成するよう求められます。

![WSLインストール](/assets/docs/intro/installation/wsl-install.png)

デフォルトでは、WSLはUbuntuをインストールします。検索バーで「Ubuntu」を検索することで、Linuxターミナルを開くことができます。

![WSL Ubuntu](/assets/docs/intro/installation/wsl-ubuntu-search.png)

Ubuntuターミナルが下の画像のように表示される場合、`ctrl + v`（貼り付けのキーボードショートカット）がターミナルで機能しない問題が発生する可能性があります。

![Ubuntuターミナル](/assets/docs/intro/installation/wsl-ubuntu-terminal-1.png)

この問題が発生した場合は、検索バーで「Terminal」を検索してWindows
Terminalを開きます。

![Windows Terminal](/assets/docs/intro/installation/wsl-windows-terminal.png)

次に、Windows
Terminalを閉じて、再度Ubuntuを検索してLinuxターミナルを開き直します。ターミナルは下の画像のように表示され、`ctrl + v`（貼り付けのキーボードショートカット）が機能するようになります。

![Ubuntuターミナル](/assets/docs/intro/installation/wsl-ubuntu-terminal-2.png)

VS
Codeを使用している場合、[WSL拡張機能](https://code.visualstudio.com/docs/remote/wsl-tutorial)を使用すると、WSLとVS
Codeを一緒に使用できます。

![VS CodeでのWSLセットアップ](/assets/docs/intro/installation/wsl-vscode.png)

VS Codeのステータスバーに以下が表示されます:

![WSL: Ubuntu](/assets/docs/intro/installation/wsl-vscode-ubuntu.png)

WSLのセットアップが完了したら、次のいずれかを実行できます:

- Ubuntu(Linux)ターミナルを使用して[クイックインストール](/docs/intro/installation)を完了する
- 以下に説明するように、[Rust](#install-rust)、[Solana CLI](#install-solana-cli)、および[Anchor CLI](#install-anchor-cli)を個別にインストールする

</Accordion>
<Accordion title="Linux">

<Tabs items={[".deb", ".rpm"]}>
<Tab value=".deb" >
DebianまたはUbuntuやMintなどのDebian派生の代替システムを使用している場合は、以下の手順に従ってください:

1. すべてのパッケージが最新であることを確認するために、パッケージリストを更新します:

```terminal
$ sudo apt-get update
```

2. 以下の依存関係をインストールします:

```terminal
$ sudo apt-get install -y \
    build-essential \
    pkg-config \
    libudev-dev llvm libclang-dev \
    protobuf-compiler libssl-dev
```

<Callout>
`protobuf-compiler`のインストール時に以下のエラーが発生した場合は、まず`sudo apt-get update`を実行してください

```
Package protobuf-compiler is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source
```

</Callout>

  </Tab>

    <Tab value=".rpm" >
    FedoraやRed Hat LinuxなどのRHEL派生システムの場合は、以下の手順に従ってください。

以下のコマンドを実行して、パッケージリストを更新し、新しいバージョンのパッケージを取得します。

```terminal
$ sudo dnf upgrade --refresh
```

次に、以下の依存関係をインストールします:

```terminal
$ sudo dnf group install c-development development-tools \
&& sudo dnf install pkg-config openssl-devel
```

  </Tab>
</Tabs>

</Accordion>
</Accordions>

<Steps>
<Step>

### Rustをインストールする

開発者は[Rust](https://www.rust-lang.org/)プログラミング言語を使用してSolanaプログラムを構築します。

1. ターミナルで以下のコマンドを入力し、[rustup](https://www.rust-lang.org/tools/install)を使用してRustをインストールします：

```terminal
$ curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y
```

インストールが正常に完了すると、以下のメッセージが表示されます：

<Accordions>
<Accordion title="Rustインストール成功メッセージ">

```
Rust is installed now. Great!

To get started you may need to restart your current shell.
This would reload your PATH environment variable to include
Cargo's bin directory ($HOME/.cargo/bin).

To configure your current shell, you need to source
the corresponding env file under $HOME/.cargo.

This is usually done by running one of the following (note the leading DOT):
. "$HOME/.cargo/env"            # For sh/bash/zsh/ash/dash/pdksh
source "$HOME/.cargo/env.fish"  # For fish
```

</Accordion>
</Accordions>

2. [Cargo](https://github.com/rust-lang/cargo)のbinディレクトリを含めるため、PATH環境変数を再読み込みします：

```terminal
$ . "$HOME/.cargo/env"
```

3. インストールが正常に完了したことを確認します。

```terminal
$ rustc --version
```

以下のような出力が表示されます：

```
rustc 1.86.0 (05f9846f8 2025-03-31)
```

</Step>
<Step>

### Solana CLIのインストール

Solana
CLIは、Solanaプログラムの構築とデプロイに必要なすべてのツールを提供します。

1. 公式インストールコマンドを使用して、Solana
   CLIツールスイートをインストールします：

```terminal
$ sh -c "$(curl -sSfL https://release.anza.xyz/stable/install)"
```

<Callout>
  `stable`を、希望するリリースのソフトウェアバージョンに対応するリリースタグ（例：`v2.0.3`）に置き換えるか、3つのシンボリックチャネル名（`stable`、`beta`、または`edge`）のいずれかを使用できます。
</Callout>

2. PATH環境変数を追加します

Solana
CLIを初めてインストールする際、`PATH`環境変数を追加するよう求められる場合があります。追加するには、ターミナルを閉じて再度開くか、シェルで以下を実行します：

```
export PATH="/Users/test/.local/share/solana/install/active_release/bin:$PATH"
```

3. PATH環境変数を更新します

<Tabs groupId="language" items={["Windows & Linux", "Mac"]}>
<Tab value="Windows & Linux">

**Linux**または**WSL**を使用している場合、ターミナルでコマンドを使用できるようにするため、Solana
CLIバイナリをPATHに追加する必要があります。追加するには、以下の手順に従ってください：

**a.** 使用しているシェルを確認します：

```terminal
$ echo $SHELL
```

- 出力に`/bash`が含まれている場合は、`.bashrc`を使用してください。
- 出力に`/zsh`が含まれている場合は、`.zshrc`を使用してください。

**b.** シェルに応じて、適切なコマンドを実行してください。

Bash（`bashrc`）の場合：

```terminal
$ echo 'export PATH="$HOME/.local/share/solana/install/active_release/bin:$PATH"' >> ~/.bashrc
$ source ~/.bashrc
```

Zsh（`zshrc`）の場合：

```terminal
$ echo 'export PATH="$HOME/.local/share/solana/install/active_release/bin:$PATH"' >> ~/.zshrc
$ source ~/.zshrc
```

</Tab>
<Tab value="Mac">

`zsh`を使用するMacの場合、インストール時に表示されるデフォルトの`export PATH`コマンドを実行しても、ターミナルを閉じると設定が保持されません。代わりに、次のコマンドを実行してシェル設定ファイルにPATHを追加してください：

```terminal
$ echo 'export PATH="$HOME/.local/share/solana/install/active_release/bin:$PATH"' >> ~/.zshrc
```

<Callout>
  上記の手順は`bash`ユーザーには適用されません。PATH変数の変更はデフォルトで保持されます。
</Callout>

</Tab>
</Tabs>

4. ターミナルを再起動するか、次のコマンドを実行してターミナルセッションを更新してください：

```terminal
$ source ~/.bashrc # If using Bash
$ source ~/.zshrc # If using Zsh
```

5. Solana
   CLIのバージョンを確認して、インストールが成功したことを確認してください：

```terminal
$ solana --version
```

次のような出力が表示されます：

```
solana-cli 2.2.12 (src:0315eb6a; feat:1522022101, client:Agave)
```

<Callout>

利用可能なすべてのバージョンは、[Agave Githubリポジトリ](https://github.com/anza-xyz/agave/releases)で確認できます。Agaveは[Anza](https://www.anza.xyz/)のvalidatorクライアントで、以前はSolana
Labsのvalidatorクライアントとして知られていました。

</Callout>

5. 必要に応じて、Solana CLIを最新バージョンに更新してください（オプション）

```terminal
$ agave-install update
```

</Step>
<Step>

### Anchor CLIのインストール

[Anchor](https://www.anchor-lang.com/)は、Solanaプログラムを開発するためのフレームワークです。AnchorフレームワークはRustマクロを活用して、Solanaプログラムの記述プロセスを簡素化します。

#### 前提条件

*shell`anchor init`*コマンドで作成されるデフォルトのAnchorプロジェクトテストファイル（TypeScript）には、Node.jsとYarnが必要です。（Rustテストテンプレートは*shell`anchor init --test-template rust`*を使用して利用できます）

<Accordions>
<Accordion title="Nodeのインストール">

1. 次のコマンドを実行して、[Node Version Manager (nvm)](https://github.com/nvm-sh/nvm)を使用してNodeをインストールします：

```terminal
$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/master/install.sh | bash
```

2. ターミナルを再起動し、`nvm`コマンドが正常に実行されることを確認します：

```terminal
$ command -v nvm
```

3. `nvm`を使用してNodeをインストールします：

```terminal
$ nvm install node
```

4. Nodeのバージョンを確認して、インストールが成功したことを確認します：

```terminal
$ node --version
```

次のような出力が表示されます：

```
v23.7.0
```

</Accordion>
<Accordion title="Yarnのインストール">

1. Yarnをインストールします：

```terminal
$ npm install --global yarn
```

2. Yarnのバージョンを確認して、インストールが成功したことを確認します：

```terminal
$ yarn --version
```

次の出力が表示されます：

```
1.22.1
```

</Accordion>
</Accordions>

#### インストール

Anchor CLIとツールは、2つの方法でインストールできます：

- Anchor Version Manager（AVM）— 推奨されるインストール方法
- AVMを使用しない — GitHubから直接インストール

<Tabs groupId="anchor" items={["AVM", "Without AVM"]}>
<Tab value="AVM">

Anchor Version
Manager（AVM）を使用すると、システムに異なるAnchorバージョンをインストールして管理し、将来的にAnchorバージョンを簡単に更新できます。AVMを使用してAnchorをインストールするには、以下の手順に従ってください：

1. 次のコマンドでAVMをインストールします：

```terminal
$ cargo install --git https://github.com/solana-foundation/anchor avm --force
```

2. AVMが正常にインストールされたことを確認します：

```terminal
$ avm --version
```

3. AVMを使用してAnchor CLIをインストールします：

最新バージョンをインストールする場合：

```terminal
$ avm install latest
$ avm use latest
```

特定のバージョンをインストールする場合は、バージョン番号を指定します：

```terminal
$ avm install 0.30.1
$ avm use 0.30.1
```

<Callout type="warn">

LinuxまたはWSLでAnchor
CLIをインストールする際に、次のエラーが発生する場合があります：

```
error: could not exec the linker cc = note: Permission denied (os error 13)
```

このエラーメッセージが表示された場合は、次の手順に従ってください：

1. このページの上部にある[Linux](/docs/intro/installation#install-dependencies)セクションに記載されている依存関係をインストールします。
2. Anchor CLIのインストールを再試行します。

</Callout>

4. Anchor CLIのバージョンを確認して、インストールが成功したことを確認します：

```terminal
$ anchor --version
```

次のような出力が表示されます：

```
anchor-cli 0.31.1
```

<Callout type="info">

システムで実行するAnchor
CLIバージョンを宣言するために、*shell`avm use`*コマンドを実行することを忘れないでください。

- `latest`バージョンをインストールした場合は、*shell`avm use latest`*を実行します。
- バージョン`0.30.1`をインストールした場合は、*shell`avm use 0.30.1`*を実行します。

</Callout>

</Tab>

<Tab value="Without AVM">

1. 次のコマンドで、Anchor CLIの特定のバージョンをインストールします：

```terminal
$ cargo install --git https://github.com/solana-foundation/anchor --tag v0.30.1 anchor-cli
```

2. Anchor CLIのバージョンを確認して、インストールが成功したことを確認します：

```terminal
$ anchor --version
```

次のような出力が表示されます：

```
anchor-cli 0.31.1
```

</Tab>
</Tabs>

</Step>
<Step>

### Surfpool CLIのインストール

[Surfpool](https://surfpool.run/)は、ローカル開発用のツールであり、`solana-test-validator`の改良版です。Surfpoolの機能の詳細については、[Surfpoolドキュメント](https://docs.surfpool.run/)をご覧ください。

1. 次のコマンドでSurfpoolをインストールします：

```terminal
$ curl -sL https://run.surfpool.run/ | bash
```

2. Surfpool CLIのバージョンを確認して、インストールが成功したことを確認します：

```terminal
$ surfpool --version
```

次のような出力が表示されます：

```
surfpool 0.12.0
```

</Step>
</Steps>

### Solana開発用のAIツールのセットアップ

このセクションでは、Solana開発を加速するために使用できるオプションのAIツールのセットアップについて説明します。

| ツール   | 説明                                                                               | リンク                      |
| -------- | ---------------------------------------------------------------------------------- | --------------------------- |
| MCP      | CursorなどのエディタでSolanaのAI支援開発を改善するために接続できるMCPサーバー。    | https://mcp.solana.com/     |
| LLMs.txt | SolanaドキュメントでLLMをトレーニングするために使用できる、LLM最適化ドキュメント。 | https://solana.com/llms.txt |

---
title: 支払いボタン
description: Solana決済用のドロップインReactコンポーネント
---

<Callout type="caution">
  Commerce
  Kitは現在ベータ版です。安定版リリース前にAPIが変更される可能性があります。Commerce
  Kitの詳細については、[Commerce
  Kitドキュメント](https://launch.solana.com/docs/commerce-kit)を参照してください。
</Callout>

[Commerce Kit](https://www.npmjs.com/package/@solana-commerce/kit)の`PaymentButton`コンポーネントは、ウォレット接続、トークン選択、トランザクション処理、UIステートを標準で処理する完全な決済インターフェースを提供します。

## インストール

```bash
pnpm add @solana-commerce/kit
```

## 基本的な使い方

```tsx
import { PaymentButton } from "@solana-commerce/kit";

function Checkout() {
  return (
    <PaymentButton
      config={{
        merchant: { name: "My Store", wallet: "your-wallet-address" },
        mode: "tip"
      }}
      onPaymentSuccess={(signature) => {
        console.log("Payment confirmed:", signature);
      }}
    />
  );
}
```

[Commerce Kit Playground](https://launch.solana.com/products/commercekit/playground)でコンポーネントの設定とテストを行うことができます。

### チップボタン

![チップボタン](/assets/docs/payments/tip-button.png)

### 支払いモーダル

![支払いモーダル](/assets/docs/payments/pay-modal.png)

### Solana Pay QRコードモーダル

![Solana Pay QRコードモーダル](/assets/docs/payments/scan-modal.png)

## 支払いモード

`mode`オプションはボタンの動作を決定します。

| モード | 説明                              |
| ------ | --------------------------------- |
| `tip`  | ユーザーが金額を選択(寄付/チップ) |

## 設定

### 必須設定

| プロパティ        | 型       | 説明                                     |
| ----------------- | -------- | ---------------------------------------- |
| `merchant.name`   | `string` | チェックアウト時に表示されるビジネス名   |
| `merchant.wallet` | `string` | 支払いを受け取るSolanaウォレットアドレス |
| `mode`            | 'tip'`   | 支払いフロータイプ                       |

### オプション設定

| プロパティ     | 型                      | 説明                                         |
| -------------- | ----------------------- | -------------------------------------------- |
| `network`      | `'mainnet' \| 'devnet'` | Solanaネットワーク(デフォルト: `'mainnet'`)  |
| `rpcUrl`       | `string`                | カスタムRPCエンドポイント                    |
| `allowedMints` | `string[]`              | ミントアドレスで受け入れるトークンを制限     |
| `showQR`       | `boolean`               | QRコード決済オプションを有効化               |
| `theme`        | `ThemeConfig`           | ビジュアルカスタマイズ(色、ボーダー半径など) |

## イベントコールバック

| コールバック       | パラメータ            | 説明                                           |
| ------------------ | --------------------- | ---------------------------------------------- |
| `onPaymentSuccess` | `(signature: string)` | オンチェーンでトランザクションが確認されました |
| `onPaymentError`   | `(error: Error)`      | いずれかの段階で支払いが失敗しました           |
| `onPaymentStart`   | `()`                  | 支払いフローが開始されました                   |
| `onCancel`         | `()`                  | ユーザーが支払いをキャンセルしました           |

## カスタムトリガー

デフォルトのボタンを独自の要素に置き換えます:

```tsx
<PaymentButton
  config={{
    merchant: { name: "Shop", wallet: "address" },
    mode: "tip"
  }}
>
  <button className="my-custom-button">Pay with Solana</button>
</PaymentButton>
```

---
title: İstemci Oluşturma
description:
  Codama CLI kullanarak Solana programları için istemci oluşturmanın tam
  kılavuzu.
---

[Codama](https://github.com/codama-idl/codama), bir programın IDL dosyasından
TypeScript ve Rust istemcileri oluşturur. Oluşturulan istemciler, talimatları
çağırmak ve hesapları getirmek için fonksiyonlar içerir, program hesaplarını
veya instruction data'yı manuel olarak serileştirme ve ters serileştirme
ihtiyacını ortadan kaldırır.

<Callout type="warn">
  Codama aktif geliştirme aşamasındadır ve değişikliğe tabidir. En güncel
  bilgiler için hızlı referansta bağlantısı verilen depolara bakın.
</Callout>

## Hızlı Referans

### CLI Komutları

| Komut         | Açıklama                                             |
| ------------- | ---------------------------------------------------- |
| `codama init` | Bir codama yapılandırma dosyası oluştur              |
| `codama run`  | Yapılandırma dosyasından program istemcileri oluştur |

### İstemci Oluşturucuları

| Paket                                                                                                    | Açıklama                                                                               |
| -------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------- |
| [`@codama/renderers-js`](https://github.com/codama-idl/renderers-js)                                     | [`@solana/kit`](https://www.solanakit.com) uyumlu TypeScript istemcileri oluştur       |
| [`@codama/renderers-rust`](https://github.com/codama-idl/renderers-rust)                                 | [`solana_sdk`](https://github.com/anza-xyz/solana-sdk) uyumlu Rust istemcileri oluştur |
| [`@codama/nodes-from-anchor`](https://github.com/codama-idl/codama/tree/main/packages/nodes-from-anchor) | İstemci oluşturmak için Anchor IDL'lerini Codama IDL'lerine dönüştür                   |

### Ek Kaynaklar

| Kaynak                                                                                                     | Açıklama                                                                                 |
| ---------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------- |
| [Codama](https://github.com/codama-idl/codama)                                                             | Codama GitHub                                                                            |
| [Codama CLI](https://github.com/codama-idl/codama/blob/main/packages/cli/README.md)                        | Codama CLI GitHub                                                                        |
| [Codama Macros](https://github.com/codama-idl/codama-rs)                                                   | Codama Macros GitHub. Codama makroları ile yerel Rust programlarından Codama IDL oluştur |
| [Codama Macros Example Program](https://github.com/lorisleiva/codama-demo-2025-08/tree/main/3-from-macros) | Codama makrolarının kullanımını gösteren örnek program                                   |

## Örnek

Bu örnek, bir
[Anchor program IDL](https://www.anchor-lang.com/docs/basics/idl)'inden istemci
oluşturma sürecini adım adım anlatır.

<ScrollyCoding>

## !!steps Proje Dosyalarını Kurma

Takip etmek için `example` adında yeni bir dizin oluşturun ve kod
parçacıklarından `idl.json` dosyasını ve `package.json` dosyasını ekleyin.

<Callout type="info">

Bu örnek bir sayaç programı IDL'si kullanır.
[Kaynak kodu görüntüle](https://github.com/solana-developers/anchor-web3js-nextjs/blob/main/program/programs/counter/src/lib.rs).

Bir Anchor projesinde, IDL `anchor build` komutunu çalıştırdıktan sonra
`target/idl/<program_name>.json` konumunda bulunur.

</Callout>

```json !! title="example/idl.json"
{
  "address": "8PY1q5J3Aq2z7TBDLBrVjv77mYzjXSCz6iHQaFEFw9hY",
  "metadata": {
    "name": "counter",
    "version": "0.1.0",
    "spec": "0.1.0",
    "description": "Created with Anchor"
  },
  "instructions": [
    {
      "name": "decrement",
      "discriminator": [106, 227, 168, 59, 248, 27, 150, 101],
      "accounts": [
        {
          "name": "user",
          "writable": true,
          "signer": true
        },
        {
          "name": "counter",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [99, 111, 117, 110, 116, 101, 114]
              }
            ]
          }
        },
        {
          "name": "vault",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [118, 97, 117, 108, 116]
              },
              {
                "kind": "account",
                "path": "user"
              }
            ]
          }
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": []
    },
    {
      "name": "increment",
      "discriminator": [11, 18, 104, 9, 104, 174, 59, 33],
      "accounts": [
        {
          "name": "user",
          "writable": true,
          "signer": true
        },
        {
          "name": "counter",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [99, 111, 117, 110, 116, 101, 114]
              }
            ]
          }
        },
        {
          "name": "vault",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [118, 97, 117, 108, 116]
              },
              {
                "kind": "account",
                "path": "user"
              }
            ]
          }
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": []
    }
  ],
  "accounts": [
    {
      "name": "Counter",
      "discriminator": [255, 176, 4, 245, 188, 253, 124, 25]
    }
  ],
  "errors": [
    {
      "code": 6000,
      "name": "UnderflowError",
      "msg": "Counter cannot be decremented below zero"
    }
  ],
  "types": [
    {
      "name": "Counter",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "count",
            "type": "u64"
          }
        ]
      }
    }
  ]
}
```

```json !! title="example/package.json"
{
  "name": "example",
  "version": "1.0.0",
  "type": "module",
  "devDependencies": {
    "@types/node": "^24.10.0",
    "tsx": "^4.20.6",
    "typescript": "^5.9.3"
  }
}
```

## !!steps Codama yapılandırma dosyası oluştur

Codama, IDL dosyasının konumunu, hangi istemci dillerinin oluşturulacağını ve
oluşturulan kodun nereye çıktı alınacağını belirtmek için bir yapılandırma
dosyası kullanır. Bu yapılandırmayı şu komutu çalıştırarak oluşturun:

```terminal
$ npx codama init
```

Bu komut, projenizin kök dizininde bir `codama.json` dosyası oluşturmak ve
gerekli Codama bağımlılıklarını yüklemek için size sorular soracaktır.

```shell title="example output"
Welcome to Codama!
✔ Where is your IDL located? (Supports Codama and Anchor IDLs). … idl.json
✔ Which script preset would you like to use? › Generate JavaScript client, Generate Rust client
✔ [js] Where should the JavaScript code be generated? … clients/js/src/generated
✔ [rust] Where is the Rust client crate located? … clients/rust
✔ [rust] Where should the Rust code be generated? … clients/rust/src/generated
▲ Your configuration requires additional dependencies.
▲ Install command: pnpm install @codama/nodes-from-anchor @codama/renderers-js @codama/renderers-rust
✔ Install dependencies? … yes
→ Installing
  ├─ @codama/nodes-from-anchor
  ├─ @codama/renderers-js
  └─ @codama/renderers-rust
✔ Dependencies installed successfully.

✔ Configuration file created.
  └─ Path: /example/codama.json
```

```json !! title="example/codama.json"
{
  "idl": "idl.json",
  "before": [],
  "scripts": {
    "js": {
      "from": "@codama/renderers-js",
      "args": ["clients/js/src/generated"]
    },
    "rust": {
      "from": "@codama/renderers-rust",
      "args": [
        "clients/rust/src/generated",
        {
          "crateFolder": "clients/rust",
          "formatCode": true
        }
      ]
    }
  }
}
```

```json !! title="example/package.json"
{
  "name": "example",
  "version": "1.0.0",
  "type": "module",
  "devDependencies": {
    "@types/node": "^24.10.0",
    "tsx": "^4.20.6",
    "typescript": "^5.9.3"
  },
  "dependencies": {
    "@codama/nodes-from-anchor": "^1.2.9",
    "@codama/renderers-js": "^1.4.3",
    "@codama/renderers-rust": "^1.2.7"
  }
}
```

## !!steps İstemcileri oluştur

Yapılandırma dosyası oluşturulduktan sonra, istemcileri oluşturmak için
oluşturma komutunu çalıştırın:

```terminal
$ npx codama run --all
```

<WithMentions>

Bu, codama yapılandırma dosyasında belirtilen [dosya yollarında](mention:path)
program istemcilerini oluşturacaktır.

```json title="codama.json"
{
  "idl": "idl.json",
  "before": [],
  "scripts": {
    "js": {
      "from": "@codama/renderers-js",
      // !mark
      // !mention path
      "args": ["clients/js/src/generated"]
    },
    "rust": {
      "from": "@codama/renderers-rust",
      "args": [
        // !mark
        // !mention path
        "clients/rust/src/generated",
        {
          "crateFolder": "clients/rust",
          "formatCode": true
        }
      ]
    }
  }
}
```

</WithMentions>

<Callout type="info">
  Oluşturulan tüm dosyalar ilgili kod parçacıklarında gösterilmemektedir.
</Callout>

```ts !! title="example/clients/js/src/generated/index.ts"
/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

export * from "./accounts";
export * from "./errors";
export * from "./instructions";
export * from "./programs";
```

```rs !! title="example/clients/rust/src/generated/mod.rs"
//! This code was AUTOGENERATED using the codama library.
//! Please DO NOT EDIT THIS FILE, instead use visitors
//! to add features, then rerun codama to update it.
//!
//! <https://github.com/codama-idl/codama>
//!

pub mod accounts;
pub mod errors;
pub mod instructions;
pub mod programs;
pub mod shared;

pub(crate) use programs::*;
```

</ScrollyCoding>

## Oluşturulan istemcileri kullanma

Oluşturulan istemciler, programınızla etkileşim kurmak için kaynak kodu içerir
ancak `package.json` (TypeScript için) veya `Cargo.toml` (Rust için) dosyalarını
içermez.

Yeni bir `package.json` ve `Cargo.toml` dosyası oluşturmanız veya oluşturulan
istemcilerden gerekli bağımlılıkları projenizin mevcut dosyalarına eklemeniz
gerekecektir.

### Uygulamanıza entegre edilmiş

İstemciyi doğrudan uygulamanızın kaynak dizinine oluşturun ve ardından gerekli
bağımlılıkları mevcut `package.json` veya `Cargo.toml` dosyanıza ekleyin.

İstemci kodunun paylaşılması veya yayınlanması gerekmeyen bir uygulama
oluştururken bu yaklaşımı kullanın.

### Bağımsız paketler veya crate'ler

Her istemci için ayrı TypeScript paketleri veya Rust crate'leri oluşturun.
Örneğin, `clients/js/` içine `package.json` ve `clients/rust/` içine
`Cargo.toml` ekleyin.

İstemciyi yeniden kullanılabilir bir kütüphane (npm veya crates.io) olarak
yayınlamak veya bir monorepo'da birden fazla uygulama arasında istemciyi
paylaşmak için bu yaklaşımı kullanın.

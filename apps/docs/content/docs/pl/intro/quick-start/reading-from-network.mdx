---
title: Odczyt z sieci
description:
  Dowiedz się, jak odczytywać dane z sieci blockchain Solana. Ten przewodnik
  obejmuje pobieranie kont portfeli, kont programów i kont tokenów za pomocą
  JavaScript/TypeScript, z praktycznymi przykładami wykorzystującymi bibliotekę
  Solana web3.js.
---

Odczytuj dane z sieci Solana, pobierając różne konta. Ta sekcja pomoże Ci
zrozumieć strukturę kont Solana [kont](/docs/core/accounts). Każde konto Solana
ma unikalny [adres](/docs/core/accounts#account-address), który służy do
lokalizowania odpowiadających mu danych w łańcuchu. Konta zawierają
[dane stanowe lub program wykonywalny](/docs/core/accounts#types-of-accounts).

## Pobierz konto portfela

<WithMentions>

Portfel to konto należące do
[System Program](/docs/core/programs#the-system-program). Portfele są głównie
używane do przechowywania SOL i podpisywania transakcji. Gdy SOL jest wysyłany
na nowy adres po raz pierwszy, konto systemowe jest automatycznie tworzone.

Poniższy przykład generuje [nowy keypair](mention:keypair),
[żąda SOL](mention:airdrop) w celu zasilenia nowego adresu publicznego oraz
[pobiera dane konta](mention:info) dla nowo zasilonego portfela.

<CodeTabs flags="r">

```ts !! title="Fetch account"
import { Keypair, Connection, LAMPORTS_PER_SOL } from "@solana/web3.js";

// !mention keypair
const keypair = Keypair.generate();
console.log(`Public Key: ${keypair.publicKey}`);

const connection = new Connection("http://localhost:8899", "confirmed");

// Funding an address with SOL automatically creates an account
// !mention airdrop
const signature = await connection.requestAirdrop(
  keypair.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

// !mention info
const accountInfo = await connection.getAccountInfo(keypair.publicKey);
console.log(JSON.stringify(accountInfo, null, 2));
```

</CodeTabs>
</WithMentions>

<ScrollyCoding>

## !!steps

Gdy pobierasz konto portfela, odpowiedź zawiera pola pokazane w przykładzie
wyniku po prawej stronie.

<CodePlaceholder title="Przykładowy wynik" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

Pole `data` zawiera dane konta przechowywane jako bajty. W przypadku kont
portfeli to pole jest puste (0 bajtów).

<CodePlaceholder title="Przykładowy wynik" />

```json !! title="Example output"
{
  // !focus(1:4)
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

Pole `executable` wskazuje, czy pole `data` konta zawiera kod programu
wykonywalnego. W przypadku kont portfeli to pole ma wartość `false`.

<CodePlaceholder title="Przykładowy wynik" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  // !focus
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

Pole `lamports` zawiera saldo SOL konta, w
[lamportach](/docs/references/terminology#lamport).

<CodePlaceholder title="Przykładowy wynik" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  // !focus
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

Pole `owner` pokazuje program, który jest właścicielem konta. W przypadku
portfeli właścicielem jest zawsze System Program, z adresem
`11111111111111111111111111111111`.

<CodePlaceholder title="Przykładowy wynik" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  // !focus
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

Pole `rentEpoch` jest polem dziedzictwa z przestarzałego mechanizmu opłat za
przechowywanie danych (rent). (To pole jest uwzględnione dla zachowania
kompatybilności wstecznej.)

<CodePlaceholder title="Przykładowy wynik" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  // !focus
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

Pole `space` pokazuje liczbę bajtów zawartych w polu `data`. Nie jest to pole w
[typie konta](/docs/core/accounts#account-structure) jako takim, ale jest
uwzględnione w odpowiedzi.

W tym przykładzie pole `space` wynosi 0, ponieważ pole `data` zawiera 0 bajtów
danych.

<CodePlaceholder title="Przykładowy wynik" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  // !focus
  "space": 0
}
```

</ScrollyCoding>

## Pobierz Token Program

Poniższy przykład pobiera Token Program, aby pokazać różnicę między kontami
portfela a kontami programu. Konto programu przechowuje skompilowany kod bajtowy
dla [kodu źródłowego](https://github.com/solana-program/token/tree/main/program)
Token Program. Możesz zobaczyć to konto programu na
[Solana Explorer](https://explorer.solana.com/address/TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA).

<CodeTabs flags="r">

```ts !! title="Fetch program account"
import { Connection, PublicKey } from "@solana/web3.js";

const connection = new Connection(
  "https://api.mainnet.solana.com",
  "confirmed"
);
// !mark(1:2)
const address = new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");
const accountInfo = await connection.getAccountInfo(address);

// !collapse(1:17) collapsed
console.log(
  JSON.stringify(
    accountInfo,
    (key, value) => {
      if (key === "data" && value && value.length > 1) {
        return [
          value[0],
          "...truncated, total bytes: " + value.length + "...",
          value[value.length - 1]
        ];
      }
      return value;
    },
    2
  )
);
```

</CodeTabs>

<ScrollyCoding>

## !!steps

Token Program jest wykonywalnym kontem programu. Programy mają te same
podstawowe pola co wszystkie [konta](/docs/core/accounts#account-structure), ale
z kluczowymi różnicami.

<CodePlaceholder title="Konto programu Token" />

```json !! title="Token program account"
{
  "data": {
    "type": "Buffer",
    "data": [127, "...truncated, total bytes: 134080...", 0]
  },
  "executable": true,
  "lamports": 4522329612,
  "owner": "BPFLoader2111111111111111111111111111111111",
  "rentEpoch": 18446744073709552000,
  "space": 134080
}
```

## !!steps

Pole `executable` jest ustawione na `true`, co wskazuje, że pole `data` konta
zawiera wykonywalny kod.

<CodePlaceholder title="Konto programu Token" />

```json !! title="Token program account"
{
  "data": {
    "type": "Buffer",
    "data": [127, "...truncated, total bytes: 134080...", 0]
  },
  // !focus
  "executable": true,
  "lamports": 4522329612,
  "owner": "BPFLoader2111111111111111111111111111111111",
  "rentEpoch": 18446744073709552000,
  "space": 134080
}
```

## !!steps

Pole `data` przechowuje wykonywalny kod programu.

<CodePlaceholder title="Konto programu Token" />

```json !! title="Token program account"
{
  // !focus(1:4)
  "data": {
    "type": "Buffer",
    "data": [127, "...truncated, total bytes: 134080...", 0]
  },
  "executable": true,
  "lamports": 4522329612,
  "owner": "BPFLoader2111111111111111111111111111111111",
  "rentEpoch": 18446744073709552000,
  "space": 134080
}
```

## !!steps

Każde konto programu jest własnością
[programu ładującego](/docs/core/programs#loader-programs). W tym przykładzie
`owner` to program BPFLoader2.

<CodePlaceholder title="Konto programu Token" />

```json !! title="Token program account"
{
  "data": {
    "type": "Buffer",
    "data": [127, "...truncated, total bytes: 134080...", 0]
  },
  "executable": true,
  "lamports": 4522329612,
  // !focus
  "owner": "BPFLoader2111111111111111111111111111111111",
  "rentEpoch": 18446744073709552000,
  "space": 134080
}
```

</ScrollyCoding>

## Pobierz konto mint

[Konto mint](https://github.com/solana-program/token/blob/program%40v8.0.0/program/src/state.rs#L16-L30)
to konto należące do Token Program, które przechowuje globalne metadane dla
konkretnego tokena. Obejmuje to całkowitą podaż, liczbę miejsc dziesiętnych oraz
konta uprawnione do mintowania lub zamrażania tokenów. Adres konta mint
jednoznacznie identyfikuje token w sieci Solana.

Poniższy przykład pobiera konto mint USD Coin, aby pokazać, jak stan programu
jest przechowywany w osobnym koncie.

<CodeTabs flags="r">

```ts !! title="Fetch program account"
import { Connection, PublicKey } from "@solana/web3.js";

const connection = new Connection(
  "https://api.mainnet.solana.com",
  "confirmed"
);

// !mark(1:2)
const address = new PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");
const accountInfo = await connection.getAccountInfo(address);

// !collapse(1:17) collapsed
console.log(
  JSON.stringify(
    accountInfo,
    (key, value) => {
      if (key === "data" && value && value.length > 1) {
        return [
          value[0],
          "...truncated, total bytes: " + value.length + "...",
          value[value.length - 1]
        ];
      }
      return value;
    },
    2
  )
);
```

</CodeTabs>

<ScrollyCoding>

## !!steps

Konta mint przechowują stan, a nie wykonywalny kod. Są one własnością Token
Program, który zawiera instrukcje definiujące, jak tworzyć i aktualizować konta
mint.

<CodePlaceholder title="Konto mint" />

```json !! title="Mint account"
{
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  "executable": false,
  "lamports": 407438077149,
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

## !!steps

Pole `data` konta mint przechowuje stan, a nie kod wykonywalny, więc pole
`executable` ma wartość `false`.

Token Program definiuje typ danych `Mint`, który jest przechowywany w polu
`data`.

<CodePlaceholder title="Konto mint" />

```json !! title="Mint account"
{
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  // !focus
  "executable": false,
  "lamports": 407438077149,
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

## !!steps

Pole `data` zawiera zserializowany stan konta `Mint`, taki jak autorytet mint,
całkowita podaż, liczba miejsc dziesiętnych.

Aby odczytać dane z konta Mint, należy zdeserializować pole `data` do typu
danych `Mint`, co jest pokazane w
[kolejnym przykładzie](#deserialize-mint-account).

<CodePlaceholder title="Konto mint" />

```json !! title="Mint account"
{
  // !focus(1:4)
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  "executable": false,
  "lamports": 407438077149,
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

## !!steps

Konto mint jest własnością
[Token Program](/docs/references/terminology#token-program). Oznacza to, że jego
pole `data` może być modyfikowane wyłącznie przez instrukcje Token Program.

<CodePlaceholder title="Konto Mint" />

```json !! title="Mint Account"
{
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  "executable": false,
  "lamports": 407438077149,
  // !focus
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

</ScrollyCoding>

## Deserializacja konta mint

Zanim surowe bajty w polu `data` konta mogą być interpretowane w sposób
znaczący, muszą zostać zdeserializowane. Odpowiedni typ danych jest definiowany
przez program, który jest właścicielem konta. Większość programów Solana
dostarcza biblioteki klienckie z funkcjami pomocniczymi, które upraszczają
proces deserializacji. Te funkcje konwertują surowe bajty konta na
ustrukturyzowane typy danych, co ułatwia pracę z danymi konta.

<WithMentions>

Na przykład biblioteka _shell`@solana/spl-token`_ zawiera funkcję
[_ts`getMint()`_](mention:one), która pomaga zdeserializować pole `data` konta
mint do typu danych
[Mint](https://github.com/solana-program/token/blob/program%40v8.0.0/program/src/state.rs#L16-L30)
zdefiniowanego przez Token Program.

<CodeTabs flags="r">

```ts !! title="Deserialize mint account data"
import { PublicKey, Connection } from "@solana/web3.js";
import { getMint } from "@solana/spl-token";

const connection = new Connection(
  "https://api.mainnet.solana.com",
  "confirmed"
);

const address = new PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");
// !mention one
const mintData = await getMint(connection, address, "confirmed");

// !collapse(1:17) collapsed
console.log(
  JSON.stringify(
    mintData,
    (key, value) => {
      // Convert BigInt to String
      if (typeof value === "bigint") {
        return value.toString();
      }
      // Handle Buffer objects
      if (Buffer.isBuffer(value)) {
        return `<Buffer ${value.toString("hex")}>`;
      }
      return value;
    },
    2
  )
);
```

</CodeTabs>

</WithMentions>

```rs title="Mint account type"
pub struct Mint {
    /// Optional authority used to mint new tokens. The mint authority may only
    /// be provided during mint creation. If no mint authority is present
    /// then the mint has a fixed supply and no further tokens may be
    /// minted.
    pub mint_authority: COption<Pubkey>,
    /// Total supply of tokens.
    pub supply: u64,
    /// Number of base 10 digits to the right of the decimal place.
    pub decimals: u8,
    /// Is `true` if this structure has been initialized
    pub is_initialized: bool,
    /// Optional authority to freeze token accounts.
    pub freeze_authority: COption<Pubkey>,
}
```

<ScrollyCoding>

## !!steps

Funkcja _ts`getMint()`_ deserializuje pole `data` konta mint do typu konta Mint.

```json title="Mint account"
{
  // !focus(1:4)
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  "executable": false,
  "lamports": 407438077149,
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

Możesz zobaczyć w pełni zdeserializowane dane
[konta mint](https://explorer.solana.com/address/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v?cluster=mainnet-beta)
w Solana Explorer.

<CodePlaceholder title="Zdeserializowane dane mint" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

Pole `address` zawiera adres konta mint.

<CodePlaceholder title="Zdeserializowane dane mint" />

```json !! title="Deserialized mint data"
{
  // !focus
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

Pole `mintAuthority` wskazuje jedyne konto, które może tworzyć nowe jednostki
tokenu.

<CodePlaceholder title="Zdeserializowane dane mint" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  // !focus
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

Pole `supply` pokazuje całkowitą liczbę tokenów, które zostały wybite. Ta
wartość jest mierzona w najmniejszej jednostce tokena. Aby uzyskać całkowitą
podaż w standardowych jednostkach, dostosuj wartość pola `supply` za pomocą pola
`decimals`.

<CodePlaceholder title="Zdeserializowane dane mint" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  // !focus
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

Pole `decimals` pokazuje liczbę miejsc dziesiętnych dla tokena.

<CodePlaceholder title="Zdeserializowane dane mint" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  // !focus
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

Pole `isInitialized` wskazuje, czy konto mint zostało zainicjalizowane. To pole
jest używane jako kontrola bezpieczeństwa w Token Program.

<CodePlaceholder title="Zdeserializowane dane mint" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  // !focus
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

Pole `freezeAuthority` pokazuje konto z uprawnieniami do zamrażania kont
tokenów. Zamrożone konto tokena nie może przenosić ani spalać tokena, który
zawiera.

<CodePlaceholder title="Zdeserializowane dane mint" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  // !focus
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

Pole `tlvData` zawiera dodatkowe dane dla Token Extensions i wymaga dalszej
deserializacji. To pole dotyczy tylko kont utworzonych przez
[Token Extension Program](/docs/tokens/extensions) (Token2022).

<CodePlaceholder title="Zdeserializowane dane mint" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  // !focus(1:4)
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

</ScrollyCoding>

---
title: GotowoÅ›Ä‡ produkcyjna
description: PrzejÅ›cie z testÃ³w na devnecie do wdroÅ¼enia na mainnecie
---

Tworzenie lokalnie i testowanie na devnecie to Å›wietny sposÃ³b, by zaczÄ…Ä‡ pracÄ™ z
pÅ‚atnoÅ›ciami w Solanie. Jednak gdy jesteÅ› gotowy na wdroÅ¼enie na Mainnet, musisz
byÄ‡ Å›wiadomy specyfiki mainnetu. Devnet wybacza bÅ‚Ä™dy. Mainnet â€“ nie. Ten
przewodnik omawia kluczowe rÃ³Å¼nice, ktÃ³re pozwolÄ… zapewniÄ‡ uÅ¼ytkownikom pÅ‚ynne
doÅ›wiadczenie.

| Devnet                              | Mainnet                                                                                     |
| ----------------------------------- | ------------------------------------------------------------------------------------------- |
| Darmowe SOL z faucetÃ³w              | [ZdobÄ…dÅº prawdziwe SOL](https://solana.com/ecosystem/explore?categories=exchange) na opÅ‚aty |
| Niska konkurencja o miejsce w bloku | OpÅ‚aty priorytetowe majÄ… znaczenie                                                          |
| Transakcje przechodzÄ… Å‚atwo         | Konfiguracja transakcji jest kluczowa                                                       |
| Publiczny RPC wystarcza             | Wymagany produkcyjny RPC                                                                    |
| Klucze i minty z devnetu            | Inne klucze i minty tokenÃ³w â€” zaktualizuj konfiguracjÄ™                                      |

## Infrastruktura RPC

[Publiczne endpointy](https://solana.com/docs/references/clusters#solana-public-rpc-endpoints)
(`api.mainnet-beta.solana.com`) majÄ… limity zapytaÅ„ i brak SLA. SÄ… odpowiednie
do developmentu, ale zawiodÄ… w produkcyjnych pÅ‚atnoÅ›ciach â€” to jak prÃ³ba
uruchomienia procesora pÅ‚atnoÅ›ci przez wspÃ³Å‚dzielone API bez gwarancji
dostÄ™pnoÅ›ci.

<Callout type="caution" title="Nigdy nie uÅ¼ywaj publicznego RPC w produkcji">
  Korzystaj z [prywatnego dostawcy RPC](https://solana.com/rpc) dla niezawodnego
  i niskolatencyjnego dostÄ™pu.
</Callout>

WybierajÄ…c dostawcÄ™ RPC, zwrÃ³Ä‡ uwagÄ™ na:

- **NiezawodnoÅ›Ä‡**: SLA z gwarancjÄ… dostÄ™pnoÅ›ci (99,9%+)
- **OpÃ³Åºnienia**: BliskoÅ›Ä‡ geograficzna do uÅ¼ytkownikÃ³w
- **Funkcje**: Funkcje szybkiego zatwierdzania transakcji, indeksowanie, API
  opÅ‚at priorytetowych

PeÅ‚nÄ… listÄ™ dostawcÃ³w RPC znajdziesz w przewodniku
[RPC Infrastructure Providers](https://solana.com/rpc).

### Redundantna konfiguracja RPC

Jak kaÅ¼dy dostawca usÅ‚ug sieciowych, dostawcy RPC mogÄ… mieÄ‡ przestoje lub okresy
pogorszonej wydajnoÅ›ci. Aby Twoja aplikacja byÅ‚a odporna, skonfiguruj jÄ… do
korzystania z wielu dostawcÃ³w RPC.

[Solana Kit](https://github.com/anza-xyz/kit/tree/main/packages/rpc-transport-http)
to biblioteka umoÅ¼liwiajÄ…ca dostosowanie transportu RPC, co pozwala zbudowaÄ‡
wÅ‚asnego redundantnego klienta RPC. Oto przykÅ‚ad, jak moÅ¼na jej uÅ¼yÄ‡ do
stworzenia redundantnego klienta RPC:

```ts
import { RpcTransport } from "@solana/rpc-spec";
import { RpcResponse } from "@solana/rpc-spec-types";
import { createHttpTransport } from "@solana/rpc-transport-http";

// Create a transport for each RPC server
const transports = [
  createHttpTransport({ url: "https://mainnet-beta.my-server-1.com" }),
  createHttpTransport({ url: "https://mainnet-beta.my-server-2.com" }),
  createHttpTransport({ url: "https://mainnet-beta.my-server-3.com" })
];

// Create a wrapper transport that distributes requests to them
let nextTransport = 0;
async function roundRobinTransport<TResponse>(
  ...args: Parameters<RpcTransport>
): Promise<RpcResponse<TResponse>> {
  const transport = transports[nextTransport];
  nextTransport = (nextTransport + 1) % transports.length;
  return await transport(...args);
}
```

JeÅ›li nie chcesz budowaÄ‡ wÅ‚asnych narzÄ™dzi do routingu, moÅ¼esz skorzystaÄ‡ z
usÅ‚ug firm trzecich, takich jak [Iron Forge](https://www.ironforge.sanctum.so/),
aby obsÅ‚uÅ¼yÄ‡ routing za Ciebie.

## LÄ…dowanie transakcji

Na Devnecie transakcje sÄ… realizowane doÅ›Ä‡ Å‚atwo. Na Mainnecie konkurujesz o
miejsce w bloku. Aby zwiÄ™kszyÄ‡ szanse na wÅ‚Ä…czenie transakcji do bloku,
powinieneÅ› upewniÄ‡ siÄ™, Å¼e transakcja zostaÅ‚a poprawnie zÅ‚oÅ¼ona. Oznacza to:

- doÅ‚Ä…czenie Å›wieÅ¼ego blockhasha przed wysÅ‚aniem transakcji
- dodanie instrukcji opÅ‚aty priorytetowej z konkurencyjnÄ… opÅ‚atÄ… priorytetowÄ…
- dodanie instrukcji limitu jednostek obliczeniowych z limitem opartym na
  szacowanej liczbie jednostek obliczeniowych wymaganych dla transakcji

Dodatkowo warto rozwaÅ¼yÄ‡ inne narzÄ™dzia, takie jak Jito Bundles, aby zwiÄ™kszyÄ‡
szanse na wÅ‚Ä…czenie transakcji do bloku. Przyjrzyjmy siÄ™ tym narzÄ™dziom bliÅ¼ej.

### Konfiguracja wysyÅ‚ania transakcji

WysyÅ‚ajÄ…c transakcje na Mainnecie, skonfiguruj te parametry, aby uzyskaÄ‡
optymalny wskaÅºnik lÄ…dowania:

**ZarzÄ…dzanie blockhashem:**

- Pobierz z `confirmed` commitment
- Zapisz `lastValidBlockHeight` zwrÃ³cony przez `getLatestBlockhash` â€” to
  informuje, kiedy Twoja transakcja wygaÅ›nie
- Blockhashe wygasajÄ… po ok. 150 blokach (ok. 60â€“90 sekund)

**Opcje wysyÅ‚ania:**

- `maxRetries: 0` â€” WyÅ‚Ä…cz automatyczne ponawianie RPC. ObsÅ‚uÅ¼ ponowienia
  samodzielnie, aby mÃ³c odÅ›wieÅ¼yÄ‡ blockhash w razie potrzeby.
- `skipPreflight: true` â€” Pomijaj symulacjÄ™ przed wysÅ‚aniem. UÅ¼yj tego, jeÅ›li
  transakcja zostaÅ‚a juÅ¼ zweryfikowana i zaleÅ¼y Ci na najniÅ¼szym opÃ³Åºnieniu.
  Pozostaw to `false` podczas developmentu, aby wczeÅ›nie wychwyciÄ‡ bÅ‚Ä™dy.

```typescript
import { createSolanaRpc } from "@solana/kit";

const rpc = createSolanaRpc(process.env.RPC_URL!);

// 1. Get blockhash with confirmed commitment
const { value: latestBlockhash } = await rpc
  .getLatestBlockhash({ commitment: "confirmed" })
  .send();

// 2. Build and sign your transaction with the blockhash
// ... (transaction building code)

// 3. Send with production settings
const signature = await rpc
  .sendTransaction(encodedTransaction, {
    encoding: "base64",
    maxRetries: 0n, // Handle retries yourself
    skipPreflight: true, // Skip simulation for speed (use false during dev)
    preflightCommitment: "confirmed"
  })
  .send();

// 4. Track expiration using lastValidBlockHeight
const { lastValidBlockHeight } = latestBlockhash;
// Stop retrying when current block height exceeds lastValidBlockHeight
```

### UÅ¼ywaj opÅ‚at priorytetowych

KaÅ¼da transakcja w sieci Solana wymaga opÅ‚aty transakcyjnej, pÅ‚atnej w SOL.
OpÅ‚aty transakcyjne dzielÄ… siÄ™ na dwie czÄ™Å›ci: opÅ‚atÄ™ bazowÄ… i opÅ‚atÄ™
priorytetowÄ…. OpÅ‚ata bazowa rekompensuje walidatorom przetwarzanie transakcji.
OpÅ‚ata priorytetowa to opcjonalna opÅ‚ata, ktÃ³ra zwiÄ™ksza szansÄ™, Å¼e obecny lider
przetworzy TwojÄ… transakcjÄ™. MoÅ¼na to porÃ³wnaÄ‡ do ekspresowej wysyÅ‚ki: pÅ‚acisz
wiÄ™cej za szybszÄ… i bardziej niezawodnÄ… realizacjÄ™.

**Jak dziaÅ‚ajÄ… opÅ‚aty:**

```
Total fee = Base fee (5,000 lamports per signature) + Priority fee
Priority fee = Compute units x Price per unit (micro-lamports per compute unit)
```

**Koszty w praktyce:**

- Prosty transfer USDC: ~0,001-0,005 USD w normalnych warunkach
- W czasie przeciÄ…Å¼enia: ~0,01-0,05 USD
- Szczytowe przeciÄ…Å¼enie: MoÅ¼e wzrosnÄ…Ä‡ jeszcze bardziej

**PrzykÅ‚adowa implementacja:**

Pakiet
[`@solana-program/compute-budget`](https://github.com/solana-program/compute-budget)
udostÄ™pnia funkcjÄ™ pomocniczÄ…, ktÃ³ra pozwala Å‚atwo zaktualizowaÄ‡ lub dodaÄ‡
instrukcjÄ™ ceny jednostki obliczeniowej (w mikro-lamportach) do transakcji.

```typescript
import { updateOrAppendSetComputeUnitPriceInstruction } from "@solana-program/compute-budget";

const tx = pipe(
  createTransactionMessage({ version: 0 }),
  (m) => setTransactionMessageFeePayerSigner(payer, m),
  (m) => setTransactionMessageLifetimeUsingBlockhash(latestBlockhash, m),
  (m) => appendTransactionMessageInstructions([myInstructions], m),
  (m) => updateOrAppendSetComputeUnitPriceInstruction(1000n as MicroLamports, m)
);
```

**Jak uzyskaÄ‡ szacunkowe opÅ‚aty:** WiÄ™kszoÅ›Ä‡ dostawcÃ³w RPC oferuje API opÅ‚at
priorytetowych:

- [Helius Priority Fee API](https://docs.helius.dev/solana-apis/priority-fee-api)
- [QuickNode Priority Fee Add-on](https://marketplace.quicknode.com/add-on/solana-priority-fee)
- [Triton Priority Fees API](https://docs.triton.one/chains/solana/improved-priority-fees-api)

PeÅ‚nÄ… mechanikÄ™ opÅ‚at znajdziesz w [OpÅ‚aty transakcyjne](/docs/core/fees) oraz w
naszym przewodniku:
[Jak dodaÄ‡ opÅ‚aty priorytetowe do transakcji](https://solana.com/developers/cookbook/transactions/add-priority-fees).

### Optymalizuj jednostki obliczeniowe

Obliczenia na Solanie to w praktyce miara iloÅ›ci pracy wykonywanej przez
program. Istnieje limit iloÅ›ci obliczeÅ„, ktÃ³re moÅ¼na wykorzystaÄ‡ w jednej
transakcji (obecnie 1,4 miliona jednostek obliczeniowych) oraz limit na iloÅ›Ä‡
obliczeÅ„ na konto na blok (obecnie 100 milionÃ³w jednostek obliczeniowych).

Podczas wysyÅ‚ania transakcji musisz oszacowaÄ‡ iloÅ›Ä‡ jednostek obliczeniowych,
ktÃ³re zostanÄ… uÅ¼yte, i odpowiednio ustawiÄ‡ limit jednostek obliczeniowych â€“ jest
to w praktyce proÅ›ba o zarezerwowanie okreÅ›lonej czÄ™Å›ci caÅ‚kowitej pojemnoÅ›ci
dla Twojej transakcji. W praktyce oznacza to, Å¼e prawidÅ‚owe oszacowanie
wymaganych jednostek obliczeniowych jest kluczowe, aby Twoja transakcja zostaÅ‚a
uwzglÄ™dniona w bloku (i waÅ¼ne dla zarzÄ…dzania opÅ‚atami priorytetowymi).

Solana JSON RPC API posiada metodÄ™
[`simulatetransaction`](/docs/rpc/http/simulatetransaction), ktÃ³ra pozwala
oszacowaÄ‡ liczbÄ™ jednostek obliczeniowych wymaganych do wykonania transakcji, w
tym przewidywanÄ… liczbÄ™ jednostek, ktÃ³re zostanÄ… uÅ¼yte. Pakiet
[`@solana-program/compute-budget`](https://github.com/solana-program/compute-budget)
zawiera funkcjÄ™ pomocniczÄ…, ktÃ³ra umoÅ¼liwia Å‚atwe oszacowanie liczby jednostek
obliczeniowych potrzebnych do transakcji (wykorzystuje ona metodÄ™
`simulatetransaction` w tle).

```ts
import {
  estimateComputeUnitLimitFactory,
  updateOrAppendSetComputeUnitLimitInstruction
} from "@solana-program/compute-budget";

const estimateComputeUnitLimit = estimateComputeUnitLimitFactory({ rpc });
const computeUnitLimit = await estimateComputeUnitLimit(tx);
const txWithComputeUnitLimit = updateOrAppendSetComputeUnitLimitInstruction(
  computeUnitLimit,
  tx
);
```

W Å›rodowisku produkcyjnym, jeÅ›li wielokrotnie wykonujesz ten sam typ transakcji,
warto rozwaÅ¼yÄ‡ cache'owanie oszacowania jednostek obliczeniowych dla danego typu
transakcji, aby uniknÄ…Ä‡ narzutu zwiÄ…zanego z kaÅ¼dorazowym szacowaniem.

### Jito Bundles

Jito bundles to narzÄ™dzie do zarzÄ…dzania atomowym wykonaniem wielu transakcji.
OsiÄ…ga siÄ™ to poprzez wysyÅ‚anie wielu transakcji do sieci Jito z tipem. Tipy
mogÄ… byÄ‡ uÅ¼ywane do zachÄ™cania sieci Jito do wÅ‚Ä…czenia twoich transakcji do
bloku.

**Zasoby:**

- [Dokumentacja Jito](https://docs.jito.wtf/lowlatencytxnsend/)
- [ğŸ¥ Wideo: Jito Bundles](https://www.youtube.com/watch?v=HZ1pK9i6zx4)
- [Przewodnik QuickNode o Jito bundles](https://www.quicknode.com/guides/solana-development/transactions/jito-bundles)

### Strategie ponawiania

Transakcje mogÄ… siÄ™ nie powieÅ›Ä‡ z wielu powodÃ³w. W przeciwieÅ„stwie do
tradycyjnych API pÅ‚atnoÅ›ci, ktÃ³re natychmiast zwracajÄ… sukces/poraÅ¼kÄ™,
transakcje blockchain wymagajÄ… Å›ledzenia potwierdzenia.

**Kluczowe pojÄ™cia:**

- **WygaÅ›niÄ™cie blockhasha**: Transakcje sÄ… waÅ¼ne przez ok. 150 blokÃ³w (ok.
  60â€“90 sekund)
- **Idempotencja**: Ta sama podpisana transakcja zawsze generuje ten sam
  podpisâ€”ponowne wysÅ‚anie jest bezpieczne
- **Exponential backoff**: Unikaj przeciÄ…Å¼ania sieci zbyt szybkimi prÃ³bami
  ponowienia

```typescript
import {
  createSolanaRpc,
  createSolanaRpcSubscriptions,
  sendAndConfirmTransactionFactory,
  isSolanaError,
  SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED
} from "@solana/kit";

const rpc = createSolanaRpc(process.env.RPC_URL!);
const rpcSubscriptions = createSolanaRpcSubscriptions(process.env.RPC_WSS_URL!);

const sendAndConfirmTransaction = sendAndConfirmTransactionFactory({
  rpc,
  rpcSubscriptions
});

// Send with automatic confirmation tracking and block height monitoring
try {
  await sendAndConfirmTransaction(signedTransaction, {
    commitment: "confirmed",
    // Optional: abort after 75 seconds
    abortSignal: AbortSignal.timeout(75_000)
  });
} catch (e) {
  if (isSolanaError(e, SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED)) {
    // Blockhash expiredâ€”rebuild transaction with fresh blockhash and retry
    rebuildAndRetryTransaction(); // implement your own logic for rebuilding and retrying the transaction
  }
  throw e;
}
```

`sendAndConfirmTransactionFactory` z `@solana/kit` automatycznie obsÅ‚uguje
polling potwierdzeÅ„ i Å›ledzenie wysokoÅ›ci bloku. ZgÅ‚asza
`SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED`, gdy blockhash transakcji wygaÅ›nie,
sygnalizujÄ…c koniecznoÅ›Ä‡ zbudowania transakcji na nowo z aktualnym blockhashem.

### Dodatkowe zasoby

- [Przewodnik: Potwierdzanie i wygasanie transakcji](https://solana.com/developers/guides/advanced/confirmation)
- [Helius: Jak zatwierdzaÄ‡ transakcje na Solanie](https://www.helius.dev/blog/how-to-land-transactions-on-solana)
- [QuickNode: Strategie optymalizacji transakcji na Solanie](https://www.quicknode.com/docs/solana/transactions)

## Poziomy potwierdzenia â€“ wyjaÅ›nienie

Solana oferuje trzy poziomy potwierdzenia. W kategoriach finansÃ³w tradycyjnych:

| Poziom      | Definicja Solana                             | Odpowiednik tradycyjny        | PrzykÅ‚ad uÅ¼ycia                       |
| ----------- | -------------------------------------------- | ----------------------------- | ------------------------------------- |
| `processed` | W bloku, jeszcze niezatwierdzone gÅ‚osowaniem | Oczekuje na autoryzacjÄ™       | Aktualizacje UI w czasie rzeczywistym |
| `confirmed` | Zatwierdzone przez superwiÄ™kszoÅ›Ä‡            | Åšrodki rozliczone             | **WiÄ™kszoÅ›Ä‡ pÅ‚atnoÅ›ci**               |
| `finalized` | Zakorzenione, nieodwracalne                  | Åšrodki rozliczone ostatecznie | Wysokie kwoty, zgodnoÅ›Ä‡ z przepisami  |

**Kiedy uÅ¼ywaÄ‡ ktÃ³rego:**

- **Aktualizacje UI**: Pokazuj `processed` dla natychmiastowej informacji
  zwrotnej ("PÅ‚atnoÅ›Ä‡ wysÅ‚ana")
- **ZaksiÄ™gowanie Å›rodkÃ³w uÅ¼ytkownika**: Poczekaj na `confirmed` (bezpieczne dla
  wiÄ™kszoÅ›ci transakcji)
- **WysyÅ‚ka towarÃ³w fizycznych**: Poczekaj na `finalized`
- **DuÅ¼e wypÅ‚aty**: Poczekaj na `finalized`
- **ZgodnoÅ›Ä‡/audyt**: Zawsze rejestruj status `finalized`

WiÄ™cej o sprawdzaniu statusu transakcji znajdziesz w
[Interakcja z SolanÄ…](/docs/payments/interacting-with-solana).

## ObsÅ‚uga bÅ‚Ä™dÃ³w

Solana Kit udostÄ™pnia typowane bÅ‚Ä™dy przez `isSolanaError()`. UÅ¼ywaj konkretnych
kodÃ³w bÅ‚Ä™dÃ³w zamiast dopasowywania tekstu:

```typescript
import {
  isSolanaError,
  SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED,
  SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE,
  SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND,
  SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS
} from "@solana/kit";

function handlePaymentError(error: unknown): {
  message: string;
  retryable: boolean;
} {
  // Blockhash expiredâ€”rebuild and retry
  if (
    isSolanaError(error, SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED) ||
    isSolanaError(error, SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND)
  ) {
    return { message: "Transaction expiredâ€”rebuilding", retryable: true };
  }

  // Insufficient SOL for fees
  if (
    isSolanaError(
      error,
      SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE
    )
  ) {
    return { message: "Not enough SOL for fees", retryable: false };
  }

  // Insufficient token balance
  if (
    isSolanaError(error, SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS)
  ) {
    return { message: "Insufficient balance", retryable: false };
  }

  // Unknown error
  console.error("Payment error:", error);
  return { message: "Payment failedâ€”please retry", retryable: true };
}
```

**NajczÄ™stsze kody bÅ‚Ä™dÃ³w:**

| Kod bÅ‚Ä™du                    | Przyczyna                | RozwiÄ…zanie                                                                                                    |
| ---------------------------- | ------------------------ | -------------------------------------------------------------------------------------------------------------- |
| `BLOCK_HEIGHT_EXCEEDED`      | WygasÅ‚ blockhash         | Zbuduj ponownie z nowym blockhashem                                                                            |
| `BLOCKHASH_NOT_FOUND`        | Nie znaleziono blockhash | Zbuduj ponownie z nowym blockhashem                                                                            |
| `INSUFFICIENT_FUNDS_FOR_FEE` | Za maÅ‚o SOL              | Zasil konto opÅ‚at lub uÅ¼yj [abstrakcji opÅ‚at](/docs/payments/send-payments/payment-processing/fee-abstraction) |
| `INSUFFICIENT_FUNDS`         | Za maÅ‚o tokenÃ³w          | UÅ¼ytkownik musi zwiÄ™kszyÄ‡ saldo                                                                                |
| `ACCOUNT_NOT_FOUND`          | Brak token account       | UtwÃ³rz ATA w transakcji                                                                                        |

## Transakcje bez opÅ‚at (gasless)

UÅ¼ytkownicy oczekujÄ… pÅ‚atnoÅ›ci w stablecoinach, bez koniecznoÅ›ci kupowania SOL
na opÅ‚aty sieciowe. Transakcje bez opÅ‚at rozwiÄ…zujÄ… ten problemâ€”podobnie jak
uÅ¼ytkownicy Venmo nie myÅ›lÄ… o opÅ‚atach ACH. PeÅ‚nÄ… implementacjÄ™ znajdziesz w
sekcji
[Abstrakcja opÅ‚at](/docs/payments/send-payments/payment-processing/fee-abstraction).

## BezpieczeÅ„stwo

### ZarzÄ…dzanie kluczami

- **Nigdy nie ujawniaj kluczy prywatnych w kodzie frontendowym.** UÅ¼ywaj
  podpisywania po stronie backendu, portfeli sprzÄ™towych, portfeli multisig lub
  usÅ‚ug zarzÄ…dzania kluczami.
- **Oddziel portfele gorÄ…ce od zimnych.** GorÄ…cy portfel do operacji, zimny do
  przechowywania Å›rodkÃ³w.
- **Wykonaj kopie zapasowe wszystkich kluczy produkcyjnych.** Przechowuj
  zaszyfrowane kopie w kilku bezpiecznych lokalizacjach. Utrata klucza oznacza
  trwaÅ‚Ä… utratÄ™ dostÄ™pu.
- **UÅ¼ywaj rÃ³Å¼nych kluczy dla devnetu i mainnetu.** Klucze devnet nie powinny
  byÄ‡ uÅ¼ywane na mainnecie. Skonfiguruj Å›rodowiska tak, by Å‚adowaÅ‚y odpowiednie
  klucze dla kaÅ¼dej sieci.

### BezpieczeÅ„stwo RPC

Traktuj endpointy RPC jak klucze APIâ€”nie ujawniaj ich w kodzie frontendowym,
gdzie mogÄ… zostaÄ‡ wyciÄ…gniÄ™te i naduÅ¼yte. UÅ¼yj proxy backendowego lub zmiennych
Å›rodowiskowych, ktÃ³re nie sÄ… doÅ‚Ä…czane do kodu klienta.

- [QuickNode: Najlepsze praktyki bezpieczeÅ„stwa endpointÃ³w](https://www.quicknode.com/guides/quicknode-products/endpoint-security/endpoint-security-best-practices)
- [Helius: ChroÅ„ swoje klucze API Solana: Najlepsze praktyki bezpieczeÅ„stwa](https://www.helius.dev/docs/rpc/protect-your-keys)

### Monitoring

Monitoruj te metryki w Å›rodowisku produkcyjnym:

| Metryka                        | Dlaczego                     |
| ------------------------------ | ---------------------------- |
| WskaÅºnik sukcesu transakcji    | Wczesne wykrywanie problemÃ³w |
| OpÃ³Åºnienie potwierdzenia       | Monitorowanie kondycji sieci |
| Wydatki na opÅ‚aty priorytetowe | ZarzÄ…dzanie kosztami         |
| WskaÅºnik bÅ‚Ä™dÃ³w RPC            | Kondycja dostawcy            |

Skonfiguruj alerty dla:

- PrzelewÃ³w powyÅ¼ej progu z portfela gÅ‚Ã³wnego
- Wzrostu liczby nieudanych transakcji
- Nietypowych wzorcÃ³w odbiorcÃ³w
- Wzrostu wskaÅºnika bÅ‚Ä™dÃ³w RPC

Aby monitorowaÄ‡ transakcje w czasie rzeczywistym na duÅ¼Ä… skalÄ™, zobacz nasz
[Przewodnik po indeksowaniu](/docs/payments/accept-payments/indexing).

### Weryfikacja adresÃ³w

KaÅ¼dy token i kaÅ¼dy program majÄ… dokÅ‚adnie jeden poprawny adres na mainnecie.
FaÅ‚szywe tokeny podszywajÄ…ce siÄ™ pod USDC lub inne stablecoiny sÄ… powszechne â€”
majÄ… tÄ™ samÄ… nazwÄ™ i symbol, ale inny mint. Twoja aplikacja powinna na sztywno
ustalaÄ‡ lub umieszczaÄ‡ na allowliÅ›cie adresy mintÃ³w (zgodnie z wymaganiami),
nigdy nie akceptowaÄ‡ ich dynamicznie z niezaufanych ÅºrÃ³deÅ‚.

**Konfiguracja zaleÅ¼na od Å›rodowiska:** Devnet i Mainnet czÄ™sto uÅ¼ywajÄ… zupeÅ‚nie
innych mintÃ³w tokenÃ³w. Skonfiguruj aplikacjÄ™ tak, aby Å‚adowaÅ‚a poprawne adresy w
zaleÅ¼noÅ›ci od Å›rodowiska â€” nie wpisuj na sztywno adresÃ³w mainnetu i nie zapomnij
ich zmieniÄ‡ podczas testÃ³w, a tym bardziej nie wysyÅ‚aj adresÃ³w devnetu na
produkcjÄ™.

NiektÃ³re popularne minty stablecoinÃ³w to:

| Token | Wydawca | Adres mintu                                    |
| ----- | ------- | ---------------------------------------------- |
| USDC  | Circle  | `EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v` |
| USDT  | Tether  | `Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB` |
| PYUSD | PayPal  | `2b1kV6DkPAnxd5ixfnxCpjxmKwqjjaYmCZfHsFu24GXo` |
| USDG  | Paxos   | `2u1tszSeqZ3qBWF3uNGPFc8TzMk2tdiwknnRMWGWjGWH` |

Adresy programÃ³w rÃ³wnieÅ¼ majÄ… znaczenie. WysÅ‚anie instrukcji do niewÅ‚aÅ›ciwego
programu zakoÅ„czy siÄ™ niepowodzeniem â€” lub co gorsza, nieodwracalnÄ… utratÄ…
Å›rodkÃ³w. Adresy Token Program to:

| Program            | Adres                                         |
| ------------------ | --------------------------------------------- |
| Token Program      | `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA` |
| Token-2022 Program | `TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb` |

## Lista kontrolna przed uruchomieniem

- [ ] SOL na mainnecie pozyskany na opÅ‚aty i rent
- [ ] Skonfigurowany produkcyjny RPC (nie publiczny endpoint)
- [ ] Skonfigurowany zapasowy endpoint RPC
- [ ] WdroÅ¼one priorytetowe opÅ‚aty z dynamicznym ustalaniem cen
- [ ] Logika ponawiania obsÅ‚uguje wygaÅ›niÄ™cie blockhash
- [ ] Poziom potwierdzenia odpowiedni do zastosowania
- [ ] Wszystkie typowe bÅ‚Ä™dy obsÅ‚ugiwane w przyjazny sposÃ³b
- [ ] Gasless skonfigurowany (jeÅ›li dotyczy)
- [ ] Zweryfikowane adresy tokenÃ³w na mainnecie (nie minty devnet)
- [ ] Wszystkie klucze bezpiecznie zbackupowane
- [ ] PrzeglÄ…d zarzÄ…dzania kluczami (brak kluczy w frontendzie)
- [ ] Monitoring i alertowanie transakcji aktywne
- [ ] Przetestowane obciÄ…Å¼enie przy oczekiwanym wolumenie

## WdraÅ¼anie programÃ³w

JeÅ›li wdraÅ¼asz wÅ‚asny program Solana jako czÄ™Å›Ä‡ swojej infrastruktury
pÅ‚atniczej, musisz wziÄ…Ä‡ pod uwagÄ™ dodatkowe kwestie.

### Przed wdroÅ¼eniem

- **Wersja Solana CLI:** Upewnij siÄ™, Å¼e korzystasz z najnowszej wersji
  [Solana CLI](https://solana.com/docs/intro/installation).
- **keypair programu:** TwÃ³j program bÄ™dzie miaÅ‚ inny adres na mainnecie niÅ¼ na
  devnecie (chyba Å¼e uÅ¼ywasz tego samego keypair). Zaktualizuj wszystkie
  odwoÅ‚ania w konfiguracji aplikacji. Przechowuj swÃ³j keypair programu w
  bezpiecznym miejscu (pamiÄ™taj, Å¼e uruchomienie `cargo clean` prawdopodobnie
  usunie TwÃ³j keypair programu).
- **Inicjalizacja kont:** JeÅ›li TwÃ³j program wymaga kont administratora, PDA lub
  innych kont stanowych, upewnij siÄ™, Å¼e zostaÅ‚y one utworzone na mainnecie
  przed rozpoczÄ™ciem interakcji uÅ¼ytkownikÃ³w z aplikacjÄ…. To samo dotyczy
  wszystkich powiÄ…zanych kont tokenÃ³w (ATA), ktÃ³rych potrzebuje TwÃ³j program.

### Proces wdraÅ¼ania

- **Konta buforowe:** DuÅ¼e programy sÄ… wdraÅ¼ane za pomocÄ… kont buforowych.
  Komenda `solana program deploy` obsÅ‚uguje to automatycznie, ale pamiÄ™taj, Å¼e
  wdroÅ¼enie nie jest atomoweâ€”jeÅ›li zostanie przerwane, moÅ¼e byÄ‡ konieczne
  odzyskanie lub zamkniÄ™cie kont buforowych. Zobacz
  [WdraÅ¼anie programÃ³w](https://solana.com/docs/programs/deploying).
- **Uprawnienia do aktualizacji:** Zdecyduj, czy TwÃ³j program ma byÄ‡ moÅ¼liwy do
  aktualizacji po wdroÅ¼eniu. JeÅ›li zaleÅ¼y Ci na niezmiennoÅ›ci, odbierz
  uprawnienia do aktualizacji po wdroÅ¼eniu. JeÅ›li chcesz zachowaÄ‡ elastycznoÅ›Ä‡,
  odpowiednio zabezpiecz klucz uprawnieÅ„ do aktualizacji.
- **OpÅ‚ata za wynajem:** Upewnij siÄ™, Å¼e TwÃ³j portfel wdroÅ¼eniowy ma
  wystarczajÄ…cÄ… iloÅ›Ä‡ SOL, aby pokryÄ‡ minimalne opÅ‚aty za wynajem dla wszystkich
  kont programu.
- **Weryfikacja:**
  [Zweryfikuj](https://solana.com/docs/programs/verified-builds) swÃ³j program,
  aby upewniÄ‡ siÄ™, Å¼e wykonywalny program wdroÅ¼ony w sieci Solana odpowiada
  kodowi ÅºrÃ³dÅ‚owemu w Twoim repozytorium.

PeÅ‚ne wskazÃ³wki dotyczÄ…ce wdraÅ¼ania programÃ³w znajdziesz w sekcji
[WdraÅ¼anie programÃ³w](https://solana.com/docs/programs/deploying).

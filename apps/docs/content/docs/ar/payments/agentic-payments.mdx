---
title: المدفوعات الوكيلة
description:
  تمكين وكلاء الذكاء الاصطناعي من الدفع مقابل الخدمات وواجهات برمجة التطبيقات
  والموارد بشكل مستقل باستخدام بروتوكول x402.
---

أصبح وكلاء الذكاء الاصطناعي أكثر استقلالية في سير عملهم: كتابة الأكواد، وجلب
البيانات، وتوفير الموارد، والمزيد. للعمل بشكل مستقل تماماً، يحتاجون إلى طريقة
لإجراء "مدفوعات صغيرة" مقابل الخدمات برمجياً، في الوقت الفعلي، بأقل تكلفة. قنوات
الدفع التقليدية لا تعمل مع المدفوعات الصغيرة. رسوم سولانا التي تقل عن السنت
والنهائية التي تقل عن الثانية تجعل هذا ممكناً تقنياً واقتصادياً.

## لماذا هذا مهم؟

على سبيل المثال، تخيل مطوراً يستخدم نموذج لغة كبير لبناء تطبيق يحتاج إلى بيانات
من واجهة برمجة تطبيقات مدفوعة. لجلب بعض البيانات المهمة، سيحتاج المطور إلى إيقاف
سير عمله، والبحث عن واجهات برمجة التطبيقات، واختيار مزود، وإنشاء حساب، وإضافة
طريقة دفع، وإنشاء مفتاح واجهة برمجة التطبيقات، ونسخ المفتاح إلى بيئته، ثم
استئناف سير عمله. هذا الاحتكاك يقطع حالة التدفق. بالنسبة لسير العمل المدعوم
بالذكاء الاصطناعي، إنه عائق.

بدلاً من ذلك، مع المدفوعات الوكيلة، يمكن للوكيل تقديم الطلب، والدفع مقابله،
ومتابعة سير عمله. لا حسابات. لا مفاتيح واجهة برمجة تطبيقات. لا تدخل يدوي.

## بروتوكول x402

تحتاج المدفوعات الوكيلة إلى طريقة للعملاء والخوادم للتفاوض على شروط الدفع عبر
البنية التحتية القياسية للويب دون تعطيل واجهات الويب التقليدية. مجال المدفوعات
الصغيرة لا يزال ناشئاً ومن المحتمل أن تظهر أدوات ومعايير جديدة مع تطور المجال.
ومع ذلك، ظهر [بروتوكول x402](https://www.x402.org/) كمعيار مبكر بدعم قوي من
النظام البيئي. يستخدم x402
[رمز حالة HTTP 402 "الدفع مطلوب"](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Status/402)
—وهو معيار منذ HTTP/1.1 أصبح عملياً فقط مع تسوية البلوكشين.

### كيف يعمل

يقوم العميل بإرسال طلب، ويتلقى استجابة 402 مع شروط الدفع، ثم يعيد المحاولة مع
دفعة موقعة. يفوض الخادم التحقق والتسوية إلى ميسّر، وهو وسيط اختياري يتعامل مع
إرسال المعاملة على السلسلة. بمجرد أن يؤكد الميسّر التسوية، يعيد الخادم المحتوى
المطلوب. يتيح هذا الفصل لمزودي واجهات برمجة التطبيقات قبول المدفوعات دون إدارة
أي بنية تحتية على السلسلة بشكل مباشر.

![مخطط تدفق x402](/assets/guides/x402/x402-flow-solana.png)

البروتوكول عديم الحالة (بدون جلسات أو مفاتيح API)، ويعمل مع البنية التحتية
القياسية لـ HTTP، ويدعم أي رمز SPL يقبله الخادم. إليك مقتطف من كيفية إعداد خادم
Express باستخدام وسيط x402:

```ts
app.use(
  paymentMiddleware(
    {
      "GET /costly-data": {
        accepts: [
          {
            scheme: "exact",
            price: "$0.001",
            network: "solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",
            payTo: svmAddress
          }
        ],
        description: "Costly data",
        mimeType: "application/json"
      }
    },
    new x402ResourceServer(facilitatorClient).register(
      "solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",
      new ExactSvmScheme()
    )
  )
);

app.get("/costly-data", (req, res) => {
  res.send({
    report: {
      data: "costly data"
    }
  });
});
```

لمعرفة المزيد عن x402، راجع أدلتنا:

<Cards>
  <Card
    title="مقدمة إلى x402"
    href="/developers/guides/getstarted/intro-to-x402"
    description="أساسيات البروتوكول وخيارات SDK لبناء واجهات برمجة تطبيقات ممكّنة للدفع."
  />
  <Card
    title="البناء باستخدام Kora"
    href="/developers/guides/getstarted/build-a-x402-facilitator"
    description="تنفيذ مدفوعات x402 بدون رسوم غاز باستخدام البنية التحتية للتوقيع من Kora."
  />
</Cards>

### أدوات x402

| SDK                                                             | الوصف                              |
| --------------------------------------------------------------- | ---------------------------------- |
| [Corbits](https://corbits.dev/)                                 | تطبيق x402 مع أولوية سولانا        |
| [MCPay.tech](https://mcpay.tech/)                               | الدفع لكل طلب لخوادم MCP           |
| [PayAI](https://payai.network/)                                 | ميسّر x402 مع دعم سولانا           |
| [x402 GitHub](https://github.com/coinbase/x402)                 | التطبيق المرجعي                    |
| [ACK](https://github.com/agentcommercekit/ack)                  | مجموعة أدوات التجارة للوكلاء       |
| [A2A x402](https://github.com/google-agentic-commerce/a2a-x402) | مدفوعات من وكيل إلى وكيل من Google |

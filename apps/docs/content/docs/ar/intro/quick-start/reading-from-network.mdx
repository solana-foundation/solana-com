---
title: القراءة من الشبكة
description:
  تعلم كيفية قراءة البيانات من شبكة سولانا. يغطي هذا الدليل استرجاع حسابات
  المحفظة، وحسابات البرامج، وحسابات إصدار الرموز باستخدام جافاسكريبت/تايبسكريبت،
  مع أمثلة عملية باستخدام مكتبة سولانا web3.js.
---

اقرأ البيانات من شبكة سولانا عن طريق استرجاع الحسابات المختلفة. سيساعدك هذا
القسم على فهم بنية [حسابات](/docs/core/accounts) سولانا. يمتلك كل حساب في سولانا
[عنوانًا](/docs/core/accounts#account-address) فريدًا يُستخدم لتحديد موقع
بياناته المقابلة على السلسلة. تحتوي الحسابات إما على
[بيانات حالة أو برنامج قابل للتنفيذ](/docs/core/accounts#types-of-accounts).

## استرجاع حساب محفظة

<WithMentions>

المحفظة هي حساب مملوك من قبل
[System Program](/docs/core/programs#the-system-program). تُستخدم المحافظ بشكل
أساسي لحفظ SOL وتوقيع المعاملات. عندما يتم إرسال SOL إلى عنوان جديد لأول مرة،
يتم إنشاء حساب نظام تلقائيًا.

المثال أدناه يقوم بإنشاء [زوج مفاتيح جديد](mention:keypair)،
[يطلب SOL](mention:airdrop) لتمويل عنوان المفتاح العام الجديد، و
[يسترجع بيانات الحساب](mention:info) للمحفظة الممولة حديثًا.

<CodeTabs flags="r">

```ts !! title="Fetch account"
import { Keypair, Connection, LAMPORTS_PER_SOL } from "@solana/web3.js";

// !mention keypair
const keypair = Keypair.generate();
console.log(`Public Key: ${keypair.publicKey}`);

const connection = new Connection("http://localhost:8899", "confirmed");

// Funding an address with SOL automatically creates an account
// !mention airdrop
const signature = await connection.requestAirdrop(
  keypair.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

// !mention info
const accountInfo = await connection.getAccountInfo(keypair.publicKey);
console.log(JSON.stringify(accountInfo, null, 2));
```

</CodeTabs>
</WithMentions>

<ScrollyCoding>

## !!steps

عندما تسترجع حساب محفظة، تتضمن الاستجابة الحقول الموضحة في مثال الإخراج على
اليمين.

<CodePlaceholder title="مثال الإخراج" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

يحتوي حقل `data` على بيانات الحساب المخزنة كبايتات. بالنسبة لحسابات المحفظة،
يكون هذا الحقل فارغًا (0 بايت).

<CodePlaceholder title="مثال الإخراج" />

```json !! title="Example output"
{
  // !focus(1:4)
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

يشير حقل `executable` إلى ما إذا كان حقل `data` الخاص بالحساب يحتوي على شفرة
برنامج قابلة للتنفيذ. بالنسبة لحسابات المحفظة، يكون هذا الحقل `false`.

<CodePlaceholder title="مثال الإخراج" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  // !focus
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

يحتوي حقل `lamports` على رصيد SOL للحساب، بوحدة
[لامبورت](/docs/references/terminology#lamport).

<CodePlaceholder title="مثال الإخراج" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  // !focus
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

يوضح حقل `owner` البرنامج الذي يملك الحساب. بالنسبة للمحافظ، المالك دائمًا هو
System Program، بالعنوان `11111111111111111111111111111111`.

<CodePlaceholder title="مثال الإخراج" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  // !focus
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

حقل `rentEpoch` هو حقل قديم من آلية rent المهجورة. (تم تضمين هذا الحقل للحفاظ
على التوافق مع الإصدارات السابقة.)

<CodePlaceholder title="مثال الإخراج" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  // !focus
  "rentEpoch": 0,
  "space": 0
}
```

## !!steps

يوضح حقل `space` عدد البايتات الموجودة في حقل `data`. هذا ليس حقلًا في
[نوع الحساب](/docs/core/accounts#account-structure) نفسه، ولكنه مضمن في
الاستجابة.

في هذا المثال، حقل `space` هو 0 لأن حقل `data` يحتوي على 0 بايت من البيانات.

<CodePlaceholder title="مثال الإخراج" />

```json !! title="Example output"
{
  "data": {
    "type": "Buffer",
    "data": []
  },
  "executable": false,
  "lamports": 1000000000,
  "owner": "11111111111111111111111111111111",
  "rentEpoch": 0,
  // !focus
  "space": 0
}
```

</ScrollyCoding>

## جلب Token Program

المثال أدناه يجلب Token Program لتوضيح الفرق بين حسابات المحفظة وحسابات
البرنامج. يخزن حساب البرنامج الشفرة المترجمة لـ
[الشفرة المصدرية](https://github.com/solana-program/token/tree/main/program)
الخاصة بـ Token Program. يمكنك عرض حساب البرنامج هذا على
[مستكشف سولانا](https://explorer.solana.com/address/TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA).

<CodeTabs flags="r">

```ts !! title="Fetch program account"
import { Connection, PublicKey } from "@solana/web3.js";

const connection = new Connection(
  "https://api.mainnet.solana.com",
  "confirmed"
);
// !mark(1:2)
const address = new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");
const accountInfo = await connection.getAccountInfo(address);

// !collapse(1:17) collapsed
console.log(
  JSON.stringify(
    accountInfo,
    (key, value) => {
      if (key === "data" && value && value.length > 1) {
        return [
          value[0],
          "...truncated, total bytes: " + value.length + "...",
          value[value.length - 1]
        ];
      }
      return value;
    },
    2
  )
);
```

</CodeTabs>

<ScrollyCoding>

## !!steps

Token Program هو حساب برنامج قابل للتنفيذ. تحتوي البرامج على نفس الحقول الأساسية
مثل جميع [الحسابات](/docs/core/accounts#account-structure)، ولكن مع اختلافات
رئيسية.

<CodePlaceholder title="Token program account" />

```json !! title="Token program account"
{
  "data": {
    "type": "Buffer",
    "data": [127, "...truncated, total bytes: 134080...", 0]
  },
  "executable": true,
  "lamports": 4522329612,
  "owner": "BPFLoader2111111111111111111111111111111111",
  "rentEpoch": 18446744073709552000,
  "space": 134080
}
```

## !!steps

يتم تعيين حقل `executable` إلى `true`، مما يشير إلى أن حقل `data` الخاص بالحساب
يحتوي على شفرة قابلة للتنفيذ.

<CodePlaceholder title="حساب Token Program" />

```json !! title="Token program account"
{
  "data": {
    "type": "Buffer",
    "data": [127, "...truncated, total bytes: 134080...", 0]
  },
  // !focus
  "executable": true,
  "lamports": 4522329612,
  "owner": "BPFLoader2111111111111111111111111111111111",
  "rentEpoch": 18446744073709552000,
  "space": 134080
}
```

## !!steps

يخزن حقل `data` الشفرة القابلة للتنفيذ للبرنامج.

<CodePlaceholder title="حساب Token Program" />

```json !! title="Token program account"
{
  // !focus(1:4)
  "data": {
    "type": "Buffer",
    "data": [127, "...truncated, total bytes: 134080...", 0]
  },
  "executable": true,
  "lamports": 4522329612,
  "owner": "BPFLoader2111111111111111111111111111111111",
  "rentEpoch": 18446744073709552000,
  "space": 134080
}
```

## !!steps

كل حساب برنامج مملوك من قبل
[برنامج التحميل](/docs/core/programs#loader-programs) الخاص به. في هذا المثال،
`owner` هو برنامج BPFLoader2.

<CodePlaceholder title="حساب Token Program" />

```json !! title="Token program account"
{
  "data": {
    "type": "Buffer",
    "data": [127, "...truncated, total bytes: 134080...", 0]
  },
  "executable": true,
  "lamports": 4522329612,
  // !focus
  "owner": "BPFLoader2111111111111111111111111111111111",
  "rentEpoch": 18446744073709552000,
  "space": 134080
}
```

</ScrollyCoding>

## جلب حساب mint

[حساب mint](https://github.com/solana-program/token/blob/program%40v8.0.0/program/src/state.rs#L16-L30)
هو حساب مملوك من قبل Token Program يخزن البيانات الوصفية العالمية لرمز معين.
يتضمن ذلك إجمالي العرض، وعدد الكسور العشرية، والحسابات المصرح لها بإنشاء أو
تجميد الرموز. عنوان حساب mint يحدد بشكل فريد رمزًا على شبكة سولانا.

يجلب المثال أدناه حساب mint الخاص بـ USD Coin لتوضيح كيفية تخزين حالة البرنامج
في حساب منفصل.

<CodeTabs flags="r">

```ts !! title="Fetch program account"
import { Connection, PublicKey } from "@solana/web3.js";

const connection = new Connection(
  "https://api.mainnet.solana.com",
  "confirmed"
);

// !mark(1:2)
const address = new PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");
const accountInfo = await connection.getAccountInfo(address);

// !collapse(1:17) collapsed
console.log(
  JSON.stringify(
    accountInfo,
    (key, value) => {
      if (key === "data" && value && value.length > 1) {
        return [
          value[0],
          "...truncated, total bytes: " + value.length + "...",
          value[value.length - 1]
        ];
      }
      return value;
    },
    2
  )
);
```

</CodeTabs>

<ScrollyCoding>

## !!steps

تخزن حسابات mint الحالة، وليس الشفرة القابلة للتنفيذ. وهي مملوكة من قبل Token
Program، الذي يتضمن تعليمات تحدد كيفية إنشاء وتحديث حسابات mint.

<CodePlaceholder title="حساب Mint" />

```json !! title="Mint account"
{
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  "executable": false,
  "lamports": 407438077149,
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

## !!steps

يخزن حقل `data` الخاص بحساب mint الحالة، وليس الشفرة القابلة للتنفيذ، لذلك حقل
`executable` هو `false`.

يحدد Token Program نوع البيانات `Mint`، الذي يتم تخزينه في حقل `data`.

<CodePlaceholder title="Mint account" />

```json !! title="Mint account"
{
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  // !focus
  "executable": false,
  "lamports": 407438077149,
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

## !!steps

يحتوي حقل `data` على حالة حساب `Mint` المسلسلة، مثل سلطة الإصدار، والعرض الكلي،
وعدد الكسور العشرية.

للقراءة من حساب Mint، يجب عليك فك تسلسل حقل `data` إلى نوع البيانات `Mint`، وهو
ما يظهر في [المثال التالي](#deserialize-mint-account).

<CodePlaceholder title="Mint account" />

```json !! title="Mint account"
{
  // !focus(1:4)
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  "executable": false,
  "lamports": 407438077149,
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

## !!steps

يملك حساب mint [Token Program](/docs/references/terminology#token-program). وهذا
يعني أن حقل `data` الخاص به يمكن تعديله فقط بواسطة تعليمات Token Program.

<CodePlaceholder title="Mint Account" />

```json !! title="Mint Account"
{
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  "executable": false,
  "lamports": 407438077149,
  // !focus
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

</ScrollyCoding>

## فك تسلسل حساب mint

قبل أن يمكن تفسير البايتات الخام في حقل `data` للحساب بشكل ذي معنى، يجب فك
تسلسلها. يتم تحديد نوع البيانات المناسب بواسطة البرنامج الذي يملك الحساب. توفر
معظم برامج سولانا مكتبات عميلة مع دوال مساعدة تجرد عملية فك التسلسل. تحول هذه
الدوال بايتات الحساب الخام إلى أنواع بيانات منظمة، مما يجعل التعامل مع بيانات
الحساب أسهل.

<WithMentions>

على سبيل المثال، تتضمن مكتبة _shell`@solana/spl-token`_ دالة
[_ts`getMint()`_](mention:one) للمساعدة في فك تسلسل حقل `data` لحساب mint إلى
نوع البيانات
[Mint](https://github.com/solana-program/token/blob/program%40v8.0.0/program/src/state.rs#L16-L30)
المحدد بواسطة Token Program.

<CodeTabs flags="r">

```ts !! title="Deserialize mint account data"
import { PublicKey, Connection } from "@solana/web3.js";
import { getMint } from "@solana/spl-token";

const connection = new Connection(
  "https://api.mainnet.solana.com",
  "confirmed"
);

const address = new PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");
// !mention one
const mintData = await getMint(connection, address, "confirmed");

// !collapse(1:17) collapsed
console.log(
  JSON.stringify(
    mintData,
    (key, value) => {
      // Convert BigInt to String
      if (typeof value === "bigint") {
        return value.toString();
      }
      // Handle Buffer objects
      if (Buffer.isBuffer(value)) {
        return `<Buffer ${value.toString("hex")}>`;
      }
      return value;
    },
    2
  )
);
```

</CodeTabs>

</WithMentions>

```rs title="Mint account type"
pub struct Mint {
    /// Optional authority used to mint new tokens. The mint authority may only
    /// be provided during mint creation. If no mint authority is present
    /// then the mint has a fixed supply and no further tokens may be
    /// minted.
    pub mint_authority: COption<Pubkey>,
    /// Total supply of tokens.
    pub supply: u64,
    /// Number of base 10 digits to the right of the decimal place.
    pub decimals: u8,
    /// Is `true` if this structure has been initialized
    pub is_initialized: bool,
    /// Optional authority to freeze token accounts.
    pub freeze_authority: COption<Pubkey>,
}
```

<ScrollyCoding>

## !!steps

تقوم وظيفة _ts`getMint()`_ بفك تسلسل حقل `data` الخاص بحساب mint إلى نوع حساب
Mint.

```json title="Mint account"
{
  // !focus(1:4)
  "data": {
    "type": "Buffer",
    "data": [1, "...truncated, total bytes: 82...", 103]
  },
  "executable": false,
  "lamports": 407438077149,
  "owner": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
  "rentEpoch": 18446744073709552000,
  "space": 82
}
```

يمكنك عرض بيانات
[حساب mint](https://explorer.solana.com/address/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v?cluster=mainnet-beta)
المفككة بالكامل على مستكشف سولانا.

<CodePlaceholder title="بيانات Mint المفككة" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

يحتوي حقل `address` على عنوان حساب mint.

<CodePlaceholder title="بيانات Mint المفككة" />

```json !! title="Deserialized mint data"
{
  // !focus
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

يُظهر حقل `mintAuthority` الحساب الوحيد الذي يمكنه إنشاء وحدات جديدة من الرمز.

<CodePlaceholder title="بيانات Mint المفككة" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  // !focus
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

يُظهر حقل `supply` العدد الإجمالي للرموز التي تم سكها. يتم قياس هذه القيمة بأصغر
وحدة للرمز. للحصول على إجمالي المعروض بالوحدات القياسية، قم بتعديل قيمة حقل
`supply` وفقًا لـ `decimals`.

<CodePlaceholder title="بيانات Mint المفككة" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  // !focus
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

يُظهر حقل `decimals` عدد المنازل العشرية للرمز.

<CodePlaceholder title="بيانات Mint المفككة" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  // !focus
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

يشير حقل `isInitialized` إلى ما إذا كان قد تم تهيئة حساب mint. يُستخدم هذا الحقل
كفحص أمان في Token Program.

<CodePlaceholder title="بيانات Mint المفككة" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  // !focus
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

يوضح حقل `freezeAuthority` الحساب الذي يملك صلاحية تجميد حسابات token. لا يمكن
لحساب token المجمد تحويل أو حرق الرمز الذي يحتويه.

<CodePlaceholder title="بيانات Mint المفككة" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  // !focus
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

## !!steps

يحتوي حقل `tlvData` على بيانات إضافية لـ Token Extensions وتتطلب مزيدًا من
التفكيك. هذا الحقل مهم فقط للحسابات التي تم إنشاؤها بواسطة
[برنامج Token Extension](/docs/tokens/extensions) (Token2022).

<CodePlaceholder title="بيانات Mint المفككة" />

```json !! title="Deserialized mint data"
{
  "address": "EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",
  "mintAuthority": "BJE5MMbqXjVwjAF7oxwPYXnTXDyspzZyt4vwenNw5ruG",
  "supply": "8985397351591790",
  "decimals": 6,
  "isInitialized": true,
  "freezeAuthority": "7dGbd2QZcCKcTndnHcTL8q7SMVXAkp688NTQYwrRCrar",
  // !focus(1:4)
  "tlvData": {
    "type": "Buffer",
    "data": []
  }
}
```

</ScrollyCoding>

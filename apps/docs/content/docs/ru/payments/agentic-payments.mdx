---
title: Агентские платежи
description:
  Позвольте AI-агентам самостоятельно оплачивать сервисы, API и ресурсы с
  помощью протокола x402.
---

AI-агенты становятся всё более автономными в своих рабочих процессах: пишут код,
получают данные, выделяют ресурсы и многое другое. Чтобы работать полностью
независимо, им необходим способ совершать «микроплатежи» за сервисы программно,
в реальном времени и с минимальными затратами. Традиционные платёжные системы не
подходят для микроплатежей. Субцентовые комиссии и финализация транзакций за
доли секунды в Solana делают это технически и экономически возможным.

## Почему это важно?

Например, представьте, что разработчику, использующему LLM для создания
приложения, нужны данные из платного API. Чтобы получить важные данные,
разработчику пришлось бы прервать рабочий процесс, изучить доступные API,
выбрать провайдера, создать аккаунт, добавить способ оплаты, сгенерировать
API-ключ, скопировать его в своё окружение и только после этого продолжить
работу. Такое трение нарушает поток работы. Для AI-ассистированных процессов это
становится препятствием.

С агентскими платежами агент может сам отправить запрос, оплатить его и
продолжить работу. Без аккаунтов. Без API-ключей. Без ручного вмешательства.

## Протокол x402

Для агентских платежей необходим способ, позволяющий клиентам и серверам
согласовывать условия оплаты через стандартную веб-инфраструктуру, не нарушая
привычные веб-интерфейсы. Сфера микроплатежей всё ещё находится на ранней
стадии, и по мере её развития, вероятно, появятся новые инструменты и стандарты.
Однако [протокол x402](https://www.x402.org/) уже стал одним из первых
стандартов с широкой поддержкой экосистемы. x402 использует
[статус-код HTTP 402 «Payment Required»](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Status/402)
— стандарт, существующий с HTTP/1.1, который стал практически применимым только
с появлением блокчейн-расчётов.

### Как это работает

Клиент отправляет запрос, получает ответ 402 с условиями оплаты и затем
повторяет запрос с подписанным платежом. Сервер делегирует проверку и проведение
платежа посреднику — факультативному участнику, который занимается отправкой
транзакции в блокчейн. После подтверждения расчёта посредником сервер возвращает
запрошенный контент. Такое разделение позволяет API-провайдерам принимать
платежи без необходимости самостоятельно управлять ончейн-инфраструктурой.

![Диаграмма x402 Flow](/assets/guides/x402/x402-flow-solana.png)

Протокол не хранит состояние (без сессий и API-ключей), работает со стандартной
HTTP-инфраструктурой и поддерживает любые SPL-токены, которые принимает сервер.
Вот пример настройки сервера Express с использованием промежуточного ПО x402:

```ts
app.use(
  paymentMiddleware(
    {
      "GET /costly-data": {
        accepts: [
          {
            scheme: "exact",
            price: "$0.001",
            network: "solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",
            payTo: svmAddress
          }
        ],
        description: "Costly data",
        mimeType: "application/json"
      }
    },
    new x402ResourceServer(facilitatorClient).register(
      "solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",
      new ExactSvmScheme()
    )
  )
);

app.get("/costly-data", (req, res) => {
  res.send({
    report: {
      data: "costly data"
    }
  });
});
```

Чтобы узнать больше о x402, ознакомьтесь с нашими гайдами:

<Cards>
  <Card
    title="Введение в x402"
    href="/developers/guides/getstarted/intro-to-x402"
    description="Основы протокола и варианты SDK для создания API с поддержкой платежей."
  />
  <Card
    title="Разработка с Kora"
    href="/developers/guides/getstarted/build-a-x402-facilitator"
    description="Реализация безгазовых платежей x402 с помощью инфраструктуры подписания Kora."
  />
</Cards>

### Инструменты x402

| SDK                                                             | Описание                             |
| --------------------------------------------------------------- | ------------------------------------ |
| [Corbits](https://corbits.dev/)                                 | Первая реализация x402 для Solana    |
| [MCPay.tech](https://mcpay.tech/)                               | Оплата за запрос для MCP-серверов    |
| [PayAI](https://payai.network/)                                 | Фасилитатор x402 с поддержкой Solana |
| [x402 GitHub](https://github.com/coinbase/x402)                 | Референсная реализация               |
| [ACK](https://github.com/agentcommercekit/ack)                  | Agent Commerce Kit                   |
| [A2A x402](https://github.com/google-agentic-commerce/a2a-x402) | Платежи агент-агент от Google        |

---
title: Tuotantovalmius
description: Siirtyminen devnet-testauksesta mainnet-k√§ytt√∂√∂nottoon
---

Paikallinen kehitys ja testaus devnetiss√§ ovat loistavia tapoja aloittaa
Solana-maksujen k√§ytt√∂. Kun olet kuitenkin valmis ottamaan sovelluksen k√§ytt√∂√∂n
mainnetiss√§, sinun on oltava tietoinen mainnetin erityispiirteist√§. Devnet antaa
virheet anteeksi. Mainnet ei. T√§m√§ opas k√§sittelee merkitt√§v√§t erot
varmistaaksesi k√§ytt√§jillesi sujuvan k√§ytt√∂kokemuksen.

| Devnet                          | Mainnet                                                                               |
| ------------------------------- | ------------------------------------------------------------------------------------- |
| Ilmainen SOL fauceteista        | [Hanki oikea SOL](https://solana.com/ecosystem/explore?categories=exchange) maksuihin |
| V√§h√§n kilpailua lohkotilasta    | Prioriteettimaksut ovat t√§rkeit√§                                                      |
| Transaktiot onnistuvat helposti | Transaktioiden konfigurointi on kriittist√§                                            |
| Julkinen RPC riitt√§√§            | Tuotanto-RPC vaaditaan                                                                |
| Devnet-avainparit ja mintit     | Eri avaimet ja token-mintit‚Äîp√§ivit√§ konfiguraatiosi                                   |

## RPC-infrastruktuuri

[Julkiset endpointit](https://solana.com/docs/references/clusters#solana-public-rpc-endpoints)
(`api.mainnet-beta.solana.com`) ovat nopeusrajoitettuja ilman SLA:ta. Ne sopivat
kehitykseen, mutta ep√§onnistuvat tuotannon maksuvirroissa‚Äîkuin yritt√§isit ajaa
maksuprosessoria jaetun API:n kautta ilman k√§ytett√§vyystakuuta.

<Callout type="caution" title="√Ñl√§ koskaan k√§yt√§ julkista RPC:t√§ tuotannossa">
  K√§yt√§ [yksityist√§ RPC-palveluntarjoajaa](https://solana.com/rpc) luotettavaan,
  matalan viiveen k√§ytt√∂√∂n.
</Callout>

Kun valitset RPC-palveluntarjoajaa, etsi:

- **Luotettavuus**: SLA:t k√§ytett√§vyystakuilla (99,9 %+)
- **Viive**: Maantieteellinen l√§heisyys k√§ytt√§jiisi
- **Ominaisuudet**: Transaktioiden laskeutumisominaisuudet, indeksointi,
  prioriteettimaksu-API:t

T√§ydellinen luettelo RPC-palveluntarjoajista l√∂ytyy
[RPC-infrastruktuurin palveluntarjoajat](https://solana.com/rpc) -oppaasta.

### Redundantti RPC-konfiguraatio

Kuten mik√§ tahansa verkkopalveluntarjoaja, RPC-palveluntarjoajat voivat kokea
k√§ytt√∂katkoja tai heikentyneen suorituskyvyn jaksoja. Varmistaaksesi
sovelluksesi kest√§vyyden sinun tulisi konfiguroida sovelluksesi k√§ytt√§m√§√§n
useita RPC-palveluntarjoajia.

[Solana Kit](https://github.com/anza-xyz/kit/tree/main/packages/rpc-transport-http)
tarjoaa kirjaston RPC-siirtojen mukauttamiseen, jonka avulla voit rakentaa oman
redundantin RPC-asiakkaasi. T√§ss√§ on esimerkki siit√§, miten voit k√§ytt√§√§ sit√§
redundantin RPC-asiakkaan rakentamiseen:

```ts
import { RpcTransport } from "@solana/rpc-spec";
import { RpcResponse } from "@solana/rpc-spec-types";
import { createHttpTransport } from "@solana/rpc-transport-http";

// Create a transport for each RPC server
const transports = [
  createHttpTransport({ url: "https://mainnet-beta.my-server-1.com" }),
  createHttpTransport({ url: "https://mainnet-beta.my-server-2.com" }),
  createHttpTransport({ url: "https://mainnet-beta.my-server-3.com" })
];

// Create a wrapper transport that distributes requests to them
let nextTransport = 0;
async function roundRobinTransport<TResponse>(
  ...args: Parameters<RpcTransport>
): Promise<RpcResponse<TResponse>> {
  const transport = transports[nextTransport];
  nextTransport = (nextTransport + 1) % transports.length;
  return await transport(...args);
}
```

Jos et halua rakentaa omia reititysty√∂kalujasi, voit hy√∂dynt√§√§ kolmannen
osapuolen palvelua, kuten [Iron Forge](https://www.ironforge.sanctum.so/), joka
hoitaa reitityksen puolestasi.

## Transaktion laskeutuminen

Devnetiss√§ transaktiot laskeutuvat melko helposti. Mainnetiss√§ kilpailet
lohkotilasta. Lis√§t√§ksesi mahdollisuuksia transaktiosi sis√§llytt√§miseen lohkoon,
sinun tulee varmistaa, ett√§ olet koonnut transaktiosi oikein. T√§m√§ tarkoittaa:

- tuoreen blockhash-arvon sis√§llytt√§mist√§ ennen transaktion l√§hett√§mist√§
- prioriteettipalkkio-ohjeen sis√§llytt√§mist√§ transaktioon kilpailukykyisell√§
  prioriteettipalkkiolla
- laskentayksikk√∂rajoitusohjeen sis√§llytt√§mist√§ transaktioon
  laskentayksikk√∂rajoituksella, joka perustuu transaktion vaatimien
  laskentayksik√∂iden arvioon

Lis√§ksi sinun kannattaa harkita muita ty√∂kaluja, kuten Jito Bundles, lis√§t√§ksesi
mahdollisuuksia transaktiosi sis√§llytt√§miseen lohkoon. Tutkitaan n√§it√§ ty√∂kaluja
tarkemmin.

### Transaktion l√§hetyskonfiguraatio

Kun l√§het√§t transaktioita Mainnetiss√§, m√§√§rit√§ n√§m√§ parametrit optimaalisten
laskeutumisprosenttien saavuttamiseksi:

**Blockhash-hallinta:**

- Hae `confirmed` -sitoutumisella
- Tallenna `lastValidBlockHeight`, jonka `getLatestBlockhash` palauttaa ‚Äì t√§m√§
  kertoo, milloin transaktiosi vanhenee
- Blockhash-arvot vanhenevat ~150 lohkon j√§lkeen (~60‚Äì90 sekuntia)

**L√§hetysasetukset:**

- `maxRetries: 0` ‚Äî Poista automaattiset RPC-uudelleenyritykset k√§yt√∂st√§.
  K√§sittele uudelleenyritykset itse, jotta voit p√§ivitt√§√§ blockhash-arvon
  tarvittaessa.
- `skipPreflight: true` ‚Äî Ohita simulointi ennen l√§hett√§mist√§. K√§yt√§ t√§t√§, kun
  olet jo validoinut transaktion ja haluat pienimm√§n viiveen. Pid√§ se `false`
  -tilassa kehityksen aikana virheiden havaitsemiseksi varhaisessa vaiheessa.

```typescript
import { createSolanaRpc } from "@solana/kit";

const rpc = createSolanaRpc(process.env.RPC_URL!);

// 1. Get blockhash with confirmed commitment
const { value: latestBlockhash } = await rpc
  .getLatestBlockhash({ commitment: "confirmed" })
  .send();

// 2. Build and sign your transaction with the blockhash
// ... (transaction building code)

// 3. Send with production settings
const signature = await rpc
  .sendTransaction(encodedTransaction, {
    encoding: "base64",
    maxRetries: 0n, // Handle retries yourself
    skipPreflight: true, // Skip simulation for speed (use false during dev)
    preflightCommitment: "confirmed"
  })
  .send();

// 4. Track expiration using lastValidBlockHeight
const { lastValidBlockHeight } = latestBlockhash;
// Stop retrying when current block height exceeds lastValidBlockHeight
```

### K√§yt√§ prioriteettimaksuja

Jokainen Solana-transaktio vaatii transaktiomaksun, joka maksetaan SOL:ssa.
Transaktiomaksut jakautuvat kahteen osaan: perusmaksuun ja prioriteettimaksuun.
Perusmaksu korvaa validaattoreille transaktion k√§sittelyst√§. Prioriteettimaksu
on valinnainen maksu, joka lis√§√§ todenn√§k√∂isyytt√§, ett√§ nykyinen johtaja
k√§sittelee transaktiosi. Ajattele sit√§ kuin pikatoimitusta: maksat enemm√§n
nopeammasta ja luotettavammasta toimituksesta.

**Miten maksut toimivat:**

```
Total fee = Base fee (5,000 lamports per signature) + Priority fee
Priority fee = Compute units x Price per unit (micro-lamports per compute unit)
```

**Todelliset kustannukset:**

- Yksinkertainen USDC-siirto: ~0,001‚Äì0,005 $ normaaleissa olosuhteissa
- Ruuhkan aikana: ~0,01‚Äì0,05 $
- Huippuruuhkassa: voi nousta korkeammaksi

**Esimerkkitoteutus:**

[`@solana-program/compute-budget`](https://github.com/solana-program/compute-budget)-paketti
tarjoaa apufunktion, jolla voit helposti p√§ivitt√§√§ tai liitt√§√§ laskentayksik√∂n
hinnan (mikrolamporteissa) -ohjeen transaktioon.

```typescript
import { updateOrAppendSetComputeUnitPriceInstruction } from "@solana-program/compute-budget";

const tx = pipe(
  createTransactionMessage({ version: 0 }),
  (m) => setTransactionMessageFeePayerSigner(payer, m),
  (m) => setTransactionMessageLifetimeUsingBlockhash(latestBlockhash, m),
  (m) => appendTransactionMessageInstructions([myInstructions], m),
  (m) => updateOrAppendSetComputeUnitPriceInstruction(1000n as MicroLamports, m)
);
```

**Maksuarvioiden hakeminen:** Useimmat RPC-palveluntarjoajat tarjoavat
prioriteettimaksu-API:t:

- [Helius Priority Fee API](https://docs.helius.dev/solana-apis/priority-fee-api)
- [QuickNode Priority Fee Add-on](https://marketplace.quicknode.com/add-on/solana-priority-fee)
- [Triton Priority Fees API](https://docs.triton.one/chains/solana/improved-priority-fees-api)

T√§ydelliset maksumekaniikan tiedot l√∂yd√§t kohdasta
[Transaktiomaksut](/docs/core/fees) ja oppaastamme:
[Miten lis√§t√§ prioriteettimaksuja transaktioon](https://solana.com/developers/cookbook/transactions/add-priority-fees).

### Optimoi laskentayksik√∂t

Laskenta Solanassa on k√§yt√§nn√∂ss√§ mitta siit√§, kuinka paljon ty√∂t√§ ohjelma
tekee. Transaktiossa k√§ytett√§v√§n laskennan m√§√§r√§lle on raja (t√§ll√§ hetkell√§ 1,4
miljoonaa laskentayksikk√∂√§), ja tilin lohkoa kohden k√§ytett√§v√§n laskennan
m√§√§r√§lle on raja (t√§ll√§ hetkell√§ 100 miljoonaa laskentayksikk√∂√§).

Kun l√§het√§t transaktion, sinun on arvioitava k√§ytett√§v√§n laskennan m√§√§r√§ ja
asetettava laskentayksik√∂n raja vastaavasti ‚Äì t√§m√§ on k√§yt√§nn√∂ss√§ pyynt√∂ siit√§,
kuinka suuri osa kokonaiskapasiteetista tulisi varata transaktiollesi.
K√§yt√§nn√∂ss√§ t√§m√§ tarkoittaa, ett√§ transaktiosi vaatimien laskentayksik√∂iden
oikea arviointi on kriittist√§ transaktiosi sis√§llytt√§miseksi lohkoon (ja t√§rke√§√§
prioriteettimaksujesi hallinnassa).

Solana JSON RPC API:ssa on
[`simulatetransaction`](/docs/rpc/http/simulatetransaction) -metodi, jota
voidaan k√§ytt√§√§ transaktion vaatimien laskentayksik√∂iden arvioimiseen, mik√§
sis√§lt√§√§ arvion k√§ytett√§vist√§ laskentayksik√∂ist√§.
[`@solana-program/compute-budget`](https://github.com/solana-program/compute-budget)
-paketti tarjoaa apufunktion, jolla voidaan helposti arvioida transaktion
vaatimat laskentayksik√∂t (joka k√§ytt√§√§ `simulatetransaction` -metodia
taustalla).

```ts
import {
  estimateComputeUnitLimitFactory,
  updateOrAppendSetComputeUnitLimitInstruction
} from "@solana-program/compute-budget";

const estimateComputeUnitLimit = estimateComputeUnitLimitFactory({ rpc });
const computeUnitLimit = await estimateComputeUnitLimit(tx);
const txWithComputeUnitLimit = updateOrAppendSetComputeUnitLimitInstruction(
  computeUnitLimit,
  tx
);
```

Tuotannossa, jos toistat samantyyppist√§ transaktiota useita kertoja, sinun
kannattaa harkita laskenta-arvion tallentamista v√§limuistiin transaktiotyypille
v√§ltt√§√§ksesi laskentayksik√∂iden arvioinnin ylim√§√§r√§isen kuormituksen joka kerta.

### Jito-niput

Jito-niput ovat ty√∂kalu useiden transaktioiden atomisen suorituksen hallintaan.
T√§m√§ saavutetaan l√§hett√§m√§ll√§ useita transaktioita Jito-verkkoon tipill√§.
Tippej√§ voidaan k√§ytt√§√§ kannustamaan Jito-verkkoa sis√§llytt√§m√§√§n transaktiosi
lohkoon.

**Resurssit:**

- [Jito-dokumentaatio](https://docs.jito.wtf/lowlatencytxnsend/)
- [üé• Video: Jito-niput](https://www.youtube.com/watch?v=HZ1pK9i6zx4)
- [QuickNode-opas Jito-nippuihin](https://www.quicknode.com/guides/solana-development/transactions/jito-bundles)

### Uudelleenyritysstrategiat

Transaktiot voivat ep√§onnistua monista syist√§. Toisin kuin perinteiset
maksu-API:t, jotka palauttavat onnistumisen/ep√§onnistumisen v√§litt√∂m√§sti,
lohkoketjutransaktiot vaativat vahvistuksen seurantaa.

**Keskeiset k√§sitteet:**

- **Blockhash-vanheneminen**: Transaktiot ovat voimassa ~150 lohkoa (~60-90
  sekuntia)
- **Idempotenssi**: Sama allekirjoitettu transaktio tuottaa aina saman
  allekirjoituksen‚Äîuudelleenl√§hett√§minen on turvallista
- **Eksponentiaalinen takaisinottoaika**: V√§lt√§ verkon ylikuormittamista
  nopeilla uudelleenyrityksill√§

```typescript
import {
  createSolanaRpc,
  createSolanaRpcSubscriptions,
  sendAndConfirmTransactionFactory,
  isSolanaError,
  SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED
} from "@solana/kit";

const rpc = createSolanaRpc(process.env.RPC_URL!);
const rpcSubscriptions = createSolanaRpcSubscriptions(process.env.RPC_WSS_URL!);

const sendAndConfirmTransaction = sendAndConfirmTransactionFactory({
  rpc,
  rpcSubscriptions
});

// Send with automatic confirmation tracking and block height monitoring
try {
  await sendAndConfirmTransaction(signedTransaction, {
    commitment: "confirmed",
    // Optional: abort after 75 seconds
    abortSignal: AbortSignal.timeout(75_000)
  });
} catch (e) {
  if (isSolanaError(e, SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED)) {
    // Blockhash expired‚Äîrebuild transaction with fresh blockhash and retry
    rebuildAndRetryTransaction(); // implement your own logic for rebuilding and retrying the transaction
  }
  throw e;
}
```

`sendAndConfirmTransactionFactory` `@solana/kit`:sta k√§sittelee vahvistuksen
kyselyn ja lohkokorkeuden seurannan automaattisesti. Se heitt√§√§
`SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED` -poikkeuksen, kun transaktion blockhash
vanhenee, mik√§ ilmaisee, ett√§ sinun t√§ytyy rakentaa transaktio uudelleen
tuoreella blockhashilla.

### Lis√§resurssit

- [Opas: Tapahtuman vahvistus ja vanheneminen](https://solana.com/developers/guides/advanced/confirmation)
- [Helius: Kuinka saada tapahtumat l√§pi Solanassa](https://www.helius.dev/blog/how-to-land-transactions-on-solana)
- [QuickNode: Strategiat Solana-tapahtumien optimointiin](https://www.quicknode.com/docs/solana/transactions)

## Vahvistustasojen ymm√§rt√§minen

Solana tarjoaa kolme vahvistustasoa. Perinteisen rahoituksen termein:

| Taso        | Solanan m√§√§ritelm√§                | Perinteinen vastine | K√§ytt√∂tapaus                             |
| ----------- | --------------------------------- | ------------------- | ---------------------------------------- |
| `processed` | Lohkossa, ei viel√§ √§√§nestetty     | Odottaa valtuutusta | Reaaliaikaiset k√§ytt√∂liittym√§p√§ivitykset |
| `confirmed` | Ylivoimainen enemmist√∂ √§√§nest√§nyt | Selvitetyt varat    | **Useimmat maksut**                      |
| `finalized` | Juurrutettu, peruuttamaton        | Maksetut varat      | Arvokkaat, vaatimustenmukaisuus          |

**Milloin k√§ytt√§√§ kutakin:**

- **K√§ytt√∂liittym√§p√§ivitykset**: N√§yt√§ `processed` v√§litt√∂m√§√§n palautteeseen
  ("Maksu l√§hetetty")
- **Hyvit√§ k√§ytt√§j√§tili**: Odota `confirmed` (turvallinen useimmille
  tapahtumille)
- **L√§het√§ fyysiset tuotteet**: Odota `finalized`
- **Suuret nostot**: Odota `finalized`
- **Vaatimustenmukaisuus/tarkastus**: Tallenna aina `finalized` -tila

Lis√§tietoja tapahtuman tilan tarkistamisesta l√∂ytyy kohdasta
[Vuorovaikutus Solanan kanssa](/docs/payments/interacting-with-solana).

## Virheiden k√§sittely

Solana Kit tarjoaa tyypitetyt virheet `isSolanaError()` -kautta. K√§yt√§ tiettyj√§
virhekoodeja merkkijonojen vertailun sijaan:

```typescript
import {
  isSolanaError,
  SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED,
  SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE,
  SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND,
  SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS
} from "@solana/kit";

function handlePaymentError(error: unknown): {
  message: string;
  retryable: boolean;
} {
  // Blockhash expired‚Äîrebuild and retry
  if (
    isSolanaError(error, SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED) ||
    isSolanaError(error, SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND)
  ) {
    return { message: "Transaction expired‚Äîrebuilding", retryable: true };
  }

  // Insufficient SOL for fees
  if (
    isSolanaError(
      error,
      SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE
    )
  ) {
    return { message: "Not enough SOL for fees", retryable: false };
  }

  // Insufficient token balance
  if (
    isSolanaError(error, SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS)
  ) {
    return { message: "Insufficient balance", retryable: false };
  }

  // Unknown error
  console.error("Payment error:", error);
  return { message: "Payment failed‚Äîplease retry", retryable: true };
}
```

**Yleisimm√§t virhekoodit:**

| Virhekoodi                   | Syy                    | Palautuminen                                                                                                              |
| ---------------------------- | ---------------------- | ------------------------------------------------------------------------------------------------------------------------- |
| `BLOCK_HEIGHT_EXCEEDED`      | Blockhash vanhentunut  | Rakenna uudelleen tuoreella blockhashilla                                                                                 |
| `BLOCKHASH_NOT_FOUND`        | Blockhashia ei l√∂ydy   | Rakenna uudelleen tuoreella blockhashilla                                                                                 |
| `INSUFFICIENT_FUNDS_FOR_FEE` | Ei tarpeeksi SOL:ia    | Rahoita maksun maksaja tai k√§yt√§ [maksun abstraktointia](/docs/payments/send-payments/payment-processing/fee-abstraction) |
| `INSUFFICIENT_FUNDS`         | Ei tarpeeksi tokeneita | K√§ytt√§j√§ tarvitsee lis√§√§ saldoa                                                                                           |
| `ACCOUNT_NOT_FOUND`          | Token account puuttuu  | Luo ATA tapahtumassa                                                                                                      |

## Kaasuttomat transaktiot

K√§ytt√§j√§t odottavat maksavansa stablecoineilla, eiv√§tk√§ hankkivansa
SOL-tokeneita verkkomaksuja varten. Kaasuttomat transaktiot ratkaisevat t√§m√§n ‚Äì
samalla tavalla kuin Venmon k√§ytt√§j√§t eiv√§t mieti ACH-maksuja. Katso
[maksun abstrahointi](/docs/payments/send-payments/payment-processing/fee-abstraction)
t√§ydellisen toteutuksen osalta.

## Turvallisuus

### Avainten hallinta

- **√Ñl√§ koskaan paljasta yksityisi√§ avaimia frontend-koodissa.** K√§yt√§
  backend-allekirjoitusta, laitteistolompakoita, moniallekirjoituslompakoita tai
  avainten hallintapalveluita.
- **Erota kuumat ja kylm√§t lompakot.** Kuuma lompakko operaatioille, kylm√§
  kassalle.
- **Varmuuskopioi kaikki tuotantoavaimet.** Tallenna salatut varmuuskopiot
  useisiin turvallisiin sijainteihin. Avaimen menett√§minen tarkoittaa p√§√§syn
  menett√§mist√§ pysyv√§sti.
- **K√§yt√§ eri avaimia devnetille ja mainnetille.** Devnet-avaintesi eiv√§t saisi
  olla mainnet-avaimesi. K√§yt√§ ymp√§rist√∂pohjaista konfiguraatiota
  varmistaaksesi, ett√§ oikeat avaimet latautuvat kullekin verkolle.

### RPC-turvallisuus

Kohtele RPC-p√§√§tepisteit√§ kuin API-avaimia ‚Äì √§l√§ paljasta niit√§
frontend-koodissa, josta ne voidaan poimia ja v√§√§rink√§ytt√§√§. K√§yt√§
backend-v√§lityspalvelinta tai ymp√§rist√∂muuttujia, joita ei upoteta
asiakaskoodiin.

- [QuickNode: Endpoint Security Best Practices](https://www.quicknode.com/guides/quicknode-products/endpoint-security/endpoint-security-best-practices)
- [Helius: Protect Your Solana API Keys: Security Best Practices](https://www.helius.dev/docs/rpc/protect-your-keys)

### Seuranta

Seuraa n√§it√§ mittareita tuotannossa:

| Mittari                            | Miksi                     |
| ---------------------------------- | ------------------------- |
| Transaktioiden onnistumisprosentti | Havaitse ongelmat varhain |
| Vahvistuksen viive                 | Seuraa verkon terveytt√§   |
| Prioriteettimaksun kulutus         | Kustannusten hallinta     |
| RPC-virheiden m√§√§r√§                | Palveluntarjoajan terveys |

Aseta h√§lytykset seuraaville:

- Kassasta l√§htev√§t siirrot kynnysarvon ylitt√§ess√§
- Ep√§onnistuneiden transaktioiden m√§√§r√§n piikit
- Ep√§tavalliset vastaanottajamallit
- RPC-virheiden m√§√§r√§n kasvu

Reaaliaikaista transaktioseurantaa laajassa mittakaavassa varten katso
[indeksointiopas](/docs/payments/accept-payments/indexing).

### Vahvista osoitteet

Jokaisella tokenilla ja ohjelmalla on t√§sm√§lleen yksi oikea osoite mainnetiss√§.
V√§√§rennetyt tokenit, jotka j√§ljittelev√§t USDC:t√§ tai muita vakaavaluttoja, ovat
yleisi√§ ‚Äì niill√§ on sama nimi ja symboli, mutta eri mint-osoite. Sovelluksesi
tulisi kovakoodata tai sallittujen listalle lis√§t√§ mint-osoitteet (vaatimustesi
mukaan), √§l√§ koskaan hyv√§ksy niit√§ dynaamisesti ep√§luotettavista l√§hteist√§.

**Ymp√§rist√∂pohjainen konfiguraatio:** Devnet ja Mainnet k√§ytt√§v√§t usein t√§ysin
erilaisia token mint -osoitteita. M√§√§rit√§ sovelluksesi konfiguraatio lataamaan
oikeat osoitteet ymp√§rist√∂kohtaisesti ‚Äì √§l√§ kovakoodaa mainnet-osoitteita ja
unohda vaihtaa niit√§ testauksen aikana, tai viel√§ pahempaa, toimita
devnet-osoitteita tuotantoon.

Joitakin yleisi√§ vakaavaluttojen mint-osoitteita ovat:

| Token | Liikkeeseenlaskija | Mint-osoite                                    |
| ----- | ------------------ | ---------------------------------------------- |
| USDC  | Circle             | `EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v` |
| USDT  | Tether             | `Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB` |
| PYUSD | PayPal             | `2b1kV6DkPAnxd5ixfnxCpjxmKwqjjaYmCZfHsFu24GXo` |
| USDG  | Paxos              | `2u1tszSeqZ3qBWF3uNGPFc8TzMk2tdiwknnRMWGWjGWH` |

My√∂s ohjelma-osoitteilla on merkityst√§. Ohjeiden l√§hett√§minen v√§√§r√§√§n ohjelmaan
ep√§onnistuu ‚Äì tai pahimmassa tapauksessa johtaa peruuttamattomaan varojen
menetykseen. Token Program -osoitteet ovat:

| Ohjelma            | Osoite                                        |
| ------------------ | --------------------------------------------- |
| Token Program      | `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA` |
| Token-2022 Program | `TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb` |

## Julkaisua edelt√§v√§ tarkistuslista

- [ ] Mainnet SOL hankittu maksuille ja rentille
- [ ] Tuotannon RPC konfiguroitu (ei julkinen p√§√§tepiste)
- [ ] Vaihtoehtoinen RPC-p√§√§tepiste konfiguroitu
- [ ] Prioriteettimaksut toteutettu dynaamisella hinnoittelulla
- [ ] Uudelleenyrityslogiikka k√§sittelee blockhash-vanhentumisen
- [ ] Vahvistustaso sopiva k√§ytt√∂tapaukseen
- [ ] Kaikki yleiset virheet k√§sitelty sujuvasti
- [ ] Gasless konfiguroitu (jos sovellettavissa)
- [ ] Mainnet-token-osoitteet vahvistettu (ei devnet-mintit)
- [ ] Kaikki avaimet varmuuskopioitu turvallisesti
- [ ] Avainten hallinta tarkistettu (ei avaimia frontendiss√§)
- [ ] Transaktioiden seuranta ja h√§lytykset aktiivisina
- [ ] Kuormitustestattu odotetulla volyymilla

## Ohjelmien k√§ytt√∂√∂notto

Jos otat k√§ytt√∂√∂n mukautetun Solana-ohjelman osana maksuinfrastruktuuriasi, on
otettava huomioon lis√§n√§k√∂kohtia.

### Ennen k√§ytt√∂√∂nottoa

- **Solana CLI -versio:** Varmista, ett√§ k√§yt√§t uusinta versiota
  [Solana CLI:st√§](https://solana.com/docs/intro/installation).
- **Ohjelman keypair:** Ohjelmallasi on eri osoite mainnetiss√§ kuin devnetiss√§
  (ellet k√§yt√§ samaa keypairia uudelleen). P√§ivit√§ kaikki viittaukset
  sovelluksesi konfiguraatiossa. Tallenna ohjelmasi keypair turvalliseen
  paikkaan (huomaa, ett√§ `cargo clean` -komennon suorittaminen todenn√§k√∂isesti
  poistaa ohjelmasi keypair-avaimen).
- **Alusta tilit:** Jos ohjelmasi vaatii yll√§pitotilej√§, PDA:ita tai muita
  tilatilej√§, varmista, ett√§ ne on luotu mainnetiin ennen kuin k√§ytt√§j√§t ovat
  vuorovaikutuksessa sovelluksesi kanssa. Sama koskee kaikkia Associated Token
  Accounts (ATA) -tilej√§, joita ohjelmasi tarvitsee.

### K√§ytt√∂√∂nottoprosessi

- **Puskuritilit:** Suuret ohjelmat otetaan k√§ytt√∂√∂n puskuritilien kautta.
  `solana program deploy` -komento k√§sittelee t√§m√§n automaattisesti, mutta
  ymm√§rr√§, ett√§ k√§ytt√∂√∂notto ei ole atominen ‚Äì jos se keskeytyy, saatat joutua
  palauttamaan tai sulkemaan puskuritilej√§. Katso
  [Deploying Programs](https://solana.com/docs/programs/deploying).
- **P√§ivitysoikeus:** P√§√§t√§, pit√§isik√∂ ohjelmasi olla p√§ivitett√§viss√§ julkaisun
  j√§lkeen. Muuttumattomuuden saavuttamiseksi kumoa p√§ivitysoikeus k√§ytt√∂√∂noton
  j√§lkeen. Joustavuuden takaamiseksi suojaa p√§ivitysoikeusavain asianmukaisesti.
- **Vuokra:** Varmista, ett√§ k√§ytt√∂√∂nottolompakossasi on tarpeeksi SOL:ia
  kattamaan vuokravapaat v√§himm√§ism√§√§r√§t kaikille ohjelman tileille.
- **Varmennus:** [Varmenna](https://solana.com/docs/programs/verified-builds)
  ohjelmasi varmistaaksesi, ett√§ Solanan verkkoon k√§ytt√∂√∂nottamasi suoritettava
  ohjelma vastaa repositoriosi l√§hdekoodia

T√§ydelliset ohjeet ohjelman k√§ytt√∂√∂nottoon l√∂yd√§t kohdasta
[Deploying Programs](https://solana.com/docs/programs/deploying).

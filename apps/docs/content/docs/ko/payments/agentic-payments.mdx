---
title: 에이전트 결제
description:
  x402 프로토콜을 사용하여 AI 에이전트가 서비스, API 및 리소스에 대한 비용을
  자율적으로 지불할 수 있도록 합니다.
---

AI 에이전트는 코드 작성, 데이터 가져오기, 리소스 프로비저닝 등 워크플로우에서
점점 더 자율적으로 작동하고 있습니다. 완전히 독립적으로 작동하려면 프로그래밍
방식으로 실시간으로 최소 비용으로 서비스에 대한 "소액 결제"를 수행할 수 있는
방법이 필요합니다. 기존 결제 시스템은 소액 결제에 적합하지 않습니다. Solana의
1센트 미만 수수료와 1초 미만의 최종성은 이를 기술적으로나 경제적으로 실현
가능하게 만듭니다.

## 왜 중요한가요?

예를 들어, 애플리케이션을 구축하기 위해 LLM을 사용하는 개발자가 유료 API의
데이터가 필요하다고 가정해 보겠습니다. 중요한 데이터를 가져오려면 개발자는
워크플로우를 중단하고, API를 조사하고, 제공업체를 선택하고, 계정을 만들고, 결제
수단을 추가하고, API 키를 생성하고, 키를 환경에 복사한 다음 워크플로우를
재개해야 합니다. 이러한 마찰은 몰입 상태를 깨뜨립니다. AI 지원 워크플로우의 경우
이는 장애물입니다.

대신 에이전트 결제를 사용하면 에이전트가 요청하고, 비용을 지불하고, 워크플로우를
계속할 수 있습니다. 계정도 필요 없고, API 키도 필요 없으며, 수동 개입도 필요
없습니다.

## x402 프로토콜

에이전트 결제는 기존 웹 인터페이스를 방해하지 않으면서 표준 웹 인프라를 통해
클라이언트와 서버가 결제 조건을 협상할 수 있는 방법이 필요합니다. 소액 결제
분야는 아직 초기 단계이며 이 분야가 발전함에 따라 새로운 도구와 표준이 등장할
가능성이 높습니다. 그러나 [x402 프로토콜](https://www.x402.org/)은 강력한 생태계
지원을 받는 초기 표준으로 부상했습니다. x402는
[HTTP의 402 "Payment Required"](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Status/402)
상태 코드를 사용합니다. 이는 HTTP/1.1 이후의 표준이지만 블록체인 결제를 통해서만
실용화되었습니다.

### 작동 방식

클라이언트가 요청을 보내면 결제 조건이 포함된 402 응답을 받은 후, 서명된 결제와
함께 재시도합니다. 서버는 검증 및 정산을 퍼실리테이터에게 위임하며,
퍼실리테이터는 온체인 트랜잭션 제출을 처리하는 선택적 중개자입니다.
퍼실리테이터가 정산을 확인하면 서버는 요청된 콘텐츠를 반환합니다. 이러한 분리를
통해 API 제공자는 온체인 인프라를 직접 관리하지 않고도 결제를 받을 수 있습니다.

![x402 플로우 다이어그램](/assets/guides/x402/x402-flow-solana.png)

이 프로토콜은 상태 비저장(세션이나 API 키 없음)이며, 표준 HTTP 인프라와 함께
작동하고, 서버가 허용하는 모든 SPL 토큰을 지원합니다. 다음은 x402 미들웨어를
사용하여 Express 서버를 설정하는 방법의 예시입니다:

```ts
app.use(
  paymentMiddleware(
    {
      "GET /costly-data": {
        accepts: [
          {
            scheme: "exact",
            price: "$0.001",
            network: "solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",
            payTo: svmAddress
          }
        ],
        description: "Costly data",
        mimeType: "application/json"
      }
    },
    new x402ResourceServer(facilitatorClient).register(
      "solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",
      new ExactSvmScheme()
    )
  )
);

app.get("/costly-data", (req, res) => {
  res.send({
    report: {
      data: "costly data"
    }
  });
});
```

x402에 대해 자세히 알아보려면 가이드를 확인하세요:

<Cards>
  <Card
    title="x402 소개"
    href="/developers/guides/getstarted/intro-to-x402"
    description="결제 기능이 활성화된 API 구축을 위한 프로토콜 기본 사항 및 SDK 옵션."
  />
  <Card
    title="Kora로 구축하기"
    href="/developers/guides/getstarted/build-a-x402-facilitator"
    description="Kora의 서명 인프라를 사용하여 가스리스 x402 결제를 구현합니다."
  />
</Cards>

### x402 도구

| SDK                                                             | 설명                          |
| --------------------------------------------------------------- | ----------------------------- |
| [Corbits](https://corbits.dev/)                                 | Solana 우선 x402 구현         |
| [MCPay.tech](https://mcpay.tech/)                               | MCP 서버용 요청당 결제        |
| [PayAI](https://payai.network/)                                 | Solana 지원 x402 퍼실리테이터 |
| [x402 GitHub](https://github.com/coinbase/x402)                 | 참조 구현                     |
| [ACK](https://github.com/agentcommercekit/ack)                  | Agent Commerce Kit            |
| [A2A x402](https://github.com/google-agentic-commerce/a2a-x402) | Google의 에이전트 간 결제     |

---
title: 기본 결제
description: 지갑 간 단일 토큰 전송을 보내는 방법을 알아보세요.
---

Solana는 $0.001 미만의 수수료로 즉각적인 글로벌 토큰 전송을 가능하게 합니다.
국경 간 송금, 급여 지급 또는 자금 관리 운영을 구축하든, 기본 스테이블코인 결제는
1초 이내에 정산되며 비용은 1센트의 일부에 불과합니다.

## 작동 방식

결제는 발신자의 token account에서 수신자의 token account로 스테이블코인을
이동시킵니다. 수신자가 이 토큰을 처음 받는 경우, 해당 token account는 동일한
트랜잭션의 일부로 생성될 수 있습니다.

<Callout>
  핵심 결제 개념은 [Solana에서 결제가 작동하는
  방식](/docs/payments/how-payments-work)을 참조하세요.
</Callout>

[`@solana/client`](https://solana.com/docs/frontend/client)의 `splToken` 헬퍼는
ATA 유도, 소수점 변환 및 트랜잭션 구축을 자동으로 처리합니다. 이는 단일 결제
전송에 이상적입니다.

아래 단계는 핵심 흐름을 보여줍니다. 완전히 실행 가능한 코드는 [데모](#demo)를
참조하세요.

<ScrollyCoding>

## !!steps 토큰 헬퍼 생성

mint 주소로 `client.splToken()`를 호출하여 `splToken()` 헬퍼를 구성합니다.
헬퍼는 일반적인 토큰 작업을 위한 메서드를 제공합니다.

`tokenProgram: "auto"`를 설정하면 mint account가 Token 프로그램 또는 Token-2022
프로그램 소유인지 자동으로 감지합니다.

<CodePlaceholder title="기본 결제" />

```ts !! title="Basic Payment"
const client = createClient({
  endpoint: "http://localhost:8899",
  websocketEndpoint: "ws://localhost:8900",
  commitment: "confirmed"
});

// !focus(1:4)
const splToken = client.splToken({
  mint: mint.address,
  tokenProgram: "auto"
});
```

## !!steps 결제 전송

`sendTransfer()`를 사용하여 지갑 간 토큰을 전송합니다. 이 메서드는 다음을
처리합니다:

- **ATA 해결**: 발신자와 수신자의 연관 토큰 계정(ATA)을 자동으로 유도합니다.
  수신자의 ATA가 존재하지 않는 경우, 계정을 생성하는 명령이 동일한 트랜잭션에
  자동으로 추가됩니다.
- **소수점 변환**: 토큰 금액을 받아들이고 mint의 소수점 자릿수를 기반으로 기본
  단위로 자동 변환합니다(예: mint가 6자리 소수점을 가진 경우 0.25 토큰 -> 250000
  기본 단위)
- **트랜잭션 구축**: 전송 명령으로 트랜잭션을 생성, 서명 및 전송합니다

<CodePlaceholder title="Basic Payment" />

```ts !! title="Basic Payment"
const client = createClient({
  endpoint: "http://localhost:8899",
  websocketEndpoint: "ws://localhost:8900",
  commitment: "confirmed"
});

const splToken = client.splToken({
  mint: mint.address,
  tokenProgram: "auto"
});

// !focus(1:5)
const signature = await splToken.sendTransfer({
  amount: 0.25,
  authority: sender,
  destinationOwner: recipient.address
});
```

## !!steps 잔액 확인

전송이 완료된 후 `fetchBalance()`를 사용하여 토큰 잔액을 확인합니다. 이 메서드는
지갑 주소를 받아 자동으로 해당 ATA를 도출하여 잔액을 가져옵니다.

<CodePlaceholder title="Basic Payment" />

```ts !! title="Basic Payment"
const client = createClient({
  endpoint: "http://localhost:8899",
  websocketEndpoint: "ws://localhost:8900",
  commitment: "confirmed"
});

const splToken = client.splToken({
  mint: mint.address,
  tokenProgram: "auto"
});

const signature = await splToken.sendTransfer({
  amount: 0.25,
  authority: sender,
  destinationOwner: recipient.address
});

// !focus(1:2)
const senderBalance = await splToken.fetchBalance(sender.address);
const recipientBalance = await splToken.fetchBalance(recipient.address);
```

</ScrollyCoding>

### 데모

<CodeTabs flags="r">

```ts !! title="Demo"
// !collapse(1:13) collapsed
// Click ">" icon on left to expand demo imports
import { createClient, lamports } from "@solana/client";
import { generateKeypair } from "@solana/client/server";
import type { ServerKeypair } from "@solana/client/server";
import { getCreateAccountInstruction } from "@solana-program/system";
import {
  getCreateAssociatedTokenInstructionAsync,
  getInitializeMintInstruction,
  getMintSize,
  findAssociatedTokenPda,
  getMintToInstruction,
  TOKEN_2022_PROGRAM_ADDRESS
} from "@solana-program/token-2022";

// Generate keypairs for sender and recipient
const sender = (await generateKeypair()).signer;
const recipient = (await generateKeypair()).signer;

console.log("Sender Address:", sender.address);
console.log("Recipient Address:", recipient.address);

// Demo Setup: Create client, mint account, token accounts, and fund with initial tokens
const { client, mint } = await demoSetup(sender, recipient);

console.log("\nMint Address:", mint.address);

// =============================================================================
// Basic Token Payment Demo
// =============================================================================

// Create splToken helper for this mint using @solana/client
// !mark(1:4)
const splToken = client.splToken({
  mint: mint.address,
  tokenProgram: "auto"
});

// Transfer tokens from sender to recipient (ATA and decimals handled automatically)
// !mark(1:5)
const signature = await splToken.sendTransfer({
  amount: 0.25,
  authority: sender,
  destinationOwner: recipient.address
});

console.log("\n=== Token Payment Complete ===");
console.log("Transaction Signature:", signature.toString());

// Fetch final token account balances using splToken helper
const senderBalance = await splToken.fetchBalance(sender.address);
const recipientBalance = await splToken.fetchBalance(recipient.address);
console.log("\nSender Token Account Balance:", senderBalance);
console.log("Recipient Token Account Balance:", recipientBalance);

// =============================================================================
// Demo Setup Helper Function
// =============================================================================
// !collapse(1:1000) collapsed

/**
 * Sets up for a token transfer demo:
 * - Creates @solana/client instance
 * - Airdrops SOL to sender for transaction fees
 * - Generates mint keypair and creates/initializes mint account
 * - Creates associated token accounts for sender and recipient
 * - Mints initial tokens to sender
 *
 * @param sender - The sender's keypair (will be funded and used as mint authority)
 * @param recipient - The recipient's keypair
 * @returns Returns client instance and mint address
 */
async function demoSetup(
  sender: ServerKeypair["signer"],
  recipient: ServerKeypair["signer"]
) {
  // Create @solana/client instance pointing to local validator
  const client = createClient({
    endpoint: "http://localhost:8899",
    websocketEndpoint: "ws://localhost:8900",
    commitment: "confirmed",
    logger: () => {} // Disable all logs
  });

  // Fund sender with SOL for transaction fees using @solana/client actions
  await client.actions.requestAirdrop(sender.address, lamports(1_000_000_000n));

  // Generate keypair to use as address of mint
  const mint = (await generateKeypair()).signer;

  // Get default mint account size (in bytes), no extensions enabled
  const space = BigInt(getMintSize());

  // Get minimum balance for rent exemption
  const rent = await client.runtime.rpc
    .getMinimumBalanceForRentExemption(space)
    .send();

  // Instruction to create new account for mint (token program)
  // Invokes the system program
  const createAccountInstruction = getCreateAccountInstruction({
    payer: sender,
    newAccount: mint,
    lamports: rent,
    space,
    programAddress: TOKEN_2022_PROGRAM_ADDRESS
  });

  // Instruction to initialize mint account data
  // Invokes the token 2022 program
  const initializeMintInstruction = getInitializeMintInstruction({
    mint: mint.address,
    decimals: 6,
    mintAuthority: sender.address
  });

  // Derive sender's associated token account address (ATA)
  const [senderAta] = await findAssociatedTokenPda({
    mint: mint.address,
    owner: sender.address,
    tokenProgram: TOKEN_2022_PROGRAM_ADDRESS
  });

  // Create instruction for sender's ATA
  const createSenderAtaInstruction =
    await getCreateAssociatedTokenInstructionAsync({
      payer: sender,
      mint: mint.address,
      owner: sender.address
    });

  // Create instruction for recipient's ATA
  const createRecipientAtaInstruction =
    await getCreateAssociatedTokenInstructionAsync({
      payer: sender,
      mint: mint.address,
      owner: recipient.address
    });

  // Create instruction to mint initial tokens to sender
  const mintToInstruction = getMintToInstruction({
    mint: mint.address,
    token: senderAta,
    mintAuthority: sender.address,
    amount: 1_000_000n // Mint 1.00 tokens (1,000,000 base units with 6 decimals)
  });

  // Combine all instructions and send using @solana/client transaction helper
  const setupInstructions = [
    createAccountInstruction, // Create mint account
    initializeMintInstruction, // Initialize mint
    createSenderAtaInstruction, // Create sender's ATA
    createRecipientAtaInstruction, // Create recipient's ATA
    mintToInstruction // Mint tokens to sender
  ];

  // Prepare and send transaction using @solana/client
  await client.transaction.prepareAndSend({
    authority: sender,
    instructions: setupInstructions,
    version: 0
  });

  return {
    client,
    mint
  };
}
```

</CodeTabs>

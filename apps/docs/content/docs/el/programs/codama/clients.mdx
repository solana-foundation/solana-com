---
title: Δημιουργία Clients
description:
  Πλήρης οδηγός για τη δημιουργία clients για προγράμματα Solana χρησιμοποιώντας
  το Codama CLI.
---

[Codama](https://github.com/codama-idl/codama) δημιουργεί TypeScript και Rust
clients από το αρχείο IDL ενός προγράμματος. Οι παραγόμενοι clients
περιλαμβάνουν συναρτήσεις για την κλήση εντολών και την ανάκτηση λογαριασμών,
εξαλείφοντας την ανάγκη για χειροκίνητη σειριοποίηση και αποσειριοποίηση
λογαριασμών προγράμματος ή instruction data.

<Callout type="warn">
  Το Codama βρίσκεται σε ενεργή ανάπτυξη και υπόκειται σε αλλαγές. Ανατρέξτε στα
  συνδεδεμένα αποθετήρια στη γρήγορη αναφορά για τις πιο πρόσφατες πληροφορίες.
</Callout>

## Γρήγορη αναφορά

### Εντολές CLI

| Εντολή        | Περιγραφή                                                 |
| ------------- | --------------------------------------------------------- |
| `codama init` | Δημιουργία αρχείου διαμόρφωσης codama                     |
| `codama run`  | Δημιουργία clients προγράμματος από το αρχείο διαμόρφωσης |

### Γεννήτριες Client

| Πακέτο                                                                                                   | Περιγραφή                                                                               |
| -------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------- |
| [`@codama/renderers-js`](https://github.com/codama-idl/renderers-js)                                     | Δημιουργία [`@solana/kit`](https://www.solanakit.com) συμβατών TypeScript clients       |
| [`@codama/renderers-rust`](https://github.com/codama-idl/renderers-rust)                                 | Δημιουργία [`solana_sdk`](https://github.com/anza-xyz/solana-sdk) συμβατών Rust clients |
| [`@codama/nodes-from-anchor`](https://github.com/codama-idl/codama/tree/main/packages/nodes-from-anchor) | Μετατροπή Anchor IDLs σε Codama IDLs για τη δημιουργία clients                          |

### Πρόσθετοι πόροι

| Πόρος                                                                                                      | Περιγραφή                                                                                |
| ---------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------- |
| [Codama](https://github.com/codama-idl/codama)                                                             | Codama GitHub                                                                            |
| [Codama CLI](https://github.com/codama-idl/codama/blob/main/packages/cli/README.md)                        | Codama CLI GitHub                                                                        |
| [Codama Macros](https://github.com/codama-idl/codama-rs)                                                   | Codama Macros GitHub. Δημιουργία Codama IDL από εγγενή προγράμματα Rust με Codama macros |
| [Codama Macros Example Program](https://github.com/lorisleiva/codama-demo-2025-08/tree/main/3-from-macros) | Παράδειγμα προγράμματος που επιδεικνύει τη χρήση Codama macros                           |

## Παράδειγμα

Αυτό το παράδειγμα καθοδηγεί τη διαδικασία δημιουργίας clients από ένα
[Anchor program IDL](https://www.anchor-lang.com/docs/basics/idl).

<ScrollyCoding>

## !!steps Ρύθμιση αρχείων έργου

Για να ακολουθήσετε, δημιουργήστε έναν νέο κατάλογο με όνομα `example` και
προσθέστε το αρχείο `idl.json` και το αρχείο `package.json` από τα αποσπάσματα
κώδικα.

<Callout type="info">

Αυτό το παράδειγμα χρησιμοποιεί ένα IDL προγράμματος μετρητή.
[Προβολή πηγαίου κώδικα](https://github.com/solana-developers/anchor-web3js-nextjs/blob/main/program/programs/counter/src/lib.rs).

Σε ένα project Anchor, το IDL βρίσκεται στο `target/idl/<program_name>.json`
μετά την εκτέλεση της εντολής `anchor build`.

</Callout>

```json !! title="example/idl.json"
{
  "address": "8PY1q5J3Aq2z7TBDLBrVjv77mYzjXSCz6iHQaFEFw9hY",
  "metadata": {
    "name": "counter",
    "version": "0.1.0",
    "spec": "0.1.0",
    "description": "Created with Anchor"
  },
  "instructions": [
    {
      "name": "decrement",
      "discriminator": [106, 227, 168, 59, 248, 27, 150, 101],
      "accounts": [
        {
          "name": "user",
          "writable": true,
          "signer": true
        },
        {
          "name": "counter",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [99, 111, 117, 110, 116, 101, 114]
              }
            ]
          }
        },
        {
          "name": "vault",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [118, 97, 117, 108, 116]
              },
              {
                "kind": "account",
                "path": "user"
              }
            ]
          }
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": []
    },
    {
      "name": "increment",
      "discriminator": [11, 18, 104, 9, 104, 174, 59, 33],
      "accounts": [
        {
          "name": "user",
          "writable": true,
          "signer": true
        },
        {
          "name": "counter",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [99, 111, 117, 110, 116, 101, 114]
              }
            ]
          }
        },
        {
          "name": "vault",
          "writable": true,
          "pda": {
            "seeds": [
              {
                "kind": "const",
                "value": [118, 97, 117, 108, 116]
              },
              {
                "kind": "account",
                "path": "user"
              }
            ]
          }
        },
        {
          "name": "system_program",
          "address": "11111111111111111111111111111111"
        }
      ],
      "args": []
    }
  ],
  "accounts": [
    {
      "name": "Counter",
      "discriminator": [255, 176, 4, 245, 188, 253, 124, 25]
    }
  ],
  "errors": [
    {
      "code": 6000,
      "name": "UnderflowError",
      "msg": "Counter cannot be decremented below zero"
    }
  ],
  "types": [
    {
      "name": "Counter",
      "type": {
        "kind": "struct",
        "fields": [
          {
            "name": "count",
            "type": "u64"
          }
        ]
      }
    }
  ]
}
```

```json !! title="example/package.json"
{
  "name": "example",
  "version": "1.0.0",
  "type": "module",
  "devDependencies": {
    "@types/node": "^24.10.0",
    "tsx": "^4.20.6",
    "typescript": "^5.9.3"
  }
}
```

## !!steps Δημιουργία αρχείου διαμόρφωσης Codama

Το Codama χρησιμοποιεί ένα αρχείο διαμόρφωσης για να καθορίσει πού βρίσκεται το
αρχείο IDL, ποιες γλώσσες πελάτη θα δημιουργηθούν και πού θα εξαχθεί ο
παραγόμενος κώδικας. Δημιουργήστε αυτή τη διαμόρφωση εκτελώντας:

```terminal
$ npx codama init
```

Αυτό θα σας προτρέψει με ερωτήσεις για να δημιουργήσετε ένα αρχείο `codama.json`
στο root του project σας και να εγκαταστήσετε τις απαραίτητες εξαρτήσεις του
Codama.

```shell title="example output"
Welcome to Codama!
✔ Where is your IDL located? (Supports Codama and Anchor IDLs). … idl.json
✔ Which script preset would you like to use? › Generate JavaScript client, Generate Rust client
✔ [js] Where should the JavaScript code be generated? … clients/js/src/generated
✔ [rust] Where is the Rust client crate located? … clients/rust
✔ [rust] Where should the Rust code be generated? … clients/rust/src/generated
▲ Your configuration requires additional dependencies.
▲ Install command: pnpm install @codama/nodes-from-anchor @codama/renderers-js @codama/renderers-rust
✔ Install dependencies? … yes
→ Installing
  ├─ @codama/nodes-from-anchor
  ├─ @codama/renderers-js
  └─ @codama/renderers-rust
✔ Dependencies installed successfully.

✔ Configuration file created.
  └─ Path: /example/codama.json
```

```json !! title="example/codama.json"
{
  "idl": "idl.json",
  "before": [],
  "scripts": {
    "js": {
      "from": "@codama/renderers-js",
      "args": ["clients/js/src/generated"]
    },
    "rust": {
      "from": "@codama/renderers-rust",
      "args": [
        "clients/rust/src/generated",
        {
          "crateFolder": "clients/rust",
          "formatCode": true
        }
      ]
    }
  }
}
```

```json !! title="example/package.json"
{
  "name": "example",
  "version": "1.0.0",
  "type": "module",
  "devDependencies": {
    "@types/node": "^24.10.0",
    "tsx": "^4.20.6",
    "typescript": "^5.9.3"
  },
  "dependencies": {
    "@codama/nodes-from-anchor": "^1.2.9",
    "@codama/renderers-js": "^1.4.3",
    "@codama/renderers-rust": "^1.2.7"
  }
}
```

## !!steps Δημιουργία Clients

Μόλις δημιουργηθεί το αρχείο διαμόρφωσης, εκτελέστε την εντολή δημιουργίας για
να παράγετε τους clients:

```terminal
$ npx codama run --all
```

<WithMentions>

Αυτό θα δημιουργήσει τους clients του προγράμματος στις
[διαδρομές αρχείων](mention:path) που καθορίζονται στο αρχείο διαμόρφωσης
codama.

```json title="codama.json"
{
  "idl": "idl.json",
  "before": [],
  "scripts": {
    "js": {
      "from": "@codama/renderers-js",
      // !mark
      // !mention path
      "args": ["clients/js/src/generated"]
    },
    "rust": {
      "from": "@codama/renderers-rust",
      "args": [
        // !mark
        // !mention path
        "clients/rust/src/generated",
        {
          "crateFolder": "clients/rust",
          "formatCode": true
        }
      ]
    }
  }
}
```

</WithMentions>

<Callout type="info">
  Δεν εμφανίζονται όλα τα παραγόμενα αρχεία στα αντίστοιχα αποσπάσματα κώδικα.
</Callout>

```ts !! title="example/clients/js/src/generated/index.ts"
/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

export * from "./accounts";
export * from "./errors";
export * from "./instructions";
export * from "./programs";
```

```rs !! title="example/clients/rust/src/generated/mod.rs"
//! This code was AUTOGENERATED using the codama library.
//! Please DO NOT EDIT THIS FILE, instead use visitors
//! to add features, then rerun codama to update it.
//!
//! <https://github.com/codama-idl/codama>
//!

pub mod accounts;
pub mod errors;
pub mod instructions;
pub mod programs;
pub mod shared;

pub(crate) use programs::*;
```

</ScrollyCoding>

## Χρήση των παραγόμενων Clients

Οι παραγόμενοι πελάτες περιλαμβάνουν πηγαίο κώδικα για αλληλεπίδραση με το
πρόγραμμά σας αλλά δεν περιλαμβάνουν αρχεία `package.json` (για TypeScript) ή
`Cargo.toml` (για Rust).

Θα χρειαστεί είτε να δημιουργήσετε νέα αρχεία `package.json` και `Cargo.toml`
είτε να προσθέσετε τις απαιτούμενες εξαρτήσεις από τους παραγόμενους πελάτες στα
υπάρχοντα αρχεία του έργου σας.

### Ενσωμάτωση στην εφαρμογή σας

Δημιουργήστε τον πελάτη απευθείας στον κατάλογο πηγαίου κώδικα της εφαρμογής σας
και στη συνέχεια προσθέστε τις απαιτούμενες εξαρτήσεις στα υπάρχοντα αρχεία
`package.json` ή `Cargo.toml`.

Χρησιμοποιήστε αυτήν την προσέγγιση όταν δημιουργείτε μια εφαρμογή όπου ο
κώδικας του πελάτη δεν χρειάζεται να κοινοποιηθεί ή να δημοσιευθεί.

### Αυτόνομα πακέτα ή crates

Δημιουργήστε ξεχωριστά πακέτα TypeScript ή crates Rust για κάθε πελάτη. Για
παράδειγμα, προσθέστε `package.json` στο `clients/js/` και `Cargo.toml` στο
`clients/rust/`.

Χρησιμοποιήστε αυτήν την προσέγγιση για να δημοσιεύσετε τον πελάτη ως
επαναχρησιμοποιήσιμη βιβλιοθήκη (npm ή crates.io) ή για να μοιραστείτε τον
πελάτη σε πολλαπλές εφαρμογές σε ένα monorepo.

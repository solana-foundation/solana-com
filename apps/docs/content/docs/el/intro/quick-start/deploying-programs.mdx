---
title: Ανάπτυξη ενός Προγράμματος
description:
  Μάθετε πώς να δημιουργείτε, να αναπτύσσετε και να δοκιμάζετε το πρώτο σας
  πρόγραμμα Solana χρησιμοποιώντας το πλαίσιο Anchor και το Solana Playground.
  Αυτός ο οδηγός για αρχάριους σας καθοδηγεί στη δημιουργία ενός απλού
  προγράμματος, την ανάπτυξή του στο devnet, την εκτέλεση δοκιμών και το
  κλείσιμο του προγράμματος.
h1: Αναπτύξτε το πρώτο σας πρόγραμμα Solana
---

Δημιουργήστε, αναπτύξτε και δοκιμάστε το πρώτο σας
[πρόγραμμα](/docs/core/programs) στο Blockchain της Solana χρησιμοποιώντας το
πλαίσιο Anchor. Αυτός ο οδηγός θα σας βοηθήσει να εξοικειωθείτε περισσότερο με
το Solana Playground και να προετοιμαστείτε για τη χρήση Program Derived Address
(PDA) και Cross Program Invocation (CPI).

<Steps>

<Step>

### Δημιουργία έργου Anchor

1. Ανοίξτε το [Solana Playground](https://beta.solpg.io) στο πρόγραμμα
   περιήγησής σας
2. Στον αριστερό πίνακα, κάντε κλικ στο **+ Create a new project**
3. Εισαγάγετε ένα **Project name**
4. Επιλέξτε **Anchor (Rust)** ως πλαίσιο
5. Κάντε κλικ στο **Create**

![Νέο Έργο](/assets/docs/intro/quickstart/pg-new-project.gif)

Το αρχείο πηγαίου κώδικα `src/lib.rs` θα ανοίξει. Περιέχει μία δομή που
ονομάζεται `Initialize`, η οποία κάνει τα εξής:

- Λαμβάνει μια απαιτούμενη παράμετρο που ονομάζεται _rs`data: u64`_
- Δημιουργεί έναν νέο λογαριασμό
- Αποθηκεύει την τιμή του _rs`data: u64`_ στον νέο λογαριασμό
- Προσθέτει ένα μήνυμα στα αρχεία καταγραφής του προγράμματος της συναλλαγής

<WithNotes>

```rust title="lib.rs"
use anchor_lang::prelude::*;

// This is your program's public key and it will update
// automatically when you build the project.
// !tooltip[/declare_id/] declare_id
declare_id!("11111111111111111111111111111111");

// !tooltip[/program/] program
#[program]
mod hello_anchor {
    use super::*;
    // !tooltip[/data: u64/] parameter
    pub fn initialize(ctx: Context<Initialize>, data: u64) -> Result<()> {
        // !tooltip[/ctx.accounts.new_account.data = data/] initialize
        ctx.accounts.new_account.data = data;
        // !tooltip[/msg!/] msg
        msg!("Changed data to: {}!", data); // Message will show up in the tx logs
        Ok(())
    }
}

// !tooltip[/Accounts/] accounts
#[derive(Accounts)]
pub struct Initialize<'info> {
    // We must specify the space in order to initialize an account.
    // First 8 bytes are default account discriminator,
    // next 8 bytes come from NewAccount.data being type u64.
    // (u64 = 64 bits unsigned integer = 8 bytes)
    // !tooltip[/account/] constraints
    #[account(
      // !tooltip[/init/] init
      init,
      // !tooltip[/payer/] payer
      payer = signer,
      // !tooltip[/space/] space
      space = 8 + 8
    )]
    pub new_account: Account<'info, NewAccount>,
    // !tooltip[/account/] constraints
    #[account(mut)]
    pub signer: Signer<'info>,
    pub system_program: Program<'info, System>,
}

// !tooltip[/account/] account
#[account]
pub struct NewAccount {
    data: u64
}
```

### !declare_id

Η διεύθυνση του προγράμματός σας στην αλυσίδα. Θα ενημερωθεί όταν δημιουργήσετε
το έργο

### !program

Η μονάδα που περιέχει τις οδηγίες του προγράμματος

### !accounts

Επισημαίνει μια δομή που περιέχει τους λογαριασμούς του προγράμματος

### !account

Μια δομή που αντιπροσωπεύει τους τύπους δεδομένων λογαριασμού που μπορεί να
δημιουργήσει και να κατέχει αυτό το πρόγραμμα

### !constraints

Περιορισμοί λογαριασμού. Για παράδειγμα, κοινοί έλεγχοι ή λειτουργίες που
ενισχύουν την ασφάλεια του προγράμματος

### !parameter

Η τιμή που περνάει στην οδηγία όταν καλείται

### !initialize

Έχει πρόσβαση στο πεδίο `data` του λογαριασμού `new_account` και το ορίζει στην
τιμή του `data: u64`

### !msg

Η μακροεντολή _rs`msg!`_ καταγράφει ένα μήνυμα στα αρχεία καταγραφής του
προγράμματος της συναλλαγής

### !init

Καλεί το System Program για να δημιουργήσει έναν νέο λογαριασμό και ορίζει αυτό
το πρόγραμμα ως ιδιοκτήτη. Ως ιδιοκτήτης του προγράμματος, αυτό το πρόγραμμα
μπορεί στη συνέχεια να γράψει στα δεδομένα του λογαριασμού

### !payer

Ο λογαριασμός που πληρώνει για τον νέο λογαριασμό

### !space

Ο αριθμός των bytes που θα διατεθούν για τον λογαριασμό

</WithNotes>

<Accordions>

<Accordion title="Επεξήγηση">

<WithMentions>

- Η μακροεντολή [`declare_id!`](mention:one) καθορίζει τη διεύθυνση on-chain του
  προγράμματός σας. Το Solana Playground θα ενημερώσει αυτόματα αυτή τη
  διεύθυνση όταν κάνετε build το πρόγραμμα.

```rs
// !mention one
declare_id!("11111111111111111111111111111111");
```

</WithMentions>

<WithMentions>

- Το χαρακτηριστικό [`#[program]`](mention:one) σχολιάζει μια ενότητα που
  περιέχει συναρτήσεις οι οποίες αντιπροσωπεύουν τις οδηγίες του προγράμματος.

```rs
// !mention one
#[program]
mod hello_anchor {
    use super::*;
    // !mention two
    pub fn initialize(ctx: Context<Initialize>, data: u64) -> Result<()> {
        // !mention three
        ctx.accounts.new_account.data = data;
        msg!("Changed data to: {}!", data); // Message will show up in the tx logs
        Ok(())
    }
}
```

Σε αυτό το παράδειγμα, η οδηγία [`initialize`](mention:two) δέχεται δύο
παραμέτρους:

- `ctx: Context<Initialize>`: Περνάει τους λογαριασμούς που απαιτούνται για αυτή
  την οδηγία στη συνάρτηση, όπως καθορίζεται στη δομή `Initialize`.
- `data: u64`: Μια προσαρμοσμένη παράμετρος που πρέπει να παρέχετε όταν καλείτε
  την οδηγία.

Το σώμα της συνάρτησης [ορίζει το πεδίο `data` του `new_account`](mention:three)
στην παρεχόμενη παράμετρο `data`, και στη συνέχεια εκτυπώνει ένα μήνυμα στα
αρχεία καταγραφής του προγράμματος.

</WithMentions>

<WithMentions>

- Το χαρακτηριστικό [`#[derive(Accounts)]`](mention:one) ορίζει μια δομή που
  καθορίζει τους λογαριασμούς που απαιτούνται για μια συγκεκριμένη οδηγία. Κάθε
  πεδίο αντιπροσωπεύει έναν ξεχωριστό λογαριασμό.

  Το Anchor χειρίζεται αυτόματα κοινούς ελέγχους ασφαλείας που σχετίζονται με
  την επικύρωση λογαριασμών μέσω τύπων πεδίων (π.χ. `Signer<'info>`) και
  περιορισμών (π.χ. `#[account(mut)]`).

  ```rs
  // !mention one
  #[derive(Accounts)]
  pub struct Initialize<'info> {
      #[account(init, payer = signer, space = 8 + 8)]
      pub new_account: Account<'info, NewAccount>,
      #[account(mut)]
      pub signer: Signer<'info>,
      pub system_program: Program<'info, System>,
  }
  ```

</WithMentions>

<WithMentions>

- Το χαρακτηριστικό [`#[account]`](mention:one) ορίζει μια δομή που
  αντιπροσωπεύει τον τύπο δεδομένων για τους λογαριασμούς που δημιουργεί και
  κατέχει αυτό το πρόγραμμα.

```rs
// !mention one
#[account]
pub struct NewAccount {
  data: u64
}
```

</WithMentions>

</Accordion>
</Accordions>

</Step>

<Step>

### Δημιουργία και ανάπτυξη του προγράμματος

1. Μεταγλώττιση του κώδικα προγράμματος

```terminal
$ build
Building...
Build successful. Completed in 1.46s.
```

<Callout>
  Το [αναγνωριστικό προγράμματος](/docs/intro/quick-start/deploying-programs)
  σας, που ορίζεται στο _rs`declare_id!()`_, θα ενημερωθεί τώρα.
</Callout>

2. Προσθήκη SOL στο πορτοφόλι σας _(Προαιρετικό)_

Η ανάπτυξη ενός προγράμματος απαιτεί SOL στον on-chain λογαριασμό του
προγράμματος. Εάν είναι απαραίτητο,
[προσθέστε SOL στο πορτοφόλι σας](/docs/intro/quick-start#add-sol-to-your-wallet)
πριν προχωρήσετε στο βήμα 3.

3. Ανάπτυξη του προγράμματος στο δίκτυο

```terminal
$ deploy
Deploying... This could take a while depending on the program size and network conditions.
Warning: 1 transaction not confirmed, retrying...
Deployment successful. Completed in 19s.
```

<Callout type="info">
  Όταν αναπτυχθεί, ο bytecode του προγράμματος αποθηκεύεται σε έναν εκτελέσιμο
  program account.
</Callout>

**Σημείωση:** Εάν προτιμάτε, μπορείτε να χρησιμοποιήσετε τα κουμπιά **Build**
και **Deploy** στον αριστερό πίνακα, όπως φαίνεται στο παρακάτω στιγμιότυπο
οθόνης.

![Build and Deploy](/assets/docs/intro/quickstart/pg-build-deploy.png)

</Step>

<Step>

### Δοκιμή του προγράμματος

<WithMentions>

1. Ανοίξτε το αρχείο δοκιμής που ονομάζεται `tests/anchor.test.ts`. Αυτό το
   αρχείο δείχνει πώς να καλέσετε τη δομή [`initialize`](mention:one) του
   προγράμματος από τον πελάτη.

```ts title="anchor.test.ts"
// No imports needed: web3, anchor, pg and more are globally available

describe("Test", () => {
  it("initialize", async () => {
    // Generate keypair for the new account
    const newAccountKp = new web3.Keypair();

    // Send transaction
    const data = new BN(42);
    const txHash = await pg.program.methods
      // !mention one
      .initialize(data)
      .accounts({
        newAccount: newAccountKp.publicKey,
        signer: pg.wallet.publicKey,
        systemProgram: web3.SystemProgram.programId
      })
      .signers([newAccountKp])
      .rpc();
    console.log(`Use 'solana confirm -v ${txHash}' to see the logs`);

    // Confirm transaction
    await pg.connection.confirmTransaction(txHash);

    // Fetch the created account
    const newAccount = await pg.program.account.newAccount.fetch(
      newAccountKp.publicKey
    );

    console.log("On-chain data is:", newAccount.data.toString());

    // Check whether the data on-chain is equal to local 'data'
    assert(data.eq(newAccount.data));
  });
});
```

</WithMentions>

2. Εκτελέστε το αρχείο δοκιμής

```terminal
$ test
Running tests...
  hello_anchor.test.ts:
  hello_anchor
    Use 'solana confirm -v 3TewJtiUz1EgtT88pLJHvKFzqrzDNuHVi8CfD2mWmHEBAaMfC5NAaHdmr19qQYfTiBace6XUmADvR4Qrhe8gH5uc' to see the logs
    On-chain data is: 42
    ✔ initialize (961ms)
  1 passing (963ms)
```

3. Αποθηκεύστε το hash συναλλαγής (`TxHash`) που περιλαμβάνεται στην έξοδο

(Στο παραπάνω παράδειγμα, το hash συναλλαγής είναι
`3TewJtiUz1EgtT88pLJHvKFzqrzDNuHVi8CfD2mWmHEBAaMfC5NAaHdmr19qQYfTiBace6XUmADvR4Qrhe8gH5uc`.)

**Σημείωση:** Αν προτιμάτε, μπορείτε να χρησιμοποιήσετε το κουμπί `Test` στον
αριστερό πίνακα.

![Εκτέλεση Δοκιμής](/assets/docs/intro/quickstart/pg-test.png)

4. Εκτελέστε `solana confirm -v [TxHash]` για να δείτε τα αρχεία καταγραφής
   συναλλαγών

```terminal
$ solana confirm -v 3TewJtiUz1EgtT88pLJHvKFzqrzDNuHVi8CfD2mWmHEBAaMfC5NAaHdmr19qQYfTiBace6XUmADvR4Qrhe8gH5uc
RPC URL: https://api.devnet.solana.com
Default Signer: Playground Wallet
Commitment: confirmed

Transaction executed in slot 308150984:
  Block Time: 2024-06-25T12:52:05-05:00
  Version: legacy
  Recent Blockhash: 7AnZvY37nMhCybTyVXJ1umcfHSZGbngnm4GZx6jNRTNH
  Signature 0: 3TewJtiUz1EgtT88pLJHvKFzqrzDNuHVi8CfD2mWmHEBAaMfC5NAaHdmr19qQYfTiBace6XUmADvR4Qrhe8gH5uc
  Signature 1: 3TrRbqeMYFCkjsxdPExxBkLAi9SB2pNUyg87ryBaTHzzYtGjbsAz9udfT9AkrjSo1ZjByJgJHBAdRVVTZv6B87PQ
  Account 0: srw- 3z9vL1zjN6qyAFHhHQdWYRTFAcy69pJydkZmSFBKHg1R (fee payer)
  Account 1: srw- c7yy8zdP8oeZ2ewbSb8WWY2yWjDpg3B43jk3478Nv7J
  Account 2: -r-- 11111111111111111111111111111111
  Account 3: -r-x 2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r
  Instruction 0
    Program:   2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r (3)
    Account 0: c7yy8zdP8oeZ2ewbSb8WWY2yWjDpg3B43jk3478Nv7J (1)
    Account 1: 3z9vL1zjN6qyAFHhHQdWYRTFAcy69pJydkZmSFBKHg1R (0)
    Account 2: 11111111111111111111111111111111 (2)
    Data: [175, 175, 109, 31, 13, 152, 155, 237, 42, 0, 0, 0, 0, 0, 0, 0]
  Status: Ok
    Fee: ◎0.00001
    Account 0 balance: ◎5.47001376 -> ◎5.46900152
    Account 1 balance: ◎0 -> ◎0.00100224
    Account 2 balance: ◎0.000000001
    Account 3 balance: ◎0.00139896
  Log Messages:
    Program 2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r invoke [1]
    Program log: Instruction: Initialize
    Program 11111111111111111111111111111111 invoke [2]
    Program 11111111111111111111111111111111 success
    Program log: Changed data to: 42!
    Program 2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r consumed 5661 of 200000 compute units
    Program 2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r success

Confirmed
```

4. Προβολή των λεπτομερειών της συναλλαγής

Ανοίξτε είτε το [SolanaFM](https://solana.fm/) είτε το
[Solana Explorer](https://explorer.solana.com/?cluster=devnet) και αναζητήστε το
hash της συναλλαγής.

<Callout type="warn">
  **Solana Explorer:** Ορίστε το cluster δικτύου σε `devnet`, ώστε να ταιριάζει
  με αυτό του Solana Playground.
</Callout>

</Step>

<Step>

### Κλείσιμο του προγράμματος

Κλείστε το πρόγραμμα για να ανακτήσετε τα SOL που έχουν εκχωρηθεί στο on-chain
πρόγραμμα. Για να το κάνετε αυτό, εκτελέστε `solana program close [ProgramID]`,
χρησιμοποιώντας τη διεύθυνση προγράμματος που είναι αποθηκευμένη στο macro
_rs`declare_id!()`_.

```terminal
$ solana program close 2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r
Closed Program Id 2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r, 2.79511512 SOL reclaimed
```

<Callout type="warn">
  Τα προγράμματα μπορούν **μόνο** να κλείσουν ή να ενημερωθούν από έναν
  λογαριασμό με δικαιώματα αναβάθμισης. Το πορτοφόλι του Playground σας γίνεται
  αυτόματα η αρχή αναβάθμισης για κάθε πρόγραμμα όταν αυτό αναπτύσσεται. Αν τα
  δικαιώματα αναβάθμισης ανακληθούν, το πρόγραμμα γίνεται αμετάβλητο.
</Callout>

Συγχαρητήρια! Δημιουργήσατε και αναπτύξατε το πρώτο σας πρόγραμμα Solana
χρησιμοποιώντας το Anchor.

</Step>

</Steps>

## Επόμενα βήματα

Τώρα που έχετε αναπτύξει το πρώτο σας πρόγραμμα, είστε έτοιμοι να εξερευνήσετε
[διευθύνσεις παραγόμενες από προγράμματα](/docs/intro/quick-start/program-derived-address)
και [διαπρογραμματική κλήση](/docs/intro/quick-start/cross-program-invocation).

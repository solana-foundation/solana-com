---
title: Προγράμματα
description:
  Μάθετε για τα προγράμματα Solana (έξυπνα συμβόλαια) και πώς να τα αναπτύξετε
  χρησιμοποιώντας Rust ή το πλαίσιο Anchor. Κατανοήστε την ανάπτυξη, τις
  αναβαθμίσεις και την επαλήθευση προγραμμάτων στο δίκτυο Solana.
h1: Προγράμματα
---

Στο Solana, ένα έξυπνο συμβόλαιο ονομάζεται πρόγραμμα. Ένα πρόγραμμα είναι ένας
λογαριασμός χωρίς κατάσταση [account](/docs/core/accounts#program-account) που
περιέχει εκτελέσιμο κώδικα. Αυτός ο κώδικας είναι οργανωμένος σε συναρτήσεις που
ονομάζονται οδηγίες. Οι χρήστες αλληλεπιδρούν με ένα πρόγραμμα στέλνοντας μια
[συναλλαγή](/docs/core/transactions) που περιέχει μία ή περισσότερες
[οδηγίες](/docs/core/instructions). Μια συναλλαγή μπορεί να περιλαμβάνει οδηγίες
από πολλαπλά προγράμματα.

Όταν ένα πρόγραμμα αναπτύσσεται, το Solana χρησιμοποιεί το
[LLVM](https://llvm.org/) για να το μεταγλωττίσει σε εκτελέσιμη και συνδέσιμη
μορφή ([ELF](https://en.wikipedia.org/wiki/Executable_and_Linkable_Format)). Το
αρχείο ELF περιέχει το δυαδικό του προγράμματος σε μορφή Solana Bytecode Format
(sBPF) και αποθηκεύεται στην αλυσίδα σε έναν εκτελέσιμο λογαριασμό.

<Callout>
  Το sBPF είναι η προσαρμοσμένη έκδοση του Solana για το bytecode
  [eBPF](https://en.wikipedia.org/wiki/EBPF).
</Callout>

## Συγγραφή προγραμμάτων

Η πλειονότητα των προγραμμάτων γράφεται σε
[Rust](https://rust-book.cs.brown.edu/title-page.html), με δύο κοινές
προσεγγίσεις ανάπτυξης:

- [Anchor](https://www.anchor-lang.com/docs): Το Anchor είναι ένα πλαίσιο
  σχεδιασμένο για γρήγορη και εύκολη ανάπτυξη στο Solana. Χρησιμοποιεί
  [μακροεντολές Rust](https://doc.rust-lang.org/book/ch20-05-macros.html) για να
  μειώσει τον επαναλαμβανόμενο κώδικα—καθιστώντας το ιδανικό για αρχάριους.
- [Native Rust](/docs/programs/rust): Γράψτε προγράμματα σε Rust χωρίς να
  χρησιμοποιείτε κανένα πλαίσιο. Αυτή η προσέγγιση προσφέρει μεγαλύτερη ευελιξία
  αλλά συνοδεύεται από αυξημένη πολυπλοκότητα.

## Ενημέρωση προγραμμάτων

Για να
[τροποποιήσετε](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/bpf_loader/src/lib.rs#L704)
ένα υπάρχον πρόγραμμα, ένας λογαριασμός πρέπει να οριστεί ως
[αρχή αναβάθμισης](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/bpf_loader/src/lib.rs#L894).
(Συνήθως ο ίδιος λογαριασμός που αρχικά
[ανέπτυξε το πρόγραμμα](/docs/programs/deploying).) Εάν η αρχή αναβάθμισης
ανακληθεί και οριστεί σε `None`, το πρόγραμμα δεν μπορεί πλέον να ενημερωθεί.

## Επαλήθευση προγραμμάτων

Το Solana υποστηρίζει
[επαληθεύσιμες κατασκευές](/docs/programs/verified-builds), οι οποίες επιτρέπουν
στους χρήστες να ελέγξουν εάν ο κώδικας ενός προγράμματος στην αλυσίδα ταιριάζει
με τον δημόσιο πηγαίο κώδικά του. Το πλαίσιο Anchor παρέχει
[ενσωματωμένη υποστήριξη](https://www.anchor-lang.com/docs/verifiable-builds)
για τη δημιουργία επαληθεύσιμης κατασκευής.

Για να ελέγξετε αν ένα υπάρχον πρόγραμμα είναι επαληθευμένο, αναζητήστε το
αναγνωριστικό προγράμματος (program ID) του στον
[Solana Explorer](https://explorer.solana.com/address/PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY).
Εναλλακτικά, μπορείτε να χρησιμοποιήσετε το
[Solana Verifiable Build CLI](https://github.com/Ellipsis-Labs/solana-verifiable-build)
της Ellipsis Labs, για να επαληθεύσετε ανεξάρτητα προγράμματα on-chain.

## Ενσωματωμένα προγράμματα

### Το System Program

Το System Program είναι ο μόνος λογαριασμός που μπορεί να δημιουργήσει νέους
λογαριασμούς. Από προεπιλογή, όλοι οι νέοι λογαριασμοί ανήκουν στο
[System Program](https://github.com/anza-xyz/agave/tree/v2.1.13/programs/system/src),
αν και πολλοί αποκτούν νέο κάτοχο κατά τη δημιουργία τους. Το System Program
εκτελεί τις ακόλουθες βασικές λειτουργίες:

| Λειτουργία                                                                                                                     | Περιγραφή                                                                                                                                                                                                                                                                       |
| ------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [Δημιουργία νέου λογαριασμού](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/system/src/system_processor.rs#L146)     | Μόνο το System Program μπορεί να δημιουργήσει νέους λογαριασμούς.                                                                                                                                                                                                               |
| [Κατανομή χώρου](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/system/src/system_processor.rs#L71)                   | Ορίζει τη χωρητικότητα σε bytes για το πεδίο δεδομένων κάθε λογαριασμού.                                                                                                                                                                                                        |
| [Ανάθεση κυριότητας προγράμματος](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/system/src/system_processor.rs#L113) | Αφού το System Program δημιουργήσει έναν λογαριασμό, μπορεί να αναθέσει εκ νέου τον καθορισμένο κάτοχο προγράμματος σε διαφορετικό λογαριασμό προγράμματος. Έτσι τα προσαρμοσμένα προγράμματα αποκτούν την κυριότητα νέων λογαριασμών που δημιουργούνται από το System Program. |
| [Μεταφορά SOL](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/system/src/system_processor.rs#L215)                    | Μεταφέρει lamports (SOL) από λογαριασμούς συστήματος σε άλλους λογαριασμούς.                                                                                                                                                                                                    |

Η διεύθυνση του system program είναι `11111111111111111111111111111111`.

### Προγράμματα φόρτωσης (loader programs)

Κάθε πρόγραμμα ανήκει σε ένα άλλο—τον φορτωτή του (loader). Οι φορτωτές
χρησιμοποιούνται για την ανάπτυξη, επανανάπτυξη, αναβάθμιση ή κλείσιμο
προγραμμάτων. Χρησιμοποιούνται επίσης για την οριστικοποίηση ενός προγράμματος
και τη μεταφορά εξουσίας προγράμματος.

<Callout>
  Τα προγράμματα φόρτωσης (loader programs) αναφέρονται μερικές φορές ως 'BPF
  Loaders'.
</Callout>

Υπάρχουν επί του παρόντος πέντε προγράμματα φόρτωσης, όπως φαίνεται στον
παρακάτω πίνακα.

| Φορτωτής | Αναγνωριστικό προγράμματος                    | Σημειώσεις                                                                                                                                                             | Σύνδεσμος οδηγιών                                                                                                                          |
| -------- | --------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| native   | `NativeLoader1111111111111111111111111111111` | Κατέχει τους άλλους τέσσερις φορτωτές                                                                                                                                  | —                                                                                                                                          |
| v1       | `BPFLoader1111111111111111111111111111111111` | Οι οδηγίες διαχείρισης είναι απενεργοποιημένες, αλλά τα προγράμματα εξακολουθούν να εκτελούνται                                                                        | —                                                                                                                                          |
| v2       | `BPFLoader2111111111111111111111111111111111` | Οι οδηγίες διαχείρισης είναι απενεργοποιημένες, αλλά τα προγράμματα εξακολουθούν να εκτελούνται                                                                        | [Οδηγίες](https://docs.rs/solana-loader-v2-interface/latest/solana_loader_v2_interface/enum.LoaderInstruction.html)                        |
| v3       | `BPFLoaderUpgradeab1e11111111111111111111111` | Τα προγράμματα μπορούν να ενημερωθούν μετά την ανάπτυξη. Το εκτελέσιμο προγράμματος αποθηκεύεται σε ξεχωριστό λογαριασμό δεδομένων προγράμματος (program data account) | [Οδηγίες](https://docs.rs/solana-loader-v3-interface/latest/solana_loader_v3_interface/instruction/enum.UpgradeableLoaderInstruction.html) |
| v4       | `LoaderV411111111111111111111111111111111111` | Υπό ανάπτυξη (δεν έχει κυκλοφορήσει)                                                                                                                                   | [Οδηγίες](https://docs.rs/solana-loader-v4-interface/latest/solana_loader_v4_interface/instruction/enum.LoaderV4Instruction.html)          |

Τα προγράμματα που αναπτύσσονται με loader-v3 ή loader-v4 μπορεί να είναι
τροποποιήσιμα μετά την ανάπτυξη, όπως καθορίζεται από την αρχή αναβάθμισής τους.

<Callout>
  Όταν αναπτύσσεται ένα νέο πρόγραμμα, η πιο πρόσφατη έκδοση φορτωτή θα
  χρησιμοποιηθεί από προεπιλογή.
</Callout>

### Προμεταγλωττισμένα προγράμματα

Εκτός από τα προγράμματα φορτωτή, το Solana παρέχει τα ακόλουθα
προμεταγλωττισμένα προγράμματα.

#### Επαλήθευση υπογραφής ed25519

Το πρόγραμμα ed25519 χρησιμοποιείται για την επαλήθευση μίας ή περισσότερων
υπογραφών ed25519.

| Πρόγραμμα         | Αναγνωριστικό προγράμματος                    | Περιγραφή                                                                       | Οδηγίες                                                                                    |
| ----------------- | --------------------------------------------- | ------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------ |
| Πρόγραμμα Ed25519 | `Ed25519SigVerify111111111111111111111111111` | Επαληθεύει υπογραφές ed25519. Αν κάποια υπογραφή αποτύχει, επιστρέφεται σφάλμα. | [Οδηγίες](https://docs.rs/solana-ed25519-program/latest/solana_ed25519_program/index.html) |

Το πρόγραμμα ed25519 επεξεργάζεται μια εντολή. Το πρώτο `u8` της εντολής
περιέχει έναν αριθμό των υπογραφών που πρέπει να ελεγχθούν, ακολουθούμενο από
ένα μονό byte γεμίσματος. Μετά από αυτό, η ακόλουθη δομή σειριοποιείται, μία για
κάθε υπογραφή που πρέπει να ελεγχθεί.

```rs title="Ed25519SignatureOffsets"
struct Ed25519SignatureOffsets {
    signature_offset: u16,             // offset to ed25519 signature of 64 bytes
    signature_instruction_index: u16,  // instruction index to find signature
    public_key_offset: u16,            // offset to public key of 32 bytes
    public_key_instruction_index: u16, // instruction index to find public key
    message_data_offset: u16,          // offset to start of message data
    message_data_size: u16,            // size of message data
    message_instruction_index: u16,    // index of instruction data to get message data
}
```

```txt title="Signature verification pseudocode"
process_instruction() {
    for i in 0..count {
        // i'th index values referenced:
        instructions = &transaction.message().instructions
        instruction_index = ed25519_signature_instruction_index != u16::MAX ? ed25519_signature_instruction_index : current_instruction;
        signature = instructions[instruction_index].data[ed25519_signature_offset..ed25519_signature_offset + 64]
        instruction_index = ed25519_pubkey_instruction_index != u16::MAX ? ed25519_pubkey_instruction_index : current_instruction;
        pubkey = instructions[instruction_index].data[ed25519_pubkey_offset..ed25519_pubkey_offset + 32]
        instruction_index = ed25519_message_instruction_index != u16::MAX ? ed25519_message_instruction_index : current_instruction;
        message = instructions[instruction_index].data[ed25519_message_data_offset..ed25519_message_data_offset + ed25519_message_data_size]
        if pubkey.verify(signature, message) != Success {
            return Error
        }
    }
    return Success
}
```

#### Επαλήθευση ανάκτησης secp256k1

Το πρόγραμμα secp256k1 χρησιμοποιείται για την επαλήθευση λειτουργιών ανάκτησης
δημόσιου κλειδιού secp256k1.

| Πρόγραμμα           | Αναγνωριστικό προγράμματος                    | Περιγραφή                                                                 | Οδηγίες                                                                                        |
| ------------------- | --------------------------------------------- | ------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------- |
| Πρόγραμμα Secp256k1 | `KeccakSecp256k11111111111111111111111111111` | Επαληθεύει λειτουργίες ανάκτησης δημόσιου κλειδιού secp256k1 (ecrecover). | [Οδηγίες](https://docs.rs/solana-secp256k1-program/latest/solana_secp256k1_program/index.html) |

Το πρόγραμμα secp256k1 επεξεργάζεται μια εντολή. Το πρώτο byte της εντολής
περιέχει έναν αριθμό των δημόσιων κλειδιών που πρέπει να ελεγχθούν. Μετά από
αυτό, η ακόλουθη δομή δημιουργείται μία φορά για κάθε δημόσιο κλειδί, στη
συνέχεια σειριοποιείται και προστίθεται στα δεδομένα εντολής.

```rs title="Secp256k1SignatureOffsets"
struct Secp256k1SignatureOffsets {
    secp_signature_offset: u16,            // offset to [signature,recovery_id] of 64+1 bytes
    secp_signature_instruction_index: u8,  // instruction index to find signature
    secp_pubkey_offset: u16,               // offset to ethereum_address pubkey of 20 bytes
    secp_pubkey_instruction_index: u8,     // instruction index to find pubkey
    secp_message_data_offset: u16,         // offset to start of message data
    secp_message_data_size: u16,           // size of message data
    secp_message_instruction_index: u8,    // instruction index to find message data
}
```

```txt title="Recovery verification pseudocode"
process_instruction() {
  for i in 0..count {
      // i'th index values referenced:
      instructions = &transaction.message().instructions
      signature = instructions[secp_signature_instruction_index].data[secp_signature_offset..secp_signature_offset + 64]
      recovery_id = instructions[secp_signature_instruction_index].data[secp_signature_offset + 64]
      ref_eth_pubkey = instructions[secp_pubkey_instruction_index].data[secp_pubkey_offset..secp_pubkey_offset + 20]
      message_hash = keccak256(instructions[secp_message_instruction_index].data[secp_message_data_offset..secp_message_data_offset + secp_message_data_size])
      pubkey = ecrecover(signature, recovery_id, message_hash)
      eth_pubkey = keccak256(pubkey[1..])[12..]
      if eth_pubkey != ref_eth_pubkey {
          return Error
      }
  }
  return Success
}
```

Αυτό επιτρέπει στον χρήστη να καθορίσει οποιαδήποτε δεδομένα εντολής στη
συναλλαγή για δεδομένα υπογραφής και μηνύματος. Καθορίζοντας μια ειδική
μεταβλητή συστήματος εντολών, μπορεί κανείς επίσης να λάβει δεδομένα από την
ίδια τη συναλλαγή.

Το κόστος της συναλλαγής θα υπολογίσει τον αριθμό των υπογραφών προς επαλήθευση
πολλαπλασιασμένο με τον πολλαπλασιαστή κόστους επαλήθευσης υπογραφής.

Το πρόγραμμα secp256r1 χρησιμοποιείται για την επαλήθευση έως και 8 υπογραφών
secp256r1.

| Πρόγραμμα           | Αναγνωριστικό προγράμματος                    | Περιγραφή                                                                                                                         | Οδηγίες                                                                                      |
| ------------------- | --------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| Πρόγραμμα Secp256r1 | `Secp256r1SigVerify1111111111111111111111111` | Επαληθεύει έως και 8 υπογραφές secp256r1. Λαμβάνει μια υπογραφή, δημόσιο κλειδί και μήνυμα. Επιστρέφει σφάλμα αν κάποια αποτύχει. | [Οδηγίες](https://docs.rs/solana-secp256r1-program/latest/solana_secp256r1_program/all.html) |

Το πρόγραμμα secp256r1 επεξεργάζεται μια εντολή. Το πρώτο `u8` της εντολής είναι
ένας αριθμός των υπογραφών που πρέπει να ελεγχθούν, ακολουθούμενος από ένα μονό
byte γεμίσματος. Μετά από αυτό, η ακόλουθη δομή δημιουργείται για κάθε υπογραφή,
στη συνέχεια σειριοποιείται και προστίθεται στα δεδομένα εντολής.

```rs title="Secp256r1SignatureOffsets"
struct Secp256r1SignatureOffsets {
    signature_offset: u16,             // offset to compact secp256r1 signature of 64 bytes
    signature_instruction_index: u16,  // instruction index to find signature
    public_key_offset: u16,            // offset to compressed public key of 33 bytes
    public_key_instruction_index: u16, // instruction index to find public key
    message_data_offset: u16,          // offset to start of message data
    message_data_size: u16,            // size of message data
    message_instruction_index: u16,    // index of instruction data to get message data
}

```

<Callout>
  Οι χαμηλές τιμές S επιβάλλονται για όλες τις υπογραφές για την αποφυγή τυχαίας
  πλαστότητας υπογραφής.
</Callout>

```txt title="Signature verification psuedocode"
process_instruction() {
    if data.len() < SIGNATURE_OFFSETS_START {
        return Error
    }

    num_signatures = data[0] as usize
    if num_signatures == 0 || num_signatures > 8 {
        return Error
    }

    expected_data_size = num_signatures * SIGNATURE_OFFSETS_SERIALIZED_SIZE + SIGNATURE_OFFSETS_START
    if data.len() < expected_data_size {
        return Error
    }

    for i in 0..num_signatures {
        offsets = parse_signature_offsets(data, i)

        signature = get_data_slice(data, instruction_datas, offsets.signature_instruction_index, offsets.signature_offset, SIGNATURE_SERIALIZED_SIZE)

        if s > half_curve_order {
            return Error
        }

        pubkey = get_data_slice(data, instruction_datas, offsets.public_key_instruction_index, offsets.public_key_offset, COMPRESSED_PUBKEY_SERIALIZED_SIZE)

        message = get_data_slice(data, instruction_datas, offsets.message_instruction_index, offsets.message_data_offset, offsets.message_data_size)

        if !verify_signature(signature, pubkey, message) {
            return Error
        }
    }

    return Success
}
```

### Βασικά προγράμματα

Τα προγράμματα στην παρακάτω λίστα παρέχουν τη βασική λειτουργικότητα του
δικτύου.

| Πρόγραμμα                          | Αναγνωριστικό προγράμματος                    | Περιγραφή                                                                                                                                                                                                                                                                                                                                                                                                     | Οδηγίες                                                                                                                                               |
| ---------------------------------- | --------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Σύστημα**                        | `11111111111111111111111111111111`            | Δημιουργία νέων λογαριασμών, κατανομή δεδομένων λογαριασμού, ανάθεση λογαριασμών σε προγράμματα ιδιοκτησίας, μεταφορά lamports από λογαριασμούς που ανήκουν στο Πρόγραμμα Συστήματος και πληρωμή τελών συναλλαγών                                                                                                                                                                                             | [SystemInstruction](https://docs.rs/solana-program/latest/solana_program/system_instruction/enum.SystemInstruction.html)                              |
| **Ψηφοφορία**                      | `Vote111111111111111111111111111111111111111` | Δημιουργία και διαχείριση λογαριασμών που παρακολουθούν την κατάσταση ψηφοφορίας και τις ανταμοιβές των validator                                                                                                                                                                                                                                                                                             | [VoteInstruction](https://docs.rs/solana-vote-program/latest/solana_vote_program/vote_instruction/enum.VoteInstruction.html)                          |
| **Stake**                          | `Stake11111111111111111111111111111111111111` | Δημιουργία και διαχείριση λογαριασμών που αντιπροσωπεύουν stake και ανταμοιβές για αναθέσεις σε validator                                                                                                                                                                                                                                                                                                     | [StakeInstruction](https://docs.rs/solana-sdk/latest/solana_sdk/stake/instruction/enum.StakeInstruction.html)                                         |
| **Διαμόρφωση**                     | `Config1111111111111111111111111111111111111` | Προσθήκη δεδομένων διαμόρφωσης στην αλυσίδα, ακολουθούμενη από τη λίστα των δημόσιων κλειδιών που επιτρέπεται να την τροποποιήσουν. Σε αντίθεση με τα άλλα προγράμματα, το πρόγραμμα Διαμόρφωσης δεν ορίζει μεμονωμένες εντολές. Έχει μόνο μία σιωπηρή εντολή: "store". Τα δεδομένα εντολής του είναι ένα σύνολο κλειδιών που ελέγχουν την πρόσβαση στο λογαριασμό και τα δεδομένα που αποθηκεύονται σε αυτόν | [ConfigInstruction](https://docs.rs/solana-config-program/latest/solana_config_program/config_instruction/index.html)                                 |
| **Προϋπολογισμός Υπολογισμού**     | `ComputeBudget111111111111111111111111111111` | Ορισμός ορίων μονάδων υπολογισμού και τιμών για συναλλαγές, επιτρέποντας στους χρήστες να ελέγχουν τους υπολογιστικούς πόρους και τα τέλη προτεραιότητας                                                                                                                                                                                                                                                      | [ComputeBudgetInstruction](https://docs.rs/solana-compute-budget-interface/latest/solana_compute_budget_interface/enum.ComputeBudgetInstruction.html) |
| **Πίνακας Αναζήτησης Διευθύνσεων** | `AddressLookupTab1e1111111111111111111111111` | Διαχείριση πινάκων αναζήτησης διευθύνσεων, που επιτρέπουν στις συναλλαγές να αναφέρονται σε περισσότερους λογαριασμούς από όσους θα χωρούσαν διαφορετικά στη λίστα λογαριασμών της συναλλαγής                                                                                                                                                                                                                 | [ProgramInstruction](https://docs.rs/solana-sdk/latest/solana_sdk/address_lookup_table/instruction/enum.ProgramInstruction.html)                      |
| **Απόδειξη ZK ElGamal**            | `ZkE1Gama1Proof11111111111111111111111111111` | Παρέχει επαλήθευση απόδειξης μηδενικής γνώσης για κρυπτογραφημένα δεδομένα ElGamal                                                                                                                                                                                                                                                                                                                            | —                                                                                                                                                     |

---
title: Thanh toán tự động
description:
  Cho phép các AI agent tự động thanh toán cho dịch vụ, API và tài nguyên bằng
  giao thức x402.
---

Các AI agent ngày càng tự chủ hơn trong quy trình làm việc: viết code, lấy dữ
liệu, cung cấp tài nguyên và nhiều hơn nữa. Để hoạt động hoàn toàn độc lập,
chúng cần một cách thực hiện "micropayment" cho các dịch vụ theo chương trình,
theo thời gian thực, với chi phí tối thiểu. Các hệ thống thanh toán truyền thống
không phù hợp cho micropayment. Phí dưới một xu và tính cuối cùng dưới một giây
của Solana khiến điều này khả thi về mặt kỹ thuật và kinh tế.

## Tại sao điều này quan trọng?

Ví dụ, hãy tưởng tượng một developer đang sử dụng LLM để xây dựng ứng dụng cần
dữ liệu từ một API trả phí. Để lấy một số dữ liệu quan trọng, developer sẽ cần
dừng quy trình làm việc của mình, tìm hiểu các API, chọn nhà cung cấp, tạo tài
khoản, thêm phương thức thanh toán, tạo API key, sao chép key vào môi trường của
họ, và sau đó tiếp tục quy trình làm việc. Sự cản trở này phá vỡ trạng thái tập
trung. Đối với quy trình làm việc hỗ trợ bởi AI, đây là một rào cản.

Thay vào đó, với thanh toán tự động, agent có thể thực hiện yêu cầu, thanh toán
cho nó và tiếp tục quy trình làm việc. Không cần tài khoản. Không cần API key.
Không cần can thiệp thủ công.

## Giao thức x402

Thanh toán tự động cần một cách để client và server thương lượng điều khoản
thanh toán trên cơ sở hạ tầng web tiêu chuẩn mà không làm gián đoạn giao diện
web truyền thống. Lĩnh vực micropayment vẫn còn sơ khai và các công cụ cũng như
tiêu chuẩn mới có thể sẽ xuất hiện khi lĩnh vực này phát triển. Tuy nhiên,
[giao thức x402](https://www.x402.org/) đã nổi lên như một tiêu chuẩn ban đầu
với sự hỗ trợ mạnh mẽ từ hệ sinh thái. x402 sử dụng
[mã trạng thái 402 "Payment Required" của HTTP](https://developer.mozilla.org/en-US/docs/Web/HTTP/Reference/Status/402)
—một tiêu chuẩn từ HTTP/1.1 mà chỉ trở nên khả thi với việc thanh toán bằng
blockchain.

### Cách hoạt động

Client thực hiện yêu cầu, nhận phản hồi 402 với điều khoản thanh toán, sau đó
thử lại với thanh toán đã ký. Server ủy quyền xác minh và thanh toán cho
facilitator, một bên trung gian tùy chọn xử lý việc gửi giao dịch on-chain. Khi
facilitator xác nhận thanh toán, server trả về nội dung được yêu cầu. Sự tách
biệt này cho phép các nhà cung cấp API chấp nhận thanh toán mà không cần quản lý
trực tiếp bất kỳ cơ sở hạ tầng on-chain nào.

![Sơ đồ luồng x402](/assets/guides/x402/x402-flow-solana.png)

Giao thức này không trạng thái (không có session hoặc API key), hoạt động với cơ
sở hạ tầng HTTP tiêu chuẩn và hỗ trợ bất kỳ SPL token nào mà server chấp nhận.
Dưới đây là đoạn code mẫu về cách thiết lập Express server sử dụng x402
middleware:

```ts
app.use(
  paymentMiddleware(
    {
      "GET /costly-data": {
        accepts: [
          {
            scheme: "exact",
            price: "$0.001",
            network: "solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",
            payTo: svmAddress
          }
        ],
        description: "Costly data",
        mimeType: "application/json"
      }
    },
    new x402ResourceServer(facilitatorClient).register(
      "solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",
      new ExactSvmScheme()
    )
  )
);

app.get("/costly-data", (req, res) => {
  res.send({
    report: {
      data: "costly data"
    }
  });
});
```

Để tìm hiểu thêm về x402, hãy xem các hướng dẫn của chúng tôi:

<Cards>
  <Card
    title="Giới thiệu về x402"
    href="/developers/guides/getstarted/intro-to-x402"
    description="Các nguyên tắc cơ bản của giao thức và các tùy chọn SDK để xây dựng API hỗ trợ thanh toán."
  />
  <Card
    title="Xây dựng với Kora"
    href="/developers/guides/getstarted/build-a-x402-facilitator"
    description="Triển khai thanh toán x402 không gas sử dụng cơ sở hạ tầng ký của Kora."
  />
</Cards>

### Công cụ x402

| SDK                                                             | Mô tả                                  |
| --------------------------------------------------------------- | -------------------------------------- |
| [Corbits](https://corbits.dev/)                                 | Triển khai x402 ưu tiên Solana         |
| [MCPay.tech](https://mcpay.tech/)                               | Thanh toán theo yêu cầu cho MCP server |
| [PayAI](https://payai.network/)                                 | x402 facilitator với hỗ trợ Solana     |
| [x402 GitHub](https://github.com/coinbase/x402)                 | Triển khai tham khảo                   |
| [ACK](https://github.com/agentcommercekit/ack)                  | Agent Commerce Kit                     |
| [A2A x402](https://github.com/google-agentic-commerce/a2a-x402) | Thanh toán agent-to-agent của Google   |

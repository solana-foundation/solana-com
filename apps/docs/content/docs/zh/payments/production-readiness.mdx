---
title: ç”Ÿäº§ç¯å¢ƒå‡†å¤‡
description: ä» devnet æµ‹è¯•åˆ°ä¸»ç½‘éƒ¨ç½²
---

åœ¨æœ¬åœ°æ„å»ºå¹¶åœ¨ devnet ä¸Šæµ‹è¯•æ˜¯å¼€å§‹ä½¿ç”¨ Solana æ”¯ä»˜çš„å¥½æ–¹æ³•ã€‚ç„¶è€Œï¼Œå½“ä½ å‡†å¤‡éƒ¨ç½²åˆ°ä¸»ç½‘æ—¶ï¼Œéœ€è¦æ³¨æ„ä¸»ç½‘çš„ä¸€äº›ç»†èŠ‚ã€‚devnet å¯ä»¥å®¹å¿é”™è¯¯ï¼Œè€Œä¸»ç½‘åˆ™ä¸è¡Œã€‚æœ¬æŒ‡å—å°†ä»‹ç»å…³é”®å·®å¼‚ï¼Œå¸®åŠ©ä½ çš„ç”¨æˆ·è·å¾—æµç•…çš„ä½“éªŒã€‚

| Devnet                     | Mainnet                                                                                 |
| -------------------------- | --------------------------------------------------------------------------------------- |
| å¯ä»¥é€šè¿‡æ°´é¾™å¤´å…è´¹è·å– SOL | [è·å–çœŸå® SOL](https://solana.com/ecosystem/explore?categories=exchange) ç”¨äºæ”¯ä»˜æ‰‹ç»­è´¹ |
| åŒºå—ç©ºé—´ç«äº‰å°             | ä¼˜å…ˆè´¹å¾ˆé‡è¦                                                                            |
| äº¤æ˜“å®¹æ˜“ç¡®è®¤               | äº¤æ˜“é…ç½®è‡³å…³é‡è¦                                                                        |
| å…¬å…± RPC å¯ç”¨              | ç”Ÿäº§ç¯å¢ƒéœ€ä½¿ç”¨ä¸“ç”¨ RPC                                                                  |
| Devnet å¯†é’¥å¯¹å’Œä»£å¸é“¸é€     | ä¸»ç½‘éœ€ä½¿ç”¨ä¸åŒçš„å¯†é’¥å’Œä»£å¸é“¸é€ â€”â€”è¯·æ›´æ–°ä½ çš„é…ç½®                                          |

## RPC åŸºç¡€è®¾æ–½

[å…¬å…±ç«¯ç‚¹](https://solana.com/docs/references/clusters#solana-public-rpc-endpoints)
ï¼ˆ`api.mainnet-beta.solana.com`ï¼‰æœ‰é€Ÿç‡é™åˆ¶ä¸”æ—  SLAã€‚å®ƒä»¬é€‚åˆå¼€å‘ï¼Œä½†åœ¨ç”Ÿäº§æ”¯ä»˜æµç¨‹ä¸­ä¼šå¤±è´¥â€”â€”å°±åƒè¯•å›¾é€šè¿‡æ²¡æœ‰å¯ç”¨æ€§ä¿éšœçš„å…±äº« API è¿è¡Œæ”¯ä»˜å¤„ç†å™¨ä¸€æ ·ã€‚

<Callout type="caution" title="åˆ‡å‹¿åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨å…¬å…± RPC">
  è¯·ä½¿ç”¨ [ä¸“ç”¨ RPC æœåŠ¡å•†](https://solana.com/rpc) ä»¥è·å¾—å¯é ã€ä½å»¶è¿Ÿçš„è®¿é—®ã€‚
</Callout>

é€‰æ‹© RPC æœåŠ¡å•†æ—¶ï¼Œè¯·å…³æ³¨ï¼š

- **å¯é æ€§**ï¼šå…·å¤‡é«˜å¯ç”¨æ€§ SLAï¼ˆ99.9% åŠä»¥ä¸Šï¼‰
- **å»¶è¿Ÿ**ï¼šé è¿‘ç”¨æˆ·çš„åœ°ç†ä½ç½®
- **åŠŸèƒ½**ï¼šäº¤æ˜“è½åœ°ã€ç´¢å¼•ã€ä¼˜å…ˆè´¹ API ç­‰åŠŸèƒ½

å®Œæ•´çš„ RPC æœåŠ¡å•†åˆ—è¡¨è¯·å‚è§ [RPC åŸºç¡€è®¾æ–½æœåŠ¡å•†](https://solana.com/rpc) æŒ‡å—ã€‚

### å†—ä½™ RPC é…ç½®

å’Œå…¶ä»–ç½‘ç»œæœåŠ¡å•†ä¸€æ ·ï¼ŒRPC æœåŠ¡å•†ä¹Ÿå¯èƒ½å‡ºç°å®•æœºæˆ–æ€§èƒ½ä¸‹é™ã€‚ä¸ºäº†ç¡®ä¿ä½ çš„åº”ç”¨å…·å¤‡å¼¹æ€§ï¼Œå»ºè®®é…ç½®å¤šä¸ª RPC æœåŠ¡å•†ã€‚

[Solana Kit](https://github.com/anza-xyz/kit/tree/main/packages/rpc-transport-http)
æä¾›äº†ä¸€ä¸ªç”¨äºè‡ªå®šä¹‰ RPC ä¼ è¾“çš„åº“ï¼Œå¯ä»¥è®©ä½ æ„å»ºè‡ªå·±çš„å†—ä½™ RPC å®¢æˆ·ç«¯ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨è¯¥åº“æ„å»ºå†—ä½™ RPC å®¢æˆ·ç«¯çš„ç¤ºä¾‹ï¼š

```ts
import { RpcTransport } from "@solana/rpc-spec";
import { RpcResponse } from "@solana/rpc-spec-types";
import { createHttpTransport } from "@solana/rpc-transport-http";

// Create a transport for each RPC server
const transports = [
  createHttpTransport({ url: "https://mainnet-beta.my-server-1.com" }),
  createHttpTransport({ url: "https://mainnet-beta.my-server-2.com" }),
  createHttpTransport({ url: "https://mainnet-beta.my-server-3.com" })
];

// Create a wrapper transport that distributes requests to them
let nextTransport = 0;
async function roundRobinTransport<TResponse>(
  ...args: Parameters<RpcTransport>
): Promise<RpcResponse<TResponse>> {
  const transport = transports[nextTransport];
  nextTransport = (nextTransport + 1) % transports.length;
  return await transport(...args);
}
```

å¦‚æœä½ ä¸æƒ³è‡ªå·±æ„å»ºè·¯ç”±å·¥å…·ï¼Œå¯ä»¥åˆ©ç”¨ç¬¬ä¸‰æ–¹æœåŠ¡ï¼Œä¾‹å¦‚
[Iron Forge](https://www.ironforge.sanctum.so/)ï¼Œæ¥ä¸ºä½ å¤„ç†è·¯ç”±ã€‚

## äº¤æ˜“è½åœ°

åœ¨ Devnet ä¸Šï¼Œäº¤æ˜“é€šå¸¸å¯ä»¥è¾ƒå®¹æ˜“åœ°è½åœ°ã€‚è€Œåœ¨ Mainnet ä¸Šï¼Œä½ éœ€è¦ä¸ä»–äººç«äº‰åŒºå—ç©ºé—´ã€‚ä¸ºäº†æé«˜ä½ çš„äº¤æ˜“è¢«åŒ…å«è¿›åŒºå—çš„æ¦‚ç‡ï¼Œä½ åº”ç¡®ä¿æ­£ç¡®ç»„è£…äº¤æ˜“ï¼ŒåŒ…æ‹¬ï¼š

- åœ¨å‘é€äº¤æ˜“å‰åŒ…å«ä¸€ä¸ªæ–°çš„ blockhash
- åœ¨äº¤æ˜“ä¸­åŠ å…¥å¸¦æœ‰æœ‰ç«äº‰åŠ›ä¼˜å…ˆè´¹ç”¨çš„ä¼˜å…ˆè´¹ç”¨æŒ‡ä»¤
- åœ¨äº¤æ˜“ä¸­åŠ å…¥åŸºäºé¢„ä¼°è®¡ç®—å•å…ƒéœ€æ±‚çš„è®¡ç®—å•å…ƒé™åˆ¶æŒ‡ä»¤

æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥è€ƒè™‘ä½¿ç”¨ Jito
Bundles ç­‰å…¶ä»–å·¥å…·ï¼Œä»¥è¿›ä¸€æ­¥æå‡äº¤æ˜“è¢«åŒ…å«è¿›åŒºå—çš„æ¦‚ç‡ã€‚æˆ‘ä»¬æ¥ä¸‹æ¥å°†æ›´è¯¦ç»†åœ°ä»‹ç»è¿™äº›å·¥å…·ã€‚

### äº¤æ˜“å‘é€é…ç½®

åœ¨ Mainnet ä¸Šå‘é€äº¤æ˜“æ—¶ï¼Œé…ç½®ä»¥ä¸‹å‚æ•°ä»¥è·å¾—æœ€ä½³è½åœ°ç‡ï¼š

**Blockhash ç®¡ç†ï¼š**

- ä½¿ç”¨ `confirmed` commitment è·å–
- å­˜å‚¨ `lastValidBlockHeight`ï¼Œè¯¥å€¼ç”± `getLatestBlockhash`
  è¿”å›â€”â€”å®ƒä¼šå‘Šè¯‰ä½ äº¤æ˜“ä½•æ—¶è¿‡æœŸ
- blockhash å¤§çº¦åœ¨ 150 ä¸ªåŒºå—åï¼ˆçº¦ 60-90 ç§’ï¼‰è¿‡æœŸ

**å‘é€é€‰é¡¹ï¼š**

- `maxRetries: 0`
  â€” ç¦ç”¨è‡ªåŠ¨ RPC é‡è¯•ã€‚è¯·è‡ªè¡Œå¤„ç†é‡è¯•ï¼Œä»¥ä¾¿åœ¨éœ€è¦æ—¶åˆ·æ–° blockhashã€‚
- `skipPreflight: true`
  â€” å‘é€å‰è·³è¿‡æ¨¡æ‹Ÿã€‚å½“ä½ å·²éªŒè¯äº¤æ˜“å¹¶å¸Œæœ›è·å¾—æœ€ä½å»¶è¿Ÿæ—¶ä½¿ç”¨ã€‚åœ¨å¼€å‘é˜¶æ®µï¼Œä¿æŒ
  `false` ä»¥ä¾¿åŠæ—©å‘ç°é”™è¯¯ã€‚

```typescript
import { createSolanaRpc } from "@solana/kit";

const rpc = createSolanaRpc(process.env.RPC_URL!);

// 1. Get blockhash with confirmed commitment
const { value: latestBlockhash } = await rpc
  .getLatestBlockhash({ commitment: "confirmed" })
  .send();

// 2. Build and sign your transaction with the blockhash
// ... (transaction building code)

// 3. Send with production settings
const signature = await rpc
  .sendTransaction(encodedTransaction, {
    encoding: "base64",
    maxRetries: 0n, // Handle retries yourself
    skipPreflight: true, // Skip simulation for speed (use false during dev)
    preflightCommitment: "confirmed"
  })
  .send();

// 4. Track expiration using lastValidBlockHeight
const { lastValidBlockHeight } = latestBlockhash;
// Stop retrying when current block height exceeds lastValidBlockHeight
```

### ä½¿ç”¨ä¼˜å…ˆè´¹ç”¨

æ¯ç¬” Solana äº¤æ˜“éƒ½éœ€è¦æ”¯ä»˜äº¤æ˜“æ‰‹ç»­è´¹ï¼Œè´¹ç”¨ä»¥ SOL ç»“ç®—ã€‚äº¤æ˜“æ‰‹ç»­è´¹åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šåŸºç¡€è´¹ç”¨å’Œä¼˜å…ˆè´¹ç”¨ã€‚åŸºç¡€è´¹ç”¨ç”¨äºè¡¥å¿éªŒè¯è€…å¤„ç†äº¤æ˜“ã€‚ä¼˜å…ˆè´¹ç”¨æ˜¯å¯é€‰çš„ï¼Œæ”¯ä»˜åå¯ä»¥æé«˜å½“å‰ leader å¤„ç†ä½ äº¤æ˜“çš„æ¦‚ç‡ã€‚ä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸ºâ€œåŠ æ€¥å¿«é€’â€ï¼šæ”¯ä»˜æ›´å¤šè´¹ç”¨ï¼Œè·å¾—æ›´å¿«ã€æ›´å¯é çš„å¤„ç†ã€‚

**è´¹ç”¨è¿ä½œæ–¹å¼ï¼š**

```
Total fee = Base fee (5,000 lamports per signature) + Priority fee
Priority fee = Compute units x Price per unit (micro-lamports per compute unit)
```

**å®é™…è´¹ç”¨ç¤ºä¾‹ï¼š**

- ç®€å•çš„ USDC è½¬è´¦ï¼šæ­£å¸¸æƒ…å†µä¸‹çº¦ $0.001-0.005
- æ‹¥å µæ—¶ï¼šçº¦ $0.01-0.05
- é«˜å³°æ‹¥å µï¼šå¯èƒ½æ›´é«˜

**ç¤ºä¾‹å®ç°ï¼š**

[`@solana-program/compute-budget`](https://github.com/solana-program/compute-budget)
åŒ…æä¾›äº†ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œå¯ä»¥è½»æ¾åœ°ä¸ºäº¤æ˜“æ›´æ–°æˆ–æ·»åŠ è®¡ç®—å•å…ƒä»·æ ¼ï¼ˆä»¥å¾® lamports è®¡ï¼‰çš„æŒ‡ä»¤ã€‚

```typescript
import { updateOrAppendSetComputeUnitPriceInstruction } from "@solana-program/compute-budget";

const tx = pipe(
  createTransactionMessage({ version: 0 }),
  (m) => setTransactionMessageFeePayerSigner(payer, m),
  (m) => setTransactionMessageLifetimeUsingBlockhash(latestBlockhash, m),
  (m) => appendTransactionMessageInstructions([myInstructions], m),
  (m) => updateOrAppendSetComputeUnitPriceInstruction(1000n as MicroLamports, m)
);
```

**è·å–è´¹ç”¨ä¼°ç®—ï¼š** å¤§å¤šæ•° RPC æœåŠ¡å•†éƒ½æä¾›ä¼˜å…ˆè´¹ç”¨ APIï¼š

- [Helius Priority Fee API](https://docs.helius.dev/solana-apis/priority-fee-api)
- [QuickNode Priority Fee Add-on](https://marketplace.quicknode.com/add-on/solana-priority-fee)
- [Triton Priority Fees API](https://docs.triton.one/chains/solana/improved-priority-fees-api)

å®Œæ•´çš„è´¹ç”¨æœºåˆ¶è¯·å‚è§ [Transaction Fees](/docs/core/fees)
ä»¥åŠæˆ‘ä»¬çš„æŒ‡å—ï¼š[å¦‚ä½•ä¸ºäº¤æ˜“æ·»åŠ ä¼˜å…ˆè´¹ç”¨](https://solana.com/developers/cookbook/transactions/add-priority-fees)ã€‚

### ä¼˜åŒ–è®¡ç®—å•å…ƒ

åœ¨ Solana ä¸Šï¼Œè®¡ç®—é‡å®é™…ä¸Šè¡¡é‡çš„æ˜¯ç¨‹åºæ‰§è¡Œçš„å·¥ä½œé‡ã€‚æ¯ç¬”äº¤æ˜“éƒ½æœ‰è®¡ç®—å•å…ƒçš„ä¸Šé™ï¼ˆç›®å‰ä¸º 140 ä¸‡è®¡ç®—å•å…ƒï¼‰ï¼Œæ¯ä¸ªè´¦æˆ·æ¯ä¸ªåŒºå—ä¹Ÿæœ‰è®¡ç®—å•å…ƒçš„ä¸Šé™ï¼ˆç›®å‰ä¸º 1 äº¿è®¡ç®—å•å…ƒï¼‰ã€‚

æäº¤äº¤æ˜“æ—¶ï¼Œä½ éœ€è¦é¢„ä¼°å°†ä¼šç”¨åˆ°çš„è®¡ç®—å•å…ƒæ•°é‡ï¼Œå¹¶ç›¸åº”è®¾ç½®è®¡ç®—å•å…ƒä¸Šé™â€”â€”è¿™å®é™…ä¸Šæ˜¯è¯·æ±‚ä¸ºä½ çš„äº¤æ˜“é¢„ç•™å¤šå°‘æ€»å®¹é‡ã€‚å®é™…æ“ä½œä¸­ï¼Œå‡†ç¡®é¢„ä¼°äº¤æ˜“æ‰€éœ€çš„è®¡ç®—å•å…ƒå¯¹äºäº¤æ˜“èƒ½å¦è¢«æ‰“åŒ…è¿›åŒºå—è‡³å…³é‡è¦ï¼ˆåŒæ—¶ä¹Ÿå½±å“ä¼˜å…ˆè´¹ç”¨çš„ç®¡ç†ï¼‰ã€‚

Solana JSON RPC API æä¾›äº†ä¸€ä¸ª
[`simulatetransaction`](/docs/rpc/http/simulatetransaction)
æ–¹æ³•ï¼Œå¯ç”¨äºä¼°ç®—ä¸€ç¬”äº¤æ˜“æ‰€éœ€çš„è®¡ç®—å•å…ƒæ•°ï¼Œå…¶ä¸­åŒ…æ‹¬å¯¹å®é™…å°†è¦ä½¿ç”¨çš„è®¡ç®—å•å…ƒçš„é¢„ä¼°ã€‚[`@solana-program/compute-budget`](https://github.com/solana-program/compute-budget)
åŒ…æä¾›äº†ä¸€ä¸ªè¾…åŠ©å‡½æ•°ï¼Œå¯ä»¥æ–¹ä¾¿åœ°ä¼°ç®—ä¸€ç¬”äº¤æ˜“æ‰€éœ€çš„è®¡ç®—å•å…ƒæ•°ï¼ˆè¯¥å‡½æ•°åº•å±‚ä¼šè°ƒç”¨
`simulatetransaction` æ–¹æ³•ï¼‰ã€‚

```ts
import {
  estimateComputeUnitLimitFactory,
  updateOrAppendSetComputeUnitLimitInstruction
} from "@solana-program/compute-budget";

const estimateComputeUnitLimit = estimateComputeUnitLimitFactory({ rpc });
const computeUnitLimit = await estimateComputeUnitLimit(tx);
const txWithComputeUnitLimit = updateOrAppendSetComputeUnitLimitInstruction(
  computeUnitLimit,
  tx
);
```

åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå¦‚æœä½ éœ€è¦å¤šæ¬¡é‡å¤åŒç±»å‹çš„äº¤æ˜“ï¼Œå»ºè®®ç¼“å­˜è¯¥ç±»å‹äº¤æ˜“çš„è®¡ç®—å•å…ƒé¢„ä¼°å€¼ï¼Œä»¥é¿å…æ¯æ¬¡éƒ½é‡æ–°ä¼°ç®—å¸¦æ¥çš„é¢å¤–å¼€é”€ã€‚

### Jito Bundles

Jito
bundle æ˜¯ç”¨äºç®¡ç†å¤šç¬”äº¤æ˜“åŸå­æ€§æ‰§è¡Œçš„å·¥å…·ã€‚å…¶å®ç°æ–¹å¼æ˜¯å°†å¤šç¬”äº¤æ˜“ä¸ tip ä¸€èµ·å‘é€åˆ° Jito ç½‘ç»œã€‚tip å¯ç”¨äºæ¿€åŠ± Jito ç½‘ç»œå°†ä½ çš„äº¤æ˜“åŒ…å«è¿›åŒºå—ã€‚

**èµ„æºï¼š**

- [Jito æ–‡æ¡£](https://docs.jito.wtf/lowlatencytxnsend/)
- [ğŸ¥ è§†é¢‘ï¼šJito Bundles](https://www.youtube.com/watch?v=HZ1pK9i6zx4)
- [QuickNode å…³äº Jito bundle çš„æŒ‡å—](https://www.quicknode.com/guides/solana-development/transactions/jito-bundles)

### é‡è¯•ç­–ç•¥

äº¤æ˜“å¯èƒ½å› å¤šç§åŸå› å¤±è´¥ã€‚ä¸ä¼ ç»Ÿæ”¯ä»˜ API èƒ½ç«‹å³è¿”å›æˆåŠŸ/å¤±è´¥ä¸åŒï¼ŒåŒºå—é“¾äº¤æ˜“éœ€è¦è¿›è¡Œç¡®è®¤è¿½è¸ªã€‚

**å…³é”®æ¦‚å¿µï¼š**

- **åŒºå—å“ˆå¸Œè¿‡æœŸ**ï¼šäº¤æ˜“åœ¨çº¦ 150 ä¸ªåŒºå—ï¼ˆçº¦ 60-90 ç§’ï¼‰å†…æœ‰æ•ˆ
- **å¹‚ç­‰æ€§**ï¼šåŒä¸€ç¬”å·²ç­¾åäº¤æ˜“æ€»ä¼šäº§ç”Ÿç›¸åŒçš„ç­¾åâ€”â€”å¯å®‰å…¨é‡å¤æäº¤
- **æŒ‡æ•°é€€é¿**ï¼šé¿å…å› é¢‘ç¹é‡è¯•è€Œç»™ç½‘ç»œå¸¦æ¥å‹åŠ›

```typescript
import {
  createSolanaRpc,
  createSolanaRpcSubscriptions,
  sendAndConfirmTransactionFactory,
  isSolanaError,
  SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED
} from "@solana/kit";

const rpc = createSolanaRpc(process.env.RPC_URL!);
const rpcSubscriptions = createSolanaRpcSubscriptions(process.env.RPC_WSS_URL!);

const sendAndConfirmTransaction = sendAndConfirmTransactionFactory({
  rpc,
  rpcSubscriptions
});

// Send with automatic confirmation tracking and block height monitoring
try {
  await sendAndConfirmTransaction(signedTransaction, {
    commitment: "confirmed",
    // Optional: abort after 75 seconds
    abortSignal: AbortSignal.timeout(75_000)
  });
} catch (e) {
  if (isSolanaError(e, SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED)) {
    // Blockhash expiredâ€”rebuild transaction with fresh blockhash and retry
    rebuildAndRetryTransaction(); // implement your own logic for rebuilding and retrying the transaction
  }
  throw e;
}
```

æ¥è‡ª `@solana/kit` çš„ `sendAndConfirmTransactionFactory`
ä¼šè‡ªåŠ¨å¤„ç†ç¡®è®¤è½®è¯¢å’ŒåŒºå—é«˜åº¦è¿½è¸ªã€‚å½“äº¤æ˜“çš„åŒºå—å“ˆå¸Œè¿‡æœŸæ—¶ï¼Œå®ƒä¼šæŠ›å‡º
`SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED`ï¼Œæç¤ºä½ éœ€è¦ç”¨æ–°çš„åŒºå—å“ˆå¸Œé‡æ–°æ„å»ºäº¤æ˜“ã€‚

### å…¶ä»–èµ„æº

- [æŒ‡å—ï¼šäº¤æ˜“ç¡®è®¤ä¸è¿‡æœŸ](https://solana.com/developers/guides/advanced/confirmation)
- [Heliusï¼šå¦‚ä½•åœ¨ Solana ä¸Šè½åœ°äº¤æ˜“](https://www.helius.dev/blog/how-to-land-transactions-on-solana)
- [QuickNodeï¼šä¼˜åŒ– Solana äº¤æ˜“çš„ç­–ç•¥](https://www.quicknode.com/docs/solana/transactions)

## ç†è§£ç¡®è®¤çº§åˆ«

Solana æä¾›ä¸‰ç§ç¡®è®¤çº§åˆ«ã€‚ç”¨ä¼ ç»Ÿé‡‘èæœ¯è¯­æ¥è¯´ï¼š

| çº§åˆ«        | Solana å®šä¹‰          | ä¼ ç»Ÿç­‰ä»·ç‰© | ä½¿ç”¨åœºæ™¯         |
| ----------- | -------------------- | ---------- | ---------------- |
| `processed` | å·²åœ¨åŒºå—ä¸­ï¼Œå°šæœªæŠ•ç¥¨ | ç­‰å¾…æˆæƒ   | å®æ—¶ UI æ›´æ–°     |
| `confirmed` | è¶…çº§å¤šæ•°å·²æŠ•ç¥¨       | èµ„é‡‘å·²æ¸…ç®— | **å¤§å¤šæ•°æ”¯ä»˜**   |
| `finalized` | å·²æ ¹å®šã€ä¸å¯é€†       | èµ„é‡‘å·²ç»“ç®— | é«˜ä»·å€¼ã€åˆè§„åœºæ™¯ |

**å„çº§åˆ«çš„ä½¿ç”¨åœºæ™¯ï¼š**

- **UI æ›´æ–°**ï¼šæ˜¾ç¤º `processed`ï¼Œç”¨äºå³æ—¶åé¦ˆï¼ˆâ€œæ”¯ä»˜å·²æäº¤â€ï¼‰
- **ç”¨æˆ·è´¦æˆ·å…¥è´¦**ï¼šç­‰å¾… `confirmed`ï¼ˆé€‚ç”¨äºå¤§å¤šæ•°äº¤æ˜“ï¼‰
- **å‘è´§å®ç‰©å•†å“**ï¼šç­‰å¾… `finalized`
- **å¤§é¢æç°**ï¼šç­‰å¾… `finalized`
- **åˆè§„/å®¡è®¡**ï¼šå§‹ç»ˆè®°å½• `finalized` çŠ¶æ€

å¦‚éœ€äº†è§£æ›´å¤šäº¤æ˜“çŠ¶æ€æ£€æŸ¥æ–¹æ³•ï¼Œè¯·å‚é˜…
[ä¸ Solana äº¤äº’](/docs/payments/interacting-with-solana)ã€‚

## é”™è¯¯å¤„ç†

Solana Kit é€šè¿‡ `isSolanaError()`
æä¾›ç±»å‹åŒ–é”™è¯¯ã€‚è¯·ä½¿ç”¨å…·ä½“çš„é”™è¯¯ç è€Œä¸æ˜¯å­—ç¬¦ä¸²åŒ¹é…ï¼š

```typescript
import {
  isSolanaError,
  SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED,
  SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE,
  SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND,
  SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS
} from "@solana/kit";

function handlePaymentError(error: unknown): {
  message: string;
  retryable: boolean;
} {
  // Blockhash expiredâ€”rebuild and retry
  if (
    isSolanaError(error, SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED) ||
    isSolanaError(error, SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND)
  ) {
    return { message: "Transaction expiredâ€”rebuilding", retryable: true };
  }

  // Insufficient SOL for fees
  if (
    isSolanaError(
      error,
      SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE
    )
  ) {
    return { message: "Not enough SOL for fees", retryable: false };
  }

  // Insufficient token balance
  if (
    isSolanaError(error, SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS)
  ) {
    return { message: "Insufficient balance", retryable: false };
  }

  // Unknown error
  console.error("Payment error:", error);
  return { message: "Payment failedâ€”please retry", retryable: true };
}
```

**å¸¸è§é”™è¯¯ç ï¼š**

| é”™è¯¯ç                        | åŸå›                | æ¢å¤æ–¹æ³•                                                                                               |
| ---------------------------- | ------------------ | ------------------------------------------------------------------------------------------------------ |
| `BLOCK_HEIGHT_EXCEEDED`      | åŒºå—å“ˆå¸Œå·²è¿‡æœŸ     | ä½¿ç”¨æ–°çš„åŒºå—å“ˆå¸Œé‡æ–°æ„å»º                                                                               |
| `BLOCKHASH_NOT_FOUND`        | æœªæ‰¾åˆ°åŒºå—å“ˆå¸Œ     | ä½¿ç”¨æ–°çš„åŒºå—å“ˆå¸Œé‡æ–°æ„å»º                                                                               |
| `INSUFFICIENT_FUNDS_FOR_FEE` | SOL ä¸è¶³           | ä¸ºæ‰‹ç»­è´¹æ”¯ä»˜è€…å……å€¼æˆ–ä½¿ç”¨ [æ‰‹ç»­è´¹æŠ½è±¡](/docs/payments/send-payments/payment-processing/fee-abstraction) |
| `INSUFFICIENT_FUNDS`         | ä»£å¸ä¸è¶³           | ç”¨æˆ·éœ€è¦å¢åŠ ä½™é¢                                                                                       |
| `ACCOUNT_NOT_FOUND`          | ç¼ºå°‘ token account | åœ¨äº¤æ˜“ä¸­åˆ›å»º ATA                                                                                       |

## é›¶ Gas äº¤æ˜“

ç”¨æˆ·å¸Œæœ›ç”¨ç¨³å®šå¸æ”¯ä»˜ï¼Œè€Œä¸æ˜¯ä¸ºäº†ç½‘ç»œæ‰‹ç»­è´¹å»è·å– SOLã€‚é›¶ Gas äº¤æ˜“æ­£å¥½è§£å†³äº†è¿™ä¸ªé—®é¢˜â€”â€”å°±åƒ Venmo ç”¨æˆ·ä¸ä¼šå…³å¿ƒ ACH æ‰‹ç»­è´¹ä¸€æ ·ã€‚å®Œæ•´å®ç°æ–¹å¼è¯·å‚è§
[æ‰‹ç»­è´¹æŠ½è±¡](/docs/payments/send-payments/payment-processing/fee-abstraction)ã€‚

## å®‰å…¨æ€§

### å¯†é’¥ç®¡ç†

- **åˆ‡å‹¿åœ¨å‰ç«¯ä»£ç ä¸­æš´éœ²ç§é’¥ã€‚**
  è¯·ä½¿ç”¨åç«¯ç­¾åã€ç¡¬ä»¶é’±åŒ…ã€å¤šé‡ç­¾åé’±åŒ…æˆ–å¯†é’¥ç®¡ç†æœåŠ¡ã€‚
- **åŒºåˆ†çƒ­é’±åŒ…å’Œå†·é’±åŒ…ã€‚** çƒ­é’±åŒ…ç”¨äºæ—¥å¸¸æ“ä½œï¼Œå†·é’±åŒ…ç”¨äºèµ„é‡‘å‚¨å¤‡ã€‚
- **å¤‡ä»½æ‰€æœ‰ç”Ÿäº§ç¯å¢ƒå¯†é’¥ã€‚**
  å°†åŠ å¯†å¤‡ä»½å­˜å‚¨åœ¨å¤šä¸ªå®‰å…¨ä½ç½®ã€‚ä¸¢å¤±å¯†é’¥å°†å¯¼è‡´æ°¸ä¹…å¤±å»è®¿é—®æƒé™ã€‚
- **å¼€å‘ç½‘å’Œä¸»ç½‘è¯·ä½¿ç”¨ä¸åŒçš„å¯†é’¥ã€‚**
  å¼€å‘ç½‘å¯†é’¥ä¸åº”ä¸ä¸»ç½‘å¯†é’¥ç›¸åŒã€‚è¯·ä½¿ç”¨åŸºäºç¯å¢ƒçš„é…ç½®ï¼Œç¡®ä¿æ¯ä¸ªç½‘ç»œåŠ è½½æ­£ç¡®çš„å¯†é’¥ã€‚

### RPC å®‰å…¨

å°† RPC ç«¯ç‚¹è§†ä¸º API å¯†é’¥â€”â€”ä¸è¦åœ¨å‰ç«¯ä»£ç ä¸­æš´éœ²ï¼Œå¦åˆ™å®¹æ˜“è¢«æå–å’Œæ»¥ç”¨ã€‚è¯·ä½¿ç”¨åç«¯ä»£ç†æˆ–ä¸ä¼šè¢«æ‰“åŒ…è¿›å®¢æˆ·ç«¯ä»£ç çš„ç¯å¢ƒå˜é‡ã€‚

- [QuickNodeï¼šç«¯ç‚¹å®‰å…¨æœ€ä½³å®è·µ](https://www.quicknode.com/guides/quicknode-products/endpoint-security/endpoint-security-best-practices)
- [Heliusï¼šä¿æŠ¤æ‚¨çš„ Solana API å¯†é’¥ï¼šå®‰å…¨æœ€ä½³å®è·µ](https://www.helius.dev/docs/rpc/protect-your-keys)

### ç›‘æ§

åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¯·è·Ÿè¸ªä»¥ä¸‹æŒ‡æ ‡ï¼š

| æŒ‡æ ‡       | ä½œç”¨           |
| ---------- | -------------- |
| äº¤æ˜“æˆåŠŸç‡ | åŠæ—©å‘ç°é—®é¢˜   |
| ç¡®è®¤å»¶è¿Ÿ   | ç›‘æ§ç½‘ç»œå¥åº·   |
| ä¼˜å…ˆè´¹æ”¯å‡º | æˆæœ¬ç®¡ç†       |
| RPC é”™è¯¯ç‡ | æœåŠ¡å•†å¥åº·çŠ¶å†µ |

è¯·ä¸ºä»¥ä¸‹æƒ…å†µè®¾ç½®å‘Šè­¦ï¼š

- é‡‘åº“è½¬è´¦è¶…å‡ºé˜ˆå€¼
- äº¤æ˜“å¤±è´¥ç‡æ¿€å¢
- å¼‚å¸¸æ”¶æ¬¾æ–¹æ¨¡å¼
- RPC é”™è¯¯ç‡ä¸Šå‡

å¦‚éœ€å¤§è§„æ¨¡å®æ—¶äº¤æ˜“ç›‘æ§ï¼Œè¯·å‚è§æˆ‘ä»¬çš„
[ç´¢å¼•æŒ‡å—](/docs/payments/accept-payments/indexing)ã€‚

### éªŒè¯åœ°å€

æ¯ä¸ªä»£å¸å’Œç¨‹åºåœ¨ä¸»ç½‘ï¼ˆ mainnet ï¼‰ä¸Šéƒ½æœ‰ä¸”åªæœ‰ä¸€ä¸ªæ­£ç¡®çš„åœ°å€ã€‚ä¼ªé€ çš„ä»£å¸ï¼ˆå¦‚å†’å…… USDC æˆ–å…¶ä»–ç¨³å®šå¸ï¼‰å¾ˆå¸¸è§â€”â€”å®ƒä»¬å¯èƒ½æœ‰ç›¸åŒçš„åç§°å’Œç¬¦å·ï¼Œä½†é“¸é€ åœ°å€ï¼ˆ mint ï¼‰ä¸åŒã€‚ä½ çš„åº”ç”¨åº”å½“å°†é“¸é€ åœ°å€ç¡¬ç¼–ç æˆ–åŠ å…¥ç™½åå•ï¼ˆæ ¹æ®ä½ çš„éœ€æ±‚ï¼‰ï¼Œåˆ‡å‹¿ä»ä¸å—ä¿¡ä»»çš„æ¥æºåŠ¨æ€æ¥æ”¶ã€‚

**åŸºäºç¯å¢ƒçš„é…ç½®ï¼š**
Devnet å’Œ Mainnet é€šå¸¸ä½¿ç”¨å®Œå…¨ä¸åŒçš„ä»£å¸é“¸é€ åœ°å€ã€‚è¯·é…ç½®ä½ çš„åº”ç”¨ï¼Œä½¿å…¶èƒ½æ ¹æ®ä¸åŒç¯å¢ƒåŠ è½½æ­£ç¡®çš„åœ°å€â€”â€”ä¸è¦åªç¡¬ç¼–ç ä¸»ç½‘åœ°å€è€Œå¿˜è®°åœ¨æµ‹è¯•æ—¶åˆ‡æ¢ï¼Œæ›´ä¸è¦æŠŠ devnet åœ°å€éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚

ä¸€äº›å¸¸è§çš„ç¨³å®šå¸é“¸é€ åœ°å€æœ‰ï¼š

| ä»£å¸  | å‘è¡Œæ–¹ | é“¸é€ åœ°å€                                       |
| ----- | ------ | ---------------------------------------------- |
| USDC  | Circle | `EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v` |
| USDT  | Tether | `Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB` |
| PYUSD | PayPal | `2b1kV6DkPAnxd5ixfnxCpjxmKwqjjaYmCZfHsFu24GXo` |
| USDG  | Paxos  | `2u1tszSeqZ3qBWF3uNGPFc8TzMk2tdiwknnRMWGWjGWH` |

ç¨‹åºåœ°å€åŒæ ·é‡è¦ã€‚å‘é”™è¯¯çš„ç¨‹åºå‘é€æŒ‡ä»¤ä¼šå¯¼è‡´å¤±è´¥ï¼Œç”šè‡³å¯èƒ½é€ æˆèµ„é‡‘ä¸å¯é€†çš„æŸå¤±ã€‚Token
Program çš„åœ°å€å¦‚ä¸‹ï¼š

| ç¨‹åº               | åœ°å€                                          |
| ------------------ | --------------------------------------------- |
| Token Program      | `TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA` |
| Token-2022 Program | `TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb` |

## ä¸Šçº¿å‰æ£€æŸ¥æ¸…å•

- [ ] å·²è·å–ä¸»ç½‘ SOL ç”¨äºæ‰‹ç»­è´¹å’Œ rent
- [ ] å·²é…ç½®ç”Ÿäº§ç¯å¢ƒ RPCï¼ˆéå…¬å…±èŠ‚ç‚¹ï¼‰
- [ ] å·²é…ç½®å¤‡ç”¨ RPC èŠ‚ç‚¹
- [ ] å·²å®ç°åŠ¨æ€å®šä»·çš„ä¼˜å…ˆè´¹æœºåˆ¶
- [ ] é‡è¯•é€»è¾‘èƒ½å¤„ç†åŒºå—å“ˆå¸Œè¿‡æœŸ
- [ ] ç¡®è®¤çº§åˆ«ç¬¦åˆå®é™…éœ€æ±‚
- [ ] æ‰€æœ‰å¸¸è§é”™è¯¯å‡æœ‰ä¼˜é›…å¤„ç†
- [ ] å·²é…ç½® Gaslessï¼ˆå¦‚é€‚ç”¨ï¼‰
- [ ] å·²éªŒè¯ä¸»ç½‘ä»£å¸åœ°å€ï¼ˆé devnet é“¸é€ åœ°å€ï¼‰
- [ ] æ‰€æœ‰å¯†é’¥å·²å®‰å…¨å¤‡ä»½
- [ ] å·²å®¡æ ¸å¯†é’¥ç®¡ç†ï¼ˆå‰ç«¯æ— å¯†é’¥ï¼‰
- [ ] äº¤æ˜“ç›‘æ§ä¸å‘Šè­¦å·²å¯ç”¨
- [ ] å·²æŒ‰é¢„æœŸæµé‡å®Œæˆå‹åŠ›æµ‹è¯•

## éƒ¨ç½²ç¨‹åº

å¦‚æœä½ åœ¨æ”¯ä»˜åŸºç¡€è®¾æ–½ä¸­éƒ¨ç½²è‡ªå®šä¹‰ Solana ç¨‹åºï¼Œè¿˜éœ€è¦æ³¨æ„ä¸€äº›é¢å¤–äº‹é¡¹ã€‚

### éƒ¨ç½²å‰å‡†å¤‡

- **Solana CLI ç‰ˆæœ¬ï¼š** è¯·ç¡®ä¿ä½ ä½¿ç”¨çš„æ˜¯æœ€æ–°ç‰ˆæœ¬çš„
  [Solana CLI](https://solana.com/docs/intro/installation)ã€‚
- **Program keypairï¼š**
  ä½ çš„ç¨‹åºåœ¨ä¸»ç½‘å’Œ devnet ä¸Šçš„åœ°å€ä¼šä¸åŒï¼ˆé™¤éä½ å¤ç”¨åŒä¸€ä¸ª keypairï¼‰ã€‚è¯·åœ¨åº”ç”¨é…ç½®ä¸­æ›´æ–°æ‰€æœ‰ç›¸å…³å¼•ç”¨ï¼Œå¹¶å°† program
  keypair å®‰å…¨å­˜å‚¨ï¼ˆæ³¨æ„ï¼Œè¿è¡Œ `cargo clean` å¯èƒ½ä¼šåˆ é™¤ä½ çš„ program keypairï¼‰ã€‚
- **åˆå§‹åŒ–è´¦æˆ·ï¼š**
  å¦‚æœä½ çš„ç¨‹åºéœ€è¦ç®¡ç†å‘˜è´¦æˆ·ã€PDA æˆ–å…¶ä»–çŠ¶æ€è´¦æˆ·ï¼Œè¯·ç¡®ä¿è¿™äº›è´¦æˆ·å·²åœ¨ä¸»ç½‘ä¸Šåˆ›å»ºï¼Œç”¨æˆ·æ‰èƒ½æ­£å¸¸ä½¿ç”¨ä½ çš„åº”ç”¨ã€‚å¯¹äºç¨‹åºéœ€è¦çš„ä»»ä½•å…³è”ä»£å¸è´¦æˆ·ï¼ˆATAï¼‰ï¼ŒåŒæ ·éœ€è¦æå‰åˆ›å»ºã€‚

### éƒ¨ç½²æµç¨‹

- **Buffer è´¦æˆ·ï¼š** å¤§å‹ç¨‹åºé€šè¿‡ buffer è´¦æˆ·è¿›è¡Œéƒ¨ç½²ã€‚`solana program deploy`
  å‘½ä»¤ä¼šè‡ªåŠ¨å¤„ç†ï¼Œä½†è¯·æ³¨æ„éƒ¨ç½²è¿‡ç¨‹ä¸æ˜¯åŸå­çš„â€”â€”å¦‚æœä¸­æ–­ï¼Œå¯èƒ½éœ€è¦æ¢å¤æˆ–å…³é—­ buffer è´¦æˆ·ã€‚è¯¦è§
  [éƒ¨ç½²ç¨‹åº](https://solana.com/docs/programs/deploying)ã€‚
- **å‡çº§æƒé™ï¼š**
  è¯·å†³å®šä½ çš„ç¨‹åºä¸Šçº¿åæ˜¯å¦éœ€è¦å¯å‡çº§æ€§ã€‚è‹¥éœ€ä¸å¯å˜æ€§ï¼Œéƒ¨ç½²åè¯·æ’¤é”€å‡çº§æƒé™ã€‚è‹¥éœ€çµæ´»æ€§ï¼Œè¯·å¦¥å–„ä¿ç®¡å‡çº§æƒé™å¯†é’¥ã€‚
- **ç§Ÿé‡‘ï¼š**
  è¯·ç¡®ä¿ä½ çš„éƒ¨ç½²é’±åŒ…ä¸­æœ‰è¶³å¤Ÿçš„ SOL ä»¥æ»¡è¶³æ‰€æœ‰ç¨‹åºè´¦æˆ·çš„å…ç§Ÿé‡‘æœ€ä½è¦æ±‚ã€‚
- **éªŒè¯ï¼š** [éªŒè¯](https://solana.com/docs/programs/verified-builds)
  ä½ çš„ç¨‹åºï¼Œç¡®ä¿ä½ éƒ¨ç½²åˆ° Solana ç½‘ç»œçš„å¯æ‰§è¡Œç¨‹åºä¸ä»£ç ä»“åº“ä¸­çš„æºä»£ç ä¸€è‡´ã€‚

å®Œæ•´çš„ç¨‹åºéƒ¨ç½²æŒ‡å—è¯·å‚è§
[éƒ¨ç½²ç¨‹åº](https://solana.com/docs/programs/deploying)ã€‚

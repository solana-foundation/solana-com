---
title: Pulsante di pagamento
description: Componente React drop-in per i pagamenti Solana
---

<Callout type="caution">
  Il Commerce Kit è attualmente in beta. Le API potrebbero cambiare prima del
  rilascio stabile. Per ulteriori dettagli sul Commerce Kit, consulta la
  [documentazione del Commerce
  Kit](https://launch.solana.com/docs/commerce-kit).
</Callout>

Il componente `PaymentButton` del
[Commerce Kit](https://www.npmjs.com/package/@solana-commerce/kit) fornisce
un'interfaccia di pagamento completa, gestendo la connessione del wallet, la
selezione dei token, l'elaborazione delle transazioni e lo stato
dell'interfaccia utente in modo predefinito.

## Installazione

```bash
pnpm add @solana-commerce/kit
```

## Utilizzo base

```tsx
import { PaymentButton } from "@solana-commerce/kit";

function Checkout() {
  return (
    <PaymentButton
      config={{
        merchant: { name: "My Store", wallet: "your-wallet-address" },
        mode: "tip"
      }}
      onPaymentSuccess={(signature) => {
        console.log("Payment confirmed:", signature);
      }}
    />
  );
}
```

Dai un'occhiata al
[Commerce Kit Playground](https://launch.solana.com/products/commercekit/playground)
per configurare e testare il componente.

### Pulsante mancia

![Pulsante mancia](/assets/docs/payments/tip-button.png)

### Modale di pagamento

![Modale di pagamento](/assets/docs/payments/pay-modal.png)

### Modale codice QR Solana Pay

![Modale codice QR Solana Pay](/assets/docs/payments/scan-modal.png)

## Modalità di pagamento

L'opzione `mode` determina il comportamento del pulsante:

| Modalità | Descrizione                                           |
| -------- | ----------------------------------------------------- |
| `tip`    | L'utente sceglie il proprio importo (donazioni/mance) |

## Configurazione

### Configurazione richiesta

| Proprietà         | Tipo     | Descrizione                                          |
| ----------------- | -------- | ---------------------------------------------------- |
| `merchant.name`   | `string` | Nome dell'azienda mostrato durante il checkout       |
| `merchant.wallet` | `string` | Indirizzo del wallet Solana per ricevere i pagamenti |
| `mode`            | 'tip'`   | Tipo di flusso di pagamento                          |

### Configurazione opzionale

| Proprietà      | Tipo                    | Descrizione                                               |
| -------------- | ----------------------- | --------------------------------------------------------- |
| `network`      | `'mainnet' \| 'devnet'` | Rete Solana (predefinito: `'mainnet'`)                    |
| `rpcUrl`       | `string`                | Endpoint RPC personalizzato                               |
| `allowedMints` | `string[]`              | Limita i token accettati per indirizzo mint               |
| `showQR`       | `boolean`               | Abilita l'opzione di pagamento con codice QR              |
| `theme`        | `ThemeConfig`           | Personalizzazione visiva (colori, raggio del bordo, ecc.) |

## Callback degli eventi

| Callback           | Parametri             | Descrizione                         |
| ------------------ | --------------------- | ----------------------------------- |
| `onPaymentSuccess` | `(signature: string)` | Transazione confermata on-chain     |
| `onPaymentError`   | `(error: Error)`      | Pagamento fallito in qualsiasi fase |
| `onPaymentStart`   | `()`                  | Flusso di pagamento avviato         |
| `onCancel`         | `()`                  | L'utente ha annullato il pagamento  |

## Trigger personalizzato

Sostituisci il pulsante predefinito con il tuo elemento:

```tsx
<PaymentButton
  config={{
    merchant: { name: "Shop", wallet: "address" },
    mode: "tip"
  }}
>
  <button className="my-custom-button">Pay with Solana</button>
</PaymentButton>
```

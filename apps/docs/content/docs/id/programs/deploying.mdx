---
title: Menerapkan Program
description:
  Panduan lengkap untuk membangun, men-deploy, dan mengelola program Solana
  menggunakan Solana CLI.
---

Bagian ini membahas proses dasar men-deploy program Solana menggunakan Solana
CLI.

## Referensi Perintah CLI

| Tugas                            | Perintah                                                                                      |
| -------------------------------- | --------------------------------------------------------------------------------------------- |
| Build program                    | `cargo build-sbf`                                                                             |
| Deploy program baru              | `solana program deploy <path_to_program.so>`                                                  |
| Update program yang ada          | `solana program deploy <path_to_program.so>` (sama dengan deploy)                             |
| Tampilkan info program           | `solana program show <program-id>`                                                            |
| Transfer otoritas program        | `solana program set-upgrade-authority <program-id> --new-upgrade-authority <path_to_keypair>` |
| Jadikan program immutable        | `solana program set-upgrade-authority <program-id> --final`                                   |
| Tutup program                    | `solana program close <program-id> --bypass-warning`                                          |
| Cek saldo wallet                 | `solana balance`                                                                              |
| Minta airdrop (devnet/localhost) | `solana airdrop 2`                                                                            |

## Konsep Kunci

Sebelum memulai, mari perjelas beberapa terminologi:

- **Program ID**: Alamat on-chain dari program Anda. Pengguna berinteraksi
  dengan program Anda dengan mereferensikan Program ID.
- **Program Account**: Akun on-chain yang menyimpan metadata program Anda.
  Alamat program account adalah Program ID. Program account juga menyimpan
  alamat dari ProgramData Account.
- **ProgramData Account**: Akun on-chain yang menyimpan kode executable program
  Anda yang telah di-deploy.
- **Program Authority**: Akun yang memiliki izin untuk memperbarui atau menutup
  program. Secara default, ini adalah dompet CLI Anda.

## Prasyarat

<Steps>

<Step>

### Instal Solana CLI

Pertama, [instal Solana CLI](/docs/intro/installation).

</Step>

<Step>

### Siapkan Dompet

Setelah instalasi, buat dompet keypair lokal. Alamat dompet ini diatur sebagai
otoritas program default saat men-deploy program:

```terminal
$ solana-keygen new
```

Ini membuat keypair di `~/.config/solana/id.json` secara default.

</Step>

<Step>

### Konfigurasi Cluster

Pilih cluster Solana mana yang akan digunakan untuk deploy. Gunakan perintah
`solana config get` untuk memeriksa konfigurasi Anda saat ini:

```terminal
$ solana config get
Config File: ~/.config/solana/cli/config.yml
RPC URL: http://localhost:8899
WebSocket URL: ws://localhost:8900/ (computed)
Keypair Path: ~/.config/solana/id.json
Commitment: confirmed
```

Beralih antar cluster sesuai kebutuhan:

```terminal
$ solana config set --url mainnet-beta
$ solana config set --url devnet
$ solana config set --url localhost
$ solana config set --url testnet
$ solana config set --url "https://your-rpc-url.com"
```

</Step>

<Step>

### Dana Wallet

Anda akan membutuhkan SOL untuk membayar deployment program. Jumlahnya
tergantung pada ukuran program Anda.

Untuk devnet atau localhost, isi wallet Anda menggunakan perintah
`solana airdrop`:

```terminal
$ solana airdrop 2
Requesting airdrop of 2 SOL
Signature: 5zQKxvRdgJDA8fRGPdKfGxRLnLpwmNnMXGYxfBqFSUPqc5BTmFPrTG8vnC4HvKDVY8zQ8aQxZxcEE7WFpGhZGVAA
2 SOL
```

Periksa saldo wallet Anda:

```terminal
$ solana balance
2 SOL
```

</Step>

</Steps>

## Operasi Dasar

### Build Program

Untuk build program, gunakan perintah `cargo build-sbf`:

```terminal
$ cargo build-sbf
```

<ScrollyCoding>

## !!steps Contoh Program

Berikut adalah program Solana minimal yang mencetak "Hello, Solana!" ke log
program.

<CodePlaceholder title="src/lib.rs" />

```rs !! title="src/lib.rs"
use solana_program::{
    account_info::AccountInfo, entrypoint, entrypoint::ProgramResult, msg, pubkey::Pubkey,
};

entrypoint!(process_instruction);

pub fn process_instruction(
    _program_id: &Pubkey,
    _accounts: &[AccountInfo],
    _instruction_data: &[u8],
) -> ProgramResult {
    msg!("Hello, Solana!");
    Ok(())
}
```

```toml !! title="Cargo.toml"
[package]
name = "hello_world"
version = "0.1.0"
edition = "2021"

[lib]
crate-type = ["cdylib", "lib"]

[dependencies]
solana-program = "2.2.0"
```

## !!steps Output Build

Build program Anda menggunakan perintah `cargo build-sbf`:

```terminal
$ cargo build-sbf
```

Ini membuat dua file penting di `target/deploy/`:

1. `hello_world-keypair.json`: File keypair yang kunci publiknya akan digunakan
   sebagai Program ID Anda
2. `hello_world.so`: Executable program yang telah dikompilasi

```json !! title="target/deploy/hello_world-keypair.json"
[
  203, 253, 43, 62, 165, 111, 94, 222, 105, 225, 218, 85, 143, 9, 114, 96, 243,
  181, 114, 89, 72, 230, 124, 85, 59, 165, 198, 23, 240, 212, 23, 154, 229, 241,
  153, 61, 153, 105, 79, 204, 193, 163, 33, 65, 82, 183, 49, 240, 224, 137, 248,
  24, 128, 25, 192, 197, 118, 235, 239, 67, 85, 156, 219, 231
]
```

```txt !! title="target/deploy/hello_world.so"
[binary executable file]
```

</ScrollyCoding>

### Periksa Ukuran dan Biaya Program

Menerapkan program memerlukan SOL yang dialokasikan ke akun program berdasarkan
ukuran program. Program yang lebih besar membutuhkan lebih banyak SOL untuk
diterapkan.

Periksa ukuran program Anda:

```terminal
$ wc -c < ./target/deploy/hello_world.so
18504
```

Hitung SOL yang diperlukan untuk ukuran ini (byte):

```terminal
$ solana rent 18504
Rent-exempt minimum: 0.12967872 SOL
```

<Callout type="info">
  Anda akan membutuhkan sedikit lebih banyak SOL daripada yang ditampilkan untuk
  menutupi biaya transaksi penerapan.
</Callout>

### Menerapkan Program

Gunakan perintah `solana program deploy` untuk deploy program Anda:

```terminal
$ solana program deploy ./target/deploy/hello_world.so
Program Id: 7NxQjW8H8hVcqBKgXbVDWqGQCovHbqDW9p1SJJwUyTpE
Signature: 2BYwsqRP7ZwBNQvJp3S8bphTJ4zKW5JBPVMqCTE5KyLkP8xHzAyUEeC4LdTgjJdGBKHWNCkRF8Mf1T1WkLFyEu8W
```

**Program Id** yang ditampilkan adalah alamat permanen program Anda di jaringan.

<Callout>

Untuk menerapkan dengan Program ID tertentu (alih-alih yang dibuat secara
otomatis), gunakan:

```terminal
$ solana program deploy ./target/deploy/hello_world.so --program-id ./custom-keypair.json
```

Anda dapat membuat keypair baru menggunakan perintah `solana-keygen`:

```terminal
$ solana-keygen new -o ./custom-keypair.json
```

</Callout>

### Perbarui Program

Perbarui program Anda menggunakan perintah `solana program deploy` yang sama:

1. Lakukan perubahan pada kode program Anda
2. Bangun ulang program Anda: `cargo build-sbf`
3. Deploy pembaruan:

```terminal
$ solana program deploy ./target/deploy/hello_world.so
Program Id: 7NxQjW8H8hVcqBKgXbVDWqGQCovHbqDW9p1SJJwUyTpE
Signature: 3zKnXDfEm1R8hVcEmTnNFYUaFjVVbLJrKdFj5hBMXoBRfz8xGyDhCYgKr9YY5KxKYPEUQQVfwEPNz9hQGvYhLNBJ
```

<Callout type="info">

Jika program yang diperbarui memerlukan lebih banyak ruang (byte) daripada yang
dialokasikan saat ini, deployment akan secara otomatis memperluas program
account. Ini terjadi ketika program baru Anda lebih besar dari versi sebelumnya.
Program account membutuhkan byte tambahan untuk menyimpan program baru. CLI akan
menghitung SOL yang diperlukan dan menguranginya dari dompet Anda secara
otomatis.

Anda juga dapat memperluas program secara manual untuk mengalokasikan lebih
banyak byte:

```terminal
$ solana program extend 7NxQjW8H8hVcqBKgXbVDWqGQCovHbqDW9p1SJJwUyTpE 1000
Extended Program Id 7NxQjW8H8hVcqBKgXbVDWqGQCovHbqDW9p1SJJwUyTpE by 1000 bytes
```

</Callout>

## Pengelolaan Program

Setelah program Anda di-deploy, ada beberapa perintah umum untuk mengelola
program account.

### Lihat Metadata Program

Untuk memeriksa metadata program Anda, gunakan perintah `solana program show`:

```terminal
$ solana program show 7NxQjW8H8hVcqBKgXbVDWqGQCovHbqDW9p1SJJwUyTpE
```

<WithNotes>

Contoh output:

```txt
$ solana program show 7283x8k8fyBcfaFLyPsxbd2VV1AMmZFP7FNoyTXVKJw7
# !tooltip[/Program Id/] program-id
Program Id: 7283x8k8fyBcfaFLyPsxbd2VV1AMmZFP7FNoyTXVKJw7
# !tooltip[/Owner/] owner
Owner: BPFLoaderUpgradeab1e11111111111111111111111
# !tooltip[/ProgramData Address/] program-data-address
ProgramData Address: Gqn7YQVCP8NtYV1qkEqR4Udhj8EJ3fkikvS7HskCNQ7c
# !tooltip[/Authority/] authority
Authority: 5kh6HxYZiAebF8HWLsUWod2EaQQ6iWHpHYCz8UcmFbM1
# !tooltip[/Last Deployed In Slot/] last-deployed-in-slot
Last Deployed In Slot: 6573
# !tooltip[/Data Length/] data-length
Data Length: 18504 (0x4848) bytes
# !tooltip[/Balance/] balance
Balance: 0.12999192 SOL
```

### !program-id

Program ID adalah alamat on-chain dari program account Anda. Pengguna dan
program lain memanggil program Anda dengan mereferensikan ID ini dalam transaksi
mereka.

### !owner

Owner mengidentifikasi loader mana yang digunakan untuk men-deploy program ini.
Untuk sebagian besar program, ini akan menjadi BPF Upgradeable Loader.

### !program-data-address

ProgramData Address menunjuk ke akun terpisah yang menyimpan kode yang dapat
dieksekusi dari program Anda.

### !authority

Authority adalah akun yang memiliki izin untuk mengupgrade atau menutup program
ini. Hanya authority yang dapat menerapkan pembaruan atau menutup program untuk
mengklaim kembali SOL yang dialokasikan untuk program.

### !last-deployed-in-slot

Last Deployed In Slot menunjukkan kapan program ini terakhir kali diperbarui.

### !data-length

Data Length menunjukkan total byte yang dialokasikan untuk program ini. Ruang
ini dapat mengakomodasi pembaruan di masa depan yang mungkin lebih besar dari
ukuran program saat ini.

### !balance

Balance menampilkan SOL yang dialokasikan ke akun program untuk menyimpan
datanya.

</WithNotes>

### Transfer Program Authority

Untuk mentransfer otoritas program ke akun yang berbeda, gunakan perintah
`solana program set-upgrade-authority`:

```terminal
$ solana program set-upgrade-authority 7NxQjW8H8hVcqBKgXbVDWqGQCovHbqDW9p1SJJwUyTpE --new-upgrade-authority ./new-authority-keypair.json
```

<Callout type="warn">
  Setelah mentransfer program authority, Anda tidak dapat lagi memperbarui
  program kecuali Anda memiliki akses ke keypair authority yang baru.
</Callout>

### Membuat Program Anda Tidak Dapat Diubah

Untuk membuat program Anda immutable, gunakan perintah
`solana program set-upgrade-authority` dengan flag `--final` untuk menghapus
otoritas program:

```terminal
$ solana program set-upgrade-authority 7NxQjW8H8hVcqBKgXbVDWqGQCovHbqDW9p1SJJwUyTpE --final
Account Type: Program
Authority: none
```

<Callout type="warn">
  Setelah program menjadi tidak dapat diubah, program tersebut tidak akan pernah
  bisa diperbarui atau ditutup.
</Callout>

### Menutup Program Anda

Untuk menutup program Anda dan mengklaim kembali SOL yang dialokasikan ke
program account, gunakan perintah `solana program close`:

```terminal
$ solana program close 7NxQjW8H8hVcqBKgXbVDWqGQCovHbqDW9p1SJJwUyTpE --bypass-warning
Closed Program Id 7NxQjW8H8hVcqBKgXbVDWqGQCovHbqDW9p1SJJwUyTpE, 0.12999192 SOL reclaimed
```

<Callout type="warn">
  Setelah ditutup, Program ID tidak dapat digunakan kembali. Anda tidak dapat
  menerapkan program baru ke alamat yang sama.
</Callout>

## Perintah Utilitas

### Daftar Semua Program

Lihat semua program di mana dompet Anda saat ini adalah authority:

```terminal
$ solana program show --programs
```

Contoh output:

```txt
Program Id                                       | Slot       | Authority                                      | Balance
-------------------------------------------------|------------|------------------------------------------------|-------------
7NxQjW8H8hVcqBKgXbVDWqGQCovHbqDW9p1SJJwUyTpE     | 249885434  | 5kh6HxYZiAebF8HWLsUWod2EaQQ6iWHpHYCz8UcmFbM1   | 0.12999192
3KSGCk4m5hqJkTjPHBXUCPcqMwJnK3VmkqEsFUKKGJPK     | 249883212  | 5kh6HxYZiAebF8HWLsUWod2EaQQ6iWHpHYCz8UcmFbM1   | 0.28654328
```

### Mengunduh Program yang Telah Di-deploy

Untuk mengunduh program yang telah di-deploy, gunakan perintah
`solana program dump`:

```terminal
$ solana program dump 7NxQjW8H8hVcqBKgXbVDWqGQCovHbqDW9p1SJJwUyTpE ./downloaded_program.so
Wrote program to ./downloaded_program.so
```

## Opsi Lanjutan

### Flag Deployment

Ketika jaringan Solana sedang padat, gunakan flag ini untuk membantu deployment
program.

Contoh Penggunaan:

```terminal
$ solana program deploy ./target/deploy/hello_world.so \
    --with-compute-unit-price 10000 \
    --max-sign-attempts 10 \
    --use-rpc
```

Penjelasan opsi:

- **`--with-compute-unit-price`**: Tetapkan priority fee dalam micro-lamport
  (0,000001 SOL) per compute unit. Periksa
  [Helius Priority Fee API](https://docs.helius.dev/guides/priority-fee-api)
  untuk tarif saat ini. Priority fee adalah biaya tambahan yang dibayarkan
  kepada leader saat ini untuk memprioritaskan transaksi Anda.
- **`--max-sign-attempts`**: Jumlah percobaan ulang dengan blockhash baru jika
  transaksi kedaluwarsa. (Default: 5)
- **`--use-rpc`**: Kirim transaksi ke RPC yang dikonfigurasi. Flag ini
  memerlukan koneksi RPC
  [stake-weighted](/developers/guides/advanced/stake-weighted-qos) dari penyedia
  seperti [Triton](https://triton.one/) atau [Helius](https://www.helius.dev/).

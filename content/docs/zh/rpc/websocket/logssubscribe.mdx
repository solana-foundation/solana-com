---
title: logsSubscribe
hideTableOfContents: true
h1: logsSubscribe RPC 方法
---

订阅交易日志

<APIMethod>

```jsonc !!request
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "logsSubscribe",
  "params": [
    // !hover(1:3) 0
    {
      "mentions": ["11111111111111111111111111111111"]
    },
    // !hover(1:3) 1
    {
      // !hover commitment
      "commitment": "finalized"
    }
  ]
}
```

### !参数

#### !! 0

!类型 string | object  
!必填

用于根据账户类型接收结果的日志过滤条件。目前支持以下过滤类型：

- `all` - 订阅所有交易，简单投票交易除外
- `allWithVotes` - 订阅所有交易，包括简单投票交易
- 一个包含以下字段的对象：
  - `mentions: [ <string> ]` - 数组，包含一个以 base-58 编码的 Pubkey；如果存在，则仅订阅提及此地址的交易

<Callout type="warn" title={true}>
  `mentions` 字段目前
  [仅支持
  一个](https://github.com/solana-labs/solana/blob/master/rpc/src/rpc_pubsub.rs#L481)
  每次方法调用的 Pubkey 字符串。列出额外的地址将导致错误。
</Callout>

#### !! 1

!类型 object

包含以下字段的配置对象：

##### !! commitment

!类型 string

承诺描述了区块在该时间点的最终确定程度。参见
[配置状态承诺](/docs/rpc#configuring-state-commitment)。

### !!结果

```jsonc !response
{
  "jsonrpc": "2.0",
  // !hover result
  "result": 24040,
  "id": 1
}
```

!类型 integer

订阅 ID（用于取消订阅）

</APIMethod>

#### 通知格式：

通知将是一个 RpcResponse JSON 对象，其值等于：

- `signature: <string>` - 交易签名，base58 编码。
- `err: <object|null>` - 如果交易失败则为错误，成功则为 null。
  [TransactionError 定义](https://github.com/solana-labs/solana/blob/c0c60386544ec9a9ec7119229f37386d9f070523/sdk/src/transaction/error.rs#L13)
- `logs: <array[string]>` - 数组，包含交易指令在执行期间输出的日志消息。

示例：

```json
{
  "jsonrpc": "2.0",
  "method": "logsNotification",
  "params": {
    "result": {
      "context": {
        "slot": 5208469
      },
      "value": {
        "signature": "5h6xBEauJ3PK6SWCZ1PGjBvj8vDdWG3KpwATGy1ARAXFSDwt8GFXM7W5Ncn16wmqokgpiKRLuS83KUxyZyv2sUYv",
        "err": null,
        "logs": [
          "SBF program 83astBRguLMdt2h5U1Tpdq5tjFoJ6noeGwaY3mDLVcri success"
        ]
      }
    },
    "subscription": 24040
  }
}
```

---
title: 现有项目
seoTitle: 如何将 Solana 集成到现有应用或项目中
description:
  如何使用 'create-solana-program' 工具将现有项目添加到 Solana 项目脚手架中。
keywords:
  - solana 程序开发
  - 创建 solana 程序
  - solana anchor 开发
  - 程序脚手架
  - anchor 框架
  - solana 工作空间设置
h1: 更新现有项目
---

> 这是 [Solana 工具包](/docs/toolkit/)
> 的测试版，仍在开发中。请将所有反馈作为 GitHub 问题发布
> [这里](https://github.com/solana-foundation/mucho/issues/new?title=%5Btoolkit%5D%20)。

如果您有一个现有的 Anchor 程序，并希望使用
[`create-solana-program`](https://github.com/solana-program/create-solana-program)
工具，您可以轻松地用现有程序替换生成的程序：

<Steps>
<Step>

### 验证正确的版本

确保已安装的 Solana 和 Anchor 版本与您的现有程序所需的版本一致。

</Step>
<Step>

### 运行 create-solana-program

通过运行以下命令，使用 Anchor 创建一个新的 Solana 程序脚手架：

```shell
npx create-solana-program --anchor
```

</Step>
<Step>

### 迁移您的程序源代码

将 `program` 文件夹替换为您的现有程序目录（不是工作空间目录）。如果您有多个程序，请在根目录中添加更多文件夹，并更新顶层 `members` 属性中的 `Cargo.toml` 相应内容。

</Step>
<Step>

### 更新每个程序的 Cargo.toml

确保您的程序的 `Cargo.toml` 包含以下元数据：

```toml title="Cargo.toml"
[package.metadata.solana]
program-id = "YOUR_PROGRAM_ADDRESS"
program-dependencies = []
```

</Step>
<Step>

### 构建您的程序和客户端

运行以下命令以构建您的程序并生成客户端：

```shell
npm install
npm run programs:build
npm run generate
```

</Step>
<Step>

### 更新 ID 别名

如果您有一个生成的 Rust 客户端，请更新 `clients/rust/src/lib.rs` 文件，使 `ID` 别名指向正确的生成常量。

</Step>
<Step>

### 更新任何客户端测试

如果您有任何生成的客户端，请更新生成的测试以使其与您现有的程序配合工作。

</Step>
</Steps>

---
title: Προγράμματα στο Solana
description:
  Μάθετε για τα προγράμματα του Solana (έξυπνα συμβόλαια) και πώς να τα
  αναπτύξετε χρησιμοποιώντας Rust ή το πλαίσιο Anchor. Κατανοήστε την ανάπτυξη,
  τις αναβαθμίσεις και την επαλήθευση προγραμμάτων στο δίκτυο Solana.
h1: Προγράμματα
---

Στο Solana, τα "έξυπνα συμβόλαια" ονομάζονται προγράμματα. Τα
[προγράμματα](/docs/core/accounts#program-account) αναπτύσσονται στην αλυσίδα σε
λογαριασμούς που περιέχουν το μεταγλωττισμένο εκτελέσιμο δυαδικό αρχείο του
προγράμματος. Οι χρήστες αλληλεπιδρούν με τα προγράμματα στέλνοντας συναλλαγές
που περιέχουν [οδηγίες](/docs/core/transactions#instruction) που λένε στο
πρόγραμμα τι να κάνει.

## Βασικά σημεία

- Τα προγράμματα είναι λογαριασμοί που περιέχουν **εκτελέσιμο κώδικα**,
  οργανωμένο σε λειτουργίες που ονομάζονται **οδηγίες**.
- Ενώ τα προγράμματα είναι **χωρίς κατάσταση**, μπορούν να περιλαμβάνουν οδηγίες
  που δημιουργούν και ενημερώνουν άλλους λογαριασμούς για την αποθήκευση
  δεδομένων.
- Μια **αρχή αναβάθμισης** μπορεί να ενημερώσει τα προγράμματα. Μόλις αφαιρεθεί
  αυτή η αρχή, το πρόγραμμα γίνεται αμετάβλητο.
- Οι χρήστες μπορούν να επαληθεύσουν ότι τα δεδομένα ενός λογαριασμού
  προγράμματος στην αλυσίδα αντιστοιχούν στον δημόσιο πηγαίο κώδικα μέσω
  επαληθεύσιμων κατασκευών.

## Γράφοντας προγράμματα Solana

Τα προγράμματα Solana γράφονται κυρίως στη γλώσσα προγραμματισμού
[Rust](https://rust-book.cs.brown.edu/title-page.html), με δύο συνηθισμένες
προσεγγίσεις για ανάπτυξη:

- [Anchor](https://www.anchor-lang.com/docs): Ένα πλαίσιο σχεδιασμένο για την
  ανάπτυξη προγραμμάτων Solana. Παρέχει έναν ταχύτερο και απλούστερο τρόπο για
  τη συγγραφή προγραμμάτων, χρησιμοποιώντας μακροεντολές Rust για τη μείωση του
  επαναλαμβανόμενου κώδικα. Για αρχάριους, συνιστάται να ξεκινήσουν με το
  πλαίσιο Anchor.

- [Native Rust](/docs/programs/rust): Αυτή η προσέγγιση περιλαμβάνει τη συγγραφή
  προγραμμάτων Solana σε Rust χωρίς τη χρήση πλαισίων. Προσφέρει μεγαλύτερη
  ευελιξία αλλά έρχεται με αυξημένη πολυπλοκότητα.

## Ενημέρωση προγραμμάτων Solana

Για να μάθετε περισσότερα σχετικά με την ανάπτυξη και αναβάθμιση προγραμμάτων,
δείτε τη [σελίδα ανάπτυξης προγραμμάτων](/docs/programs/deploying).

Τα προγράμματα μπορούν να
[τροποποιηθούν άμεσα](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/bpf_loader/src/lib.rs#L704)
από έναν λογαριασμό που ορίζεται ως "αρχή αναβάθμισης", ο οποίος είναι συνήθως ο
λογαριασμός που αρχικά ανέπτυξε το πρόγραμμα. Εάν η
[αρχή αναβάθμισης](https://github.com/anza-xyz/agave/blob/v2.1.13/programs/bpf_loader/src/lib.rs#L894)
ανακληθεί και οριστεί σε `None`, το πρόγραμμα γίνεται αμετάβλητο και δεν μπορεί
πλέον να ενημερωθεί.

## Επαληθεύσιμα προγράμματα

Οι επαληθεύσιμες κατασκευές επιτρέπουν σε οποιονδήποτε να ελέγξει αν ο κώδικας
ενός προγράμματος στην αλυσίδα αντιστοιχεί στον δημόσιο πηγαίο κώδικά του,
καθιστώντας δυνατό τον εντοπισμό διαφορών μεταξύ του πηγαίου και των
αναπτυγμένων εκδόσεων.

Η κοινότητα προγραμματιστών της Solana έχει εισαγάγει εργαλεία για την
υποστήριξη επαληθεύσιμων κατασκευών, επιτρέποντας τόσο στους προγραμματιστές όσο
και στους χρήστες να επαληθεύσουν ότι τα προγράμματα στην αλυσίδα
αντικατοπτρίζουν με ακρίβεια τον δημόσια κοινοποιημένο πηγαίο κώδικά τους.

- **Αναζήτηση επαληθευμένων προγραμμάτων**: Για να ελέγξουν γρήγορα για
  επαληθευμένα προγράμματα, οι χρήστες μπορούν να αναζητήσουν μια διεύθυνση
  προγράμματος στον [Solana Explorer](https://explorer.solana.com/). Δείτε ένα
  παράδειγμα επαληθευμένου προγράμματος
  [εδώ](https://explorer.solana.com/address/PhoeNiXZ8ByJGLkxNfZRnkUfjvmuYqLR89jjFHGqdXY).

- **Εργαλεία επαλήθευσης**: Το
  [Solana Verifiable Build CLI](https://github.com/Ellipsis-Labs/solana-verifiable-build)
  από την Ellipsis Labs επιτρέπει στους χρήστες να επαληθεύουν ανεξάρτητα
  προγράμματα στην αλυσίδα έναντι του δημοσιευμένου πηγαίου κώδικα.

- **Υποστήριξη για επαληθεύσιμες κατασκευές στο Anchor**: Το Anchor παρέχει
  ενσωματωμένη υποστήριξη για επαληθεύσιμες κατασκευές. Λεπτομέρειες μπορείτε να
  βρείτε στην
  [τεκμηρίωση του Anchor](https://www.anchor-lang.com/docs/verifiable-builds).

## Berkeley Packet Filter (BPF)

Η Solana χρησιμοποιεί το [LLVM](https://llvm.org/) (Low Level Virtual Machine)
για τη μεταγλώττιση προγραμμάτων σε αρχεία
[ELF](https://en.wikipedia.org/wiki/Executable_and_Linkable_Format) (Executable
and Linkable Format). Αυτά τα αρχεία περιέχουν την προσαρμοσμένη έκδοση της
Solana του [eBPF](https://en.wikipedia.org/wiki/EBPF) bytecode, που ονομάζεται
"Solana Bytecode Format" (sBPF). Το αρχείο ELF περιέχει το δυαδικό του
προγράμματος και αποθηκεύεται στην αλυσίδα σε έναν εκτελέσιμο λογαριασμό όταν το
πρόγραμμα αναπτύσσεται.

## Ενσωματωμένα προγράμματα

### Προγράμματα φορτωτή

Κάθε πρόγραμμα ανήκει σε ένα άλλο πρόγραμμα, το οποίο είναι ο φορτωτής του. Επί
του παρόντος, υπάρχουν πέντε προγράμματα φορτωτή:

| Φορτωτής | Αναγνωριστικό προγράμματος                    | Σημειώσεις                                                                                      | Σύνδεσμος οδηγιών                                                                                                                          |
| -------- | --------------------------------------------- | ----------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------ |
| native   | `NativeLoader1111111111111111111111111111111` | Κατέχει τους άλλους τέσσερις φορτωτές                                                           | —                                                                                                                                          |
| v1       | `BPFLoader1111111111111111111111111111111111` | Οι οδηγίες διαχείρισης είναι απενεργοποιημένες, αλλά τα προγράμματα εξακολουθούν να εκτελούνται | —                                                                                                                                          |
| v2       | `BPFLoader2111111111111111111111111111111111` | Οι οδηγίες διαχείρισης είναι απενεργοποιημένες, αλλά τα προγράμματα εξακολουθούν να εκτελούνται | [Οδηγίες](https://docs.rs/solana-loader-v2-interface/latest/solana_loader_v2_interface/enum.LoaderInstruction.html)                        |
| v3       | `BPFLoaderUpgradeab1e11111111111111111111111` | Καταργείται σταδιακά                                                                            | [Οδηγίες](https://docs.rs/solana-loader-v3-interface/latest/solana_loader_v3_interface/instruction/enum.UpgradeableLoaderInstruction.html) |
| v4       | `LoaderV411111111111111111111111111111111111` | Αναμένεται ότι το v4 θα γίνει ο τυπικός φορτωτής                                                | [Οδηγίες](https://docs.rs/solana-loader-v4-interface/latest/solana_loader_v4_interface/instruction/enum.LoaderV4Instruction.html)          |

Αυτοί οι φορτωτές είναι απαραίτητοι για τη δημιουργία και διαχείριση
προσαρμοσμένων προγραμμάτων:

- Ανάπτυξη νέου προγράμματος ή buffer
- Κλείσιμο προγράμματος ή buffer
- Επανανάπτυξη / αναβάθμιση υπάρχοντος προγράμματος
- Μεταφορά της εξουσιοδότησης ενός προγράμματος
- Οριστικοποίηση ενός προγράμματος

Οι loader-v3 και loader-v4 υποστηρίζουν τροποποιήσεις στα προγράμματα μετά την
αρχική τους ανάπτυξη. Η άδεια για αυτό ρυθμίζεται από την εξουσιοδότηση ενός
προγράμματος επειδή η ιδιοκτησία του λογαριασμού κάθε προγράμματος ανήκει στον
φορτωτή.

### Προκαταρτισμένα Προγράμματα

#### Πρόγραμμα Ed25519

| Πρόγραμμα         | ID Προγράμματος                               | Περιγραφή                                                                            | Οδηγίες                                                                                    |
| ----------------- | --------------------------------------------- | ------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------ |
| Πρόγραμμα Ed25519 | `Ed25519SigVerify111111111111111111111111111` | Επαληθεύει υπογραφές ed25519. Αν αποτύχει οποιαδήποτε υπογραφή, επιστρέφεται σφάλμα. | [Οδηγίες](https://docs.rs/solana-ed25519-program/latest/solana_ed25519_program/index.html) |

Το πρόγραμμα ed25519 επεξεργάζεται μια εντολή. Το πρώτο `u8` είναι ένας μετρητής
του αριθμού των υπογραφών προς έλεγχο, που ακολουθείται από ένα byte γεμίσματος.
Μετά από αυτό, σειριοποιείται η ακόλουθη δομή, μία για κάθε υπογραφή προς
έλεγχο.

```rs title="Ed25519SignatureOffsets"
struct Ed25519SignatureOffsets {
    signature_offset: u16,             // offset to ed25519 signature of 64 bytes
    signature_instruction_index: u16,  // instruction index to find signature
    public_key_offset: u16,            // offset to public key of 32 bytes
    public_key_instruction_index: u16, // instruction index to find public key
    message_data_offset: u16,          // offset to start of message data
    message_data_size: u16,            // size of message data
    message_instruction_index: u16,    // index of instruction data to get message data
}
```

Ο ψευδοκώδικας της επαλήθευσης υπογραφής:

```
process_instruction() {
    for i in 0..count {
        // i'th index values referenced:
        instructions = &transaction.message().instructions
        instruction_index = ed25519_signature_instruction_index != u16::MAX ? ed25519_signature_instruction_index : current_instruction;
        signature = instructions[instruction_index].data[ed25519_signature_offset..ed25519_signature_offset + 64]
        instruction_index = ed25519_pubkey_instruction_index != u16::MAX ? ed25519_pubkey_instruction_index : current_instruction;
        pubkey = instructions[instruction_index].data[ed25519_pubkey_offset..ed25519_pubkey_offset + 32]
        instruction_index = ed25519_message_instruction_index != u16::MAX ? ed25519_message_instruction_index : current_instruction;
        message = instructions[instruction_index].data[ed25519_message_data_offset..ed25519_message_data_offset + ed25519_message_data_size]
        if pubkey.verify(signature, message) != Success {
            return Error
        }
    }
    return Success
}
```

#### Πρόγραμμα Secp256k1

| Πρόγραμμα           | ID Προγράμματος                               | Περιγραφή                                                                 | Οδηγίες                                                                                        |
| ------------------- | --------------------------------------------- | ------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------- |
| Πρόγραμμα Secp256k1 | `KeccakSecp256k11111111111111111111111111111` | Επαληθεύει λειτουργίες ανάκτησης δημόσιου κλειδιού secp256k1 (ecrecover). | [Οδηγίες](https://docs.rs/solana-secp256k1-program/latest/solana_secp256k1_program/index.html) |

Το πρόγραμμα secp256k1 επεξεργάζεται μια εντολή που λαμβάνει ως πρώτο byte έναν
μετρητή της ακόλουθης δομής που σειριοποιείται στα δεδομένα εντολής:

```rs title="Secp256k1SignatureOffsets"
struct Secp256k1SignatureOffsets {
    secp_signature_offset: u16,            // offset to [signature,recovery_id] of 64+1 bytes
    secp_signature_instruction_index: u8,  // instruction index to find signature
    secp_pubkey_offset: u16,               // offset to ethereum_address pubkey of 20 bytes
    secp_pubkey_instruction_index: u8,     // instruction index to find pubkey
    secp_message_data_offset: u16,         // offset to start of message data
    secp_message_data_size: u16,           // size of message data
    secp_message_instruction_index: u8,    // instruction index to find message data
}
```

Ο ψευδοκώδικας της επαλήθευσης ανάκτησης:

```
process_instruction() {
  for i in 0..count {
      // i'th index values referenced:
      instructions = &transaction.message().instructions
      signature = instructions[secp_signature_instruction_index].data[secp_signature_offset..secp_signature_offset + 64]
      recovery_id = instructions[secp_signature_instruction_index].data[secp_signature_offset + 64]
      ref_eth_pubkey = instructions[secp_pubkey_instruction_index].data[secp_pubkey_offset..secp_pubkey_offset + 20]
      message_hash = keccak256(instructions[secp_message_instruction_index].data[secp_message_data_offset..secp_message_data_offset + secp_message_data_size])
      pubkey = ecrecover(signature, recovery_id, message_hash)
      eth_pubkey = keccak256(pubkey[1..])[12..]
      if eth_pubkey != ref_eth_pubkey {
          return Error
      }
  }
  return Success
}
```

Αυτό επιτρέπει στον χρήστη να καθορίσει οποιαδήποτε δεδομένα εντολής στη
συναλλαγή για δεδομένα υπογραφής και μηνύματος. Καθορίζοντας μια ειδική sysvar
εντολών, μπορεί κανείς επίσης να λάβει δεδομένα από την ίδια τη συναλλαγή.

Το κόστος της συναλλαγής θα υπολογίσει τον αριθμό των υπογραφών προς επαλήθευση
πολλαπλασιασμένο με τον πολλαπλασιαστή κόστους επαλήθευσης υπογραφής.

#### Πρόγραμμα Secp256r1

| Πρόγραμμα           | Αναγνωριστικό προγράμματος                    | Περιγραφή                                                                                                                         | Οδηγίες                                                                                      |
| ------------------- | --------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------- |
| Πρόγραμμα Secp256r1 | `Secp256r1SigVerify1111111111111111111111111` | Επαληθεύει έως και 8 υπογραφές secp256r1. Λαμβάνει μια υπογραφή, δημόσιο κλειδί και μήνυμα. Επιστρέφει σφάλμα αν κάποιο αποτύχει. | [Οδηγίες](https://docs.rs/solana-secp256r1-program/latest/solana_secp256r1_program/all.html) |

Το πρόγραμμα secp256r1 επεξεργάζεται μια εντολή. Το πρώτο `u8` είναι ένας
αριθμός των υπογραφών προς έλεγχο, που ακολουθείται από ένα byte γεμίσματος.
Μετά από αυτό, η ακόλουθη δομή σειριοποιείται, μία για κάθε υπογραφή προς
έλεγχο:

```rs title="Secp256r1SignatureOffsets"
struct Secp256r1SignatureOffsets {
    signature_offset: u16,             // offset to compact secp256r1 signature of 64 bytes
    signature_instruction_index: u16,  // instruction index to find signature
    public_key_offset: u16,            // offset to compressed public key of 33 bytes
    public_key_instruction_index: u16, // instruction index to find public key
    message_data_offset: u16,          // offset to start of message data
    message_data_size: u16,            // size of message data
    message_instruction_index: u16,    // index of instruction data to get message data
}

```

Ο ψευδοκώδικας της επαλήθευσης υπογραφής:

```
process_instruction() {
    if data.len() < SIGNATURE_OFFSETS_START {
        return Error
    }

    num_signatures = data[0] as usize
    if num_signatures == 0 || num_signatures > 8 {
        return Error
    }

    expected_data_size = num_signatures * SIGNATURE_OFFSETS_SERIALIZED_SIZE + SIGNATURE_OFFSETS_START
    if data.len() < expected_data_size {
        return Error
    }

    for i in 0..num_signatures {
        offsets = parse_signature_offsets(data, i)

        signature = get_data_slice(data, instruction_datas, offsets.signature_instruction_index, offsets.signature_offset, SIGNATURE_SERIALIZED_SIZE)

        if s > half_curve_order {
            return Error
        }

        pubkey = get_data_slice(data, instruction_datas, offsets.public_key_instruction_index, offsets.public_key_offset, COMPRESSED_PUBKEY_SERIALIZED_SIZE)

        message = get_data_slice(data, instruction_datas, offsets.message_instruction_index, offsets.message_data_offset, offsets.message_data_size)

        if !verify_signature(signature, pubkey, message) {
            return Error
        }
    }

    return Success
}
```

Σημείωση: Οι χαμηλές τιμές S επιβάλλονται για όλες τις υπογραφές για την αποφυγή
τυχαίας πλαστότητας υπογραφής.

### Βασικά Προγράμματα

Η γένεση του συμπλέγματος Solana περιλαμβάνει μια λίστα ειδικών προγραμμάτων που
παρέχουν βασικές λειτουργίες για το δίκτυο. Ιστορικά αυτά αναφέρονταν ως
"εγγενή" προγράμματα και διανέμονταν μαζί με τον κώδικα του validator.

| Πρόγραμμα                        | Αναγνωριστικό προγράμματος                    | Περιγραφή                                                                                                                                                                                                                                                                                                                                                                                              | Οδηγίες                                                                                                                                               |
| -------------------------------- | --------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------- |
| **System Program**               | `11111111111111111111111111111111`            | Δημιουργεί νέους λογαριασμούς, κατανέμει δεδομένα λογαριασμού, αναθέτει λογαριασμούς σε προγράμματα ιδιοκτησίας, μεταφέρει lamport από λογαριασμούς που ανήκουν στο System Program και πληρώνει τέλη συναλλαγών.                                                                                                                                                                                       | [SystemInstruction](https://docs.rs/solana-program/latest/solana_program/system_instruction/enum.SystemInstruction.html)                              |
| **Vote Program**                 | `Vote111111111111111111111111111111111111111` | Δημιουργεί και διαχειρίζεται λογαριασμούς που παρακολουθούν την κατάσταση ψηφοφορίας και τις ανταμοιβές των validator.                                                                                                                                                                                                                                                                                 | [VoteInstruction](https://docs.rs/solana-vote-program/latest/solana_vote_program/vote_instruction/enum.VoteInstruction.html)                          |
| **Stake Program**                | `Stake11111111111111111111111111111111111111` | Δημιουργεί και διαχειρίζεται λογαριασμούς που αντιπροσωπεύουν stake και ανταμοιβές για αναθέσεις σε validator.                                                                                                                                                                                                                                                                                         | [StakeInstruction](https://docs.rs/solana-sdk/latest/solana_sdk/stake/instruction/enum.StakeInstruction.html)                                         |
| **Config Program**               | `Config1111111111111111111111111111111111111` | Προσθέτει δεδομένα διαμόρφωσης στην αλυσίδα, ακολουθούμενα από τη λίστα των δημόσιων κλειδιών που επιτρέπεται να τα τροποποιήσουν. Σε αντίθεση με τα άλλα προγράμματα, το Config program δεν ορίζει μεμονωμένες οδηγίες. Έχει μόνο μία σιωπηρή οδηγία: "store". Τα δεδομένα οδηγιών του είναι ένα σύνολο κλειδιών που ελέγχουν την πρόσβαση στο λογαριασμό και τα δεδομένα που αποθηκεύονται σε αυτόν. | [ConfigInstruction](https://docs.rs/solana-config-program/latest/solana_config_program/config_instruction/index.html)                                 |
| **Compute Budget Program**       | `ComputeBudget111111111111111111111111111111` | Ορίζει όρια και τιμές υπολογιστικών μονάδων για συναλλαγές, επιτρέποντας στους χρήστες να ελέγχουν τους υπολογιστικούς πόρους και τα τέλη προτεραιότητας.                                                                                                                                                                                                                                              | [ComputeBudgetInstruction](https://docs.rs/solana-compute-budget-interface/latest/solana_compute_budget_interface/enum.ComputeBudgetInstruction.html) |
| **Address Lookup Table Program** | `AddressLookupTab1e1111111111111111111111111` | Διαχειρίζεται πίνακες αναζήτησης διευθύνσεων, που επιτρέπουν στις συναλλαγές να αναφέρονται σε περισσότερους λογαριασμούς από όσους θα χωρούσαν διαφορετικά στη λίστα λογαριασμών της συναλλαγής.                                                                                                                                                                                                      | [ProgramInstruction](https://docs.rs/solana-sdk/latest/solana_sdk/address_lookup_table/instruction/enum.ProgramInstruction.html)                      |
| **ZK ElGamal Proof Program**     | `ZkE1Gama1Proof11111111111111111111111111111` | Παρέχει επαλήθευση απόδειξης μηδενικής γνώσης για κρυπτογραφημένα δεδομένα ElGamal.                                                                                                                                                                                                                                                                                                                    | —                                                                                                                                                     |

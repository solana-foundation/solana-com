---
title: 거래 수수료
description:
  솔라나의 거래 수수료에 대해 알아보세요. 기본 수수료와 우선 수수료,
  각 수수료가 어떻게 적용되는지, 그리고 거래에서 컴퓨트 유닛을 관리하기 위한
  모범 사례에 대해 설명합니다.
---

모든 솔라나 거래는 거래를 처리하는 검증자에게 보상하기 위해 기본 수수료(SOL)가 필요합니다. 선택적인 우선 수수료도 제공되어 현재 리더(검증자)에 의해 거래가 처리될 확률을 높일 수 있습니다.

## 주요 사항

- 거래의 **기본 수수료**는 거래당 서명당 최소 5000 람포트입니다.
- **우선 수수료**(선택 사항)는 거래가 처리될 확률을 높이기 위해 검증자에게 지급되는 추가 수수료입니다.
- 우선 수수료는 다음과 같이 계산됩니다: **(컴퓨트 유닛 한도 \* 컴퓨트 유닛 가격)**.
- **컴퓨트 유닛 한도**는 거래가 소비할 수 있는 최대 컴퓨트 유닛 수입니다.
- **컴퓨트 유닛 가격**은 마이크로 람포트 단위의 컴퓨트 유닛당 가격입니다.
- 1,000,000 마이크로 람포트 = 1 람포트
- 거래 수수료 지불자는 시스템 프로그램에 의해 소유되는 계정이어야 합니다.

## 기본 거래 수수료

기본 수수료는 거래를 보내기 위한 최소 비용입니다. 비용은 거래에 포함된 서명당 5000 람포트입니다.

기본 수수료는 거래 수수료 지불자에 의해 자동으로 지불되며, 이는 거래의 첫 번째 서명자입니다. 수수료 지불자는 시스템 프로그램에 의해 소유되는 계정이어야 합니다.

- [50% 소각](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/fee-calculator/src/lib.rs#L70):
  기본 수수료의 절반이 소각됩니다.
- [50% 분배](https://github.com/anza-xyz/agave/blob/e621336acad4f5d6e5b860eaa1b074b01c99253c/runtime/src/bank/fee_distribution.rs#L58-L62):
  절반은 거래를 처리한 검증자에게 지급됩니다.

## 우선 수수료

우선 수수료는 거래가 처리될 확률을 높이기 위해 검증자에게 지급되는 선택적 수수료입니다.

- [SIMD-0096](https://github.com/solana-foundation/solana-improvement-documents/blob/main/proposals/0096-reward-collected-priority-fee-in-entirety.md):
  우선 수수료의 100%가 거래를 처리하는 검증자에게 직접 지급됩니다.

### 컴퓨트 유닛 및 한도

거래가 실행될 때, 컴퓨트 유닛(CU)으로 측정되는 계산 리소스를 소비합니다. 각 명령어는 거래의 컴퓨트 유닛 예산에서 차감됩니다.

- 최대 한도: 거래는 최대
  [140만 컴퓨트 유닛](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget_limits.rs#L14)을 사용할 수 있습니다.
- 기본 한도: 기본적으로 각 명령어는
  [200,000 컴퓨트 유닛](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget_limits.rs#L10)으로 제한됩니다.
- 사용자 정의 한도: 거래에 `SetComputeUnitLimit` 명령어를 포함하여 특정 컴퓨트 유닛 한도를 요청할 수 있습니다.

컴퓨트 유닛 사용에 대한 추가 세부정보:

- [ComputeBudget Type](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget.rs#L22-L130)
- [컴퓨트 유닛 소비 기본값](https://github.com/anza-xyz/agave/blob/v2.1.13/compute-budget/src/compute_budget.rs#L149-L197)

컴퓨트 유닛 사용에 대한 자세한 내용은
[최적의 컴퓨트 요청 방법](/developers/guides/advanced/how-to-request-optimal-compute)
가이드를 참조하세요.

### 컴퓨트 유닛 가격

컴퓨트 유닛 가격은 마이크로 람포트로 표시되며, 우선 수수료를 계산하기 위해 컴퓨트 유닛당 지급되는 선택적 가격입니다.

<Callout>1,000,000 마이크로 람포트 = 1 람포트</Callout>

현재 컴퓨트 유닛 가격에 대한 실시간 추천을 얻으려면 다음 리소스를 사용하세요:

- [우선 수수료 API](https://docs.helius.dev/solana-apis/priority-fee-api) by Helius
- [전 세계 우선 수수료 추적기](https://triton.one/solana-prioritization-fees/) by Triton

우선 수수료에 대한 자세한 내용은
[우선 수수료 사용 방법](/developers/guides/advanced/how-to-use-priority-fees)
가이드를 참조하세요.

### 우선 수수료 계산

우선 수수료는 다음과 같이 계산됩니다:

**우선 수수료 = 컴퓨트 유닛 한도 × 컴퓨트 유닛 가격**

거래에서 컴퓨트 유닛 한도와 가격을 설정하기 위한 다음 명령어를 사용하세요:

- [`SetComputeUnitLimit`](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/src/compute_budget.rs#L42-L44)
  특정 유닛 한도를 설정합니다.
- [`SetComputeUnitPrice`](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/src/compute_budget.rs#L48-L50)
  컴퓨트 유닛당 가격을 정의합니다.

<Callout>

이 명령어가 제공되지 않으면 거래는 기본 컴퓨트 유닛 한도와 컴퓨트 유닛 가격 0(우선 수수료 없음)을 자동으로 사용합니다.

우선 수수료는 거래에 요청된 컴퓨트 유닛을 기준으로 하며, 거래에서 실제로 사용된 컴퓨트 유닛이 아닙니다. 너무 높은 컴퓨트 유닛 한도를 설정하거나 기본 금액을 사용하면 사용되지 않은 컴퓨트 유닛에 대해 비용을 지불할 수 있습니다.

</Callout>

### 예시

아래는 거래에 대한 컴퓨트 유닛 한도와 가격을 설정하는 데 사용되는 명령어의 예입니다.

#### Rust

`solana-sdk`는
[`ComputeBudgetInstruction`](https://github.com/anza-xyz/agave/blob/v2.1.13/sdk/src/compute_budget.rs#L17-L31)
타입을 통해 메서드를 제공합니다:

```rust
let limit_instruction = ComputeBudgetInstruction::set_compute_unit_limit(300_000);

let price_instruction = ComputeBudgetInstruction::set_compute_unit_price(1);
```

#### JavaScript

`@solana/web3.js` 라이브러리(v1)는
[`ComputeBudgetProgram`](https://solana-labs.github.io/solana-web3.js/v1.x/classes/ComputeBudgetProgram.html)
클래스를 통해 메서드를 제공합니다:

```js
const limitInstruction = ComputeBudgetProgram.setComputeUnitLimit({
  units: 300_000,
});

const priceInstruction = ComputeBudgetProgram.setComputeUnitPrice({
  microLamports: 1,
});
```

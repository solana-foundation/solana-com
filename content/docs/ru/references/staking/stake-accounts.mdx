---
title: Стейкинг-аккаунты
---

Стейкинг-аккаунт в Solana может использоваться для делегирования токенов
validator'ам в сети, чтобы потенциально получать вознаграждения для владельца
стейкинг-аккаунта. Стейкинг- аккаунты создаются и управляются иначе, чем
традиционный адрес кошелька, известный как _системный аккаунт_. Системный
аккаунт может только отправлять и получать SOL с других аккаунтов в сети, тогда
как стейкинг-аккаунт поддерживает более сложные операции, необходимые для
управления делегированием токенов.

Стейкинг-аккаунты в Solana также работают иначе, чем в других блокчейн-сетях с
Proof-of-Stake, с которыми вы можете быть знакомы. Этот документ описывает общую
структуру и функции стейкинг-аккаунта Solana.

### Адрес аккаунта

Каждый стейкинг-аккаунт имеет уникальный адрес, который можно использовать для
просмотра информации об аккаунте в командной строке или в любых инструментах
обозревателя сети. Однако, в отличие от адреса кошелька, где владелец keypair
адреса контролирует кошелек, keypair, связанный с адресом стейкинг-аккаунта, не
обязательно имеет какой-либо контроль над аккаунтом. Фактически, keypair или
приватный ключ могут даже не существовать для адреса стейкинг-аккаунта.

Единственный случай, когда у адреса стейкинг-аккаунта есть файл keypair — это
когда
[создается стейкинг-аккаунт с использованием инструментов командной строки](https://docs.anza.xyz/cli/examples/delegate-stake#create-a-stake-account).
Сначала создается новый файл keypair только для того, чтобы убедиться, что адрес
стейкинг-аккаунта новый и уникальный.

### Понимание полномочий аккаунта

Определенные типы аккаунтов могут иметь одно или несколько _подписывающих
полномочий_, связанных с данным аккаунтом. Полномочие аккаунта используется для
подписания определенных транзакций для аккаунта, которым оно управляет. Это
отличается от некоторых других блокчейн- сетей, где владелец keypair, связанного
с адресом аккаунта, контролирует всю активность аккаунта.

Каждый стейк-аккаунт имеет два подписывающих органа, указанных их
соответствующими адресами, каждый из которых уполномочен выполнять определенные
операции со стейк- аккаунтом.

_Полномочие стейка_ используется для подписания транзакций для следующих
операций:

- Делегирование стейка
- Деактивация делегирования стейка
- Разделение стейк-аккаунта, создание нового стейк-аккаунта с частью средств из
  первого аккаунта
- Объединение двух стейк-аккаунтов в один
- Установка нового полномочия стейка

_Полномочие вывода_ подписывает транзакции для следующего:

- Вывод неделегированного стейка на адрес кошелька
- Установка нового полномочия вывода
- Установка нового полномочия стейка

Полномочие стейка и полномочие вывода устанавливаются при создании
стейк-аккаунта, и они могут быть изменены для авторизации нового подписывающего
адреса в любое время. Полномочие стейка и полномочие вывода могут быть одним и
тем же адресом или двумя разными адресами.

Keypair полномочия вывода имеет больший контроль над аккаунтом, так как он
необходим для ликвидации токенов в стейк-аккаунте, и может использоваться для
сброса полномочия стейка, если keypair полномочия стейка будет утерян или
скомпрометирован.

Защита полномочия вывода от потери или кражи имеет первостепенное значение при
управлении стейк-аккаунтом.

### Множественные делегирования

Каждый стейк-аккаунт может использоваться для делегирования только одному
валидатору одновременно. Все токены в аккаунте либо делегированы, либо не
делегированы, либо находятся в процессе делегирования или отмены делегирования.
Чтобы делегировать часть ваших токенов валидатору или делегировать нескольким
валидаторам, вы должны создать несколько стейк-аккаунтов.

Это можно сделать, создав несколько стейк-аккаунтов из адреса кошелька,
содержащего токены, или создав один большой стейк-аккаунт и используя полномочия
стейкинга для разделения аккаунта на несколько аккаунтов с балансами токенов по
вашему выбору.

Одни и те же полномочия для стейкинга и вывода средств могут быть назначены
нескольким стейк-аккаунтам.

### Объединение стейк-аккаунтов

Два стейк-аккаунта, имеющие одинаковые полномочия и период блокировки, могут
быть объединены в один результирующий стейк-аккаунт. Объединение возможно между
двумя стейками в следующих состояниях без дополнительных условий:

- два деактивированных стейка
- неактивный стейк в активирующийся стейк в течение его эпохи активации

Для следующих случаев pubkey валидатора и наблюдаемые кредиты голосования должны
совпадать:

- два активированных стейка
- два активирующихся аккаунта, которые имеют общую эпоху активации, в течение
  эпохи активации

Все другие комбинации состояний стейка не будут объединяться, включая все
"переходные" состояния, когда стейк активируется или деактивируется с ненулевым
эффективным стейком.

### Разогрев и охлаждение делегирования

Когда стейк-аккаунт делегируется или делегирование деактивируется, операция не
вступает в силу немедленно.

Делегирование или деактивация занимает несколько
[epoch](/docs/references/terminology#epoch) для завершения, при этом часть
делегирования становится активной или неактивной на границе каждой эпохи после
того, как транзакция, содержащая инструкции, была отправлена в кластер.

Также существует ограничение на то, сколько всего стейка может быть делегировано
или деактивировано в одной эпохе, чтобы предотвратить большие внезапные
изменения стейка во всей сети в целом. Поскольку разогрев и охлаждение зависят
от поведения других участников сети, их точную продолжительность трудно
предсказать. Подробную информацию о времени разогрева и охлаждения можно найти
[здесь](https://docs.anza.xyz/consensus/stake-delegation-and-rewards#stake-warmup-cooldown-withdrawal).

### Блокировки

Стейкинг-аккаунты могут иметь блокировку, которая предотвращает вывод токенов до
достижения определенной даты или epoch. Во время блокировки стейкинг-аккаунт
по-прежнему может быть делегирован, разделегирован или разделен, а его
полномочия по стейкингу могут быть изменены в обычном порядке. Запрещен только
вывод средств в другой кошелек или изменение полномочий на вывод.

Блокировка может быть добавлена только при первоначальном создании
стейкинг-аккаунта, но может быть изменена позже _полномочным лицом по
блокировке_ или _хранителем_, адрес которого также устанавливается при создании
аккаунта.

### Уничтожение стейкинг-аккаунта

Как и другие типы аккаунтов в сети Solana, стейкинг-аккаунт с балансом 0 SOL
больше не отслеживается. Если стейкинг-аккаунт не делегирован и все содержащиеся
в нем токены выведены на адрес кошелька, аккаунт по этому адресу фактически
уничтожается и для повторного использования адреса потребуется вручную
воссоздать аккаунт.

### Просмотр стейкинг-аккаунтов

Детали стейкинг-аккаунта можно просмотреть в
[Solana Explorer](http://explorer.solana.com/), скопировав и вставив адрес
аккаунта в строку поиска.

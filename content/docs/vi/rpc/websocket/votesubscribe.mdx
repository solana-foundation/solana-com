---
title: voteSubscribe
hideTableOfContents: true
h1: Phương thức RPC voteSubscribe
---

Đăng ký để nhận thông báo mỗi khi một phiếu bầu mới được quan sát trong gossip.
Những phiếu bầu này là tiền-đồng thuận nên không có gì đảm bảo rằng chúng sẽ đi
vào sổ cái.

<Callout type="warn" title={"Phương thức không ổn định"}>
  Đăng ký này không ổn định và chỉ khả dụng nếu validator được khởi động với cờ
  `--rpc-pubsub-enable-vote-subscription`. Định dạng của đăng ký này có thể thay
  đổi trong tương lai.
</Callout>

<APIMethod>

```jsonc !!request
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "voteSubscribe"
}
```

### !params

**Không có**

### !!result

```jsonc !response
{
  "jsonrpc": "2.0",
  // !hover result
  "result": 0,
  "id": 1
}
```

!type integer

id đăng ký (cần thiết để hủy đăng ký)

</APIMethod>

#### Định dạng thông báo:

Thông báo sẽ là một đối tượng với các trường sau:

- `hash: <string>` - Mã băm của phiếu bầu
- `slots: <array>` - Các slot được bao gồm trong phiếu bầu, dưới dạng mảng các
  số nguyên u64
- `timestamp: <i64|null>` - Dấu thời gian của phiếu bầu
- `signature: <string>` - Chữ ký của giao dịch chứa phiếu bầu này
- `votePubkey: <string>` - Khóa công khai của tài khoản phiếu bầu, dưới dạng
  chuỗi mã hóa base-58

```json
{
  "jsonrpc": "2.0",
  "method": "voteNotification",
  "params": {
    "result": {
      "hash": "8Rshv2oMkPu5E4opXTRyuyBeZBqQ4S477VG26wUTFxUM",
      "slots": [1, 2],
      "timestamp": null
    },
    "subscription": 0
  }
}
```

---
title: नेटवर्क पर लिखना
description:
  ट्रांजैक्शन और निर्देशों को भेजकर Solana नेटवर्क के साथ कैसे इंटरैक्ट करें, यह
  जानें। System Program और Token Extensions Program का उपयोग करके SOL टोकन
  ट्रांसफर करने और नए टोकन बनाने के लिए चरण-दर-चरण उदाहरणों का पालन करें।
---

पिछले खंड में, आपने Solana नेटवर्क से डेटा पढ़ना सीखा। अब जानें कि इस पर डेटा
कैसे लिखा जाता है। Solana नेटवर्क पर लिखने में ऐसे ट्रांजैक्शन भेजना शामिल है
जिनमें एक या अधिक निर्देश होते हैं।

प्रोग्राम (स्मार्ट कॉन्ट्रैक्ट) इन निर्देशों को प्रत्येक संबंधित निर्देश के लिए
अपने बिजनेस लॉजिक के अनुसार प्रोसेस करते हैं। जब आप ट्रांजैक्शन सबमिट करते हैं,
तो Solana रनटाइम प्रत्येक निर्देश को क्रम में और परमाणु रूप से निष्पादित करता है
(जिसका अर्थ है या तो सभी निर्देश सफल होते हैं या पूरा ट्रांजैक्शन विफल हो जाता
है)।

इस खंड में, आप दो बुनियादी उदाहरण देखेंगे:

1. खातों के बीच SOL ट्रांसफर करना
2. एक नया टोकन बनाना

ये उदाहरण दिखाते हैं कि Solana प्रोग्राम को इनवोक करने के लिए ट्रांजैक्शन कैसे
बनाए और भेजे जाते हैं। अधिक जानकारी के लिए,
[ट्रांजैक्शन और निर्देश](/docs/core/transactions) और
[Solana पर फीस](/docs/core/fees) पेज देखें।

## SOL ट्रांसफर करना

इस उदाहरण में, आप दो खातों के बीच SOL ट्रांसफर करना सीखेंगे।

Solana पर, प्रत्येक खाते का एक विशिष्ट प्रोग्राम मालिक होता है। केवल प्रोग्राम
मालिक ही किसी खाते के SOL (lamport) बैलेंस को कम कर सकता है।

System Program सभी "वॉलेट" खातों का
[मालिक](https://github.com/anza-xyz/agave/blob/v2.1.11/sdk/account/src/lib.rs#L55)
है। SOL ट्रांसफर करने के लिए, आपको System Program के
[transfer](https://github.com/anza-xyz/agave/blob/v2.1.11/programs/system/src/system_processor.rs#L183-L213)
निर्देश को इनवोक करना होगा।

<WithNotes>

<CodeTabs flags="r">

```ts !! title="Transfer SOL"
import {
  LAMPORTS_PER_SOL,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  Keypair,
  Connection
} from "@solana/web3.js";

// !tooltip[/connection/] connection
const connection = new Connection("http://localhost:8899", "confirmed");

// !tooltip[/sender/] sender
const sender = new Keypair();
// !tooltip[/receiver/] receiver
const receiver = new Keypair();

// !tooltip[/requestAirdrop/] airdrop
const signature = await connection.requestAirdrop(
  sender.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

// !tooltip[/transferInstruction/] instruction
const transferInstruction = SystemProgram.transfer({
  fromPubkey: sender.publicKey,
  toPubkey: receiver.publicKey,
  lamports: 0.01 * LAMPORTS_PER_SOL
});

// !tooltip[/transaction/] transaction
const transaction = new Transaction().add(transferInstruction);

// !tooltip[/sendAndConfirmTransaction/] sendAndConfirmTransaction
const transactionSignature = await sendAndConfirmTransaction(
  connection,
  transaction,
  [sender]
);

console.log("Transaction Signature:", `${transactionSignature}`);
```

</CodeTabs>

### !connection

Solana क्लस्टर से कनेक्शन बनाएं।

### !sender

`sender` के रूप में उपयोग करने के लिए एक नया keypair जनरेट करें।

### !receiver

`receiver` के रूप में उपयोग करने के लिए एक नया keypair जनरेट करें।

### !airdrop

`sender` को फंड करने के लिए SOL का एयरड्रॉप अनुरोध करें।

### !instruction

सिस्टम प्रोग्राम के ट्रांसफर इंस्ट्रक्शन को इनवोक करने के लिए इंस्ट्रक्शन बनाएं।

### !transaction

नया ट्रांजैक्शन बनाएं और ट्रांसफर इंस्ट्रक्शन जोड़ें।

### !sendAndConfirmTransaction

ट्रांजैक्शन भेजें।

</WithNotes>

ये Solana पर किसी भी प्रोग्राम के साथ इंटरैक्ट करने के लिए ट्रांजैक्शन बनाने के
चरण हैं।

<Steps>
<Step>

वह इंस्ट्रक्शन बनाएं जिसे आप इनवोक करना चाहते हैं।

```ts title="Instruction"
const transferInstruction = SystemProgram.transfer({
  fromPubkey: sender.publicKey,
  toPubkey: receiver.publicKey,
  // !mention one
  lamports: 0.01 * LAMPORTS_PER_SOL
});
```

</Step>
<Step>

इंस्ट्रक्शन को ट्रांजैक्शन में जोड़ें:

```ts title="Transaction"
const transaction = new Transaction().add(transferInstruction);
```

</Step>
<Step>

ट्रांजैक्शन पर हस्ताक्षर करें और भेजें:

```ts title="Send Transaction"
const transactionSignature = await sendAndConfirmTransaction(
  connection,
  transaction,
  [sender] // signer keypair
);
```

</Step>
</Steps>

## टोकन बनाएं

इस उदाहरण में, आप Token Extensions Program का उपयोग करके Solana पर एक नया टोकन
बनाना सीखेंगे। इसके लिए दो इंस्ट्रक्शन की आवश्यकता होती है:

1. नया अकाउंट बनाने के लिए सिस्टम प्रोग्राम को इनवोक करें।
2. उस अकाउंट को मिंट के रूप में इनिशियलाइज़ करने के लिए Token Extensions Program
   को इनवोक करें।

<WithNotes>

<CodeTabs flags="r">

```ts !! title="Create Mint Account"
import {
  Connection,
  Keypair,
  SystemProgram,
  Transaction,
  sendAndConfirmTransaction,
  LAMPORTS_PER_SOL
} from "@solana/web3.js";
import {
  MINT_SIZE,
  TOKEN_2022_PROGRAM_ID,
  createInitializeMint2Instruction,
  getMinimumBalanceForRentExemptMint
} from "@solana/spl-token";

const connection = new Connection("http://localhost:8899", "confirmed");

// !tooltip[/wallet/] wallet
const wallet = new Keypair();
// Fund the wallet with SOL
const signature = await connection.requestAirdrop(
  wallet.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");

// Generate keypair to use as address of mint account
// !tooltip[/mint/] mint
const mint = new Keypair();

// Calculate lamports required for rent exemption
// !tooltip[/rentExemptionLamports/] rentExemptionLamports
const rentExemptionLamports =
  await getMinimumBalanceForRentExemptMint(connection);

// Instruction to create new account with space for new mint account
// !tooltip[/createAccountInstruction/] createAccountInstruction
const createAccountInstruction = SystemProgram.createAccount({
  fromPubkey: wallet.publicKey,
  newAccountPubkey: mint.publicKey,
  space: MINT_SIZE,
  lamports: rentExemptionLamports,
  programId: TOKEN_2022_PROGRAM_ID
});

// Instruction to initialize mint account
// !tooltip[/initializeMintInstruction/] initializeMintInstruction
const initializeMintInstruction = createInitializeMint2Instruction(
  mint.publicKey,
  2, // decimals
  wallet.publicKey, // mint authority
  wallet.publicKey, // freeze authority
  TOKEN_2022_PROGRAM_ID
);

// Build transaction with instructions to create new account and initialize mint account
// !tooltip[/transaction/] transaction
const transaction = new Transaction().add(
  createAccountInstruction,
  initializeMintInstruction
);

// !tooltip[/sendAndConfirmTransaction/] sendAndConfirmTransaction
const transactionSignature = await sendAndConfirmTransaction(
  connection,
  transaction,
  [
    wallet, // payer
    mint // mint address keypair
  ]
);

console.log("Mint Account:", `${mint.publicKey}`);
console.log("Transaction Signature:", `${transactionSignature}`);
```

</CodeTabs>

### !wallet

वॉलेट के रूप में उपयोग करने के लिए एक नया keypair जनरेट करें।

### !mint

बनाने के लिए Mint account के पते के रूप में उपयोग करने के लिए एक नया keypair
जनरेट करें।

### !rentLamports

Mint account के लिए आवश्यक lamports की गणना करें।

### !rentExemptionLamports

rent exemption के लिए आवश्यक lamports की गणना करें

### !createAccountInstruction

Mint account प्रकार के लिए स्थान के साथ एक नया खाता बनाने के लिए निर्देश तैयार
करें और Token Extensions Program द्वारा स्वामित्व वाला।

### !initializeMintInstruction

नए खाते के डेटा को Mint account प्रकार के रूप में इनिशियलाइज़ करने के लिए
निर्देश तैयार करें।

### !transaction

नया लेनदेन बनाएं और दोनों निर्देश जोड़ें।

यहां निर्देशों का क्रम महत्वपूर्ण है। `createAccountInstruction` को
`initializeMintInstruction` से पहले आना चाहिए।

### !sendAndConfirmTransaction

लेनदेन भेजें।

</WithNotes>

यहां उदाहरण क्या करता है, इसका चरण-दर-चरण विवरण है:

<Steps>
<Step>

कनेक्शन बनाएं और वॉलेट को फंड करें

```ts title="Connection and Wallet"
const connection = new Connection("http://localhost:8899", "confirmed");
const wallet = new Keypair();
const signature = await connection.requestAirdrop(
  wallet.publicKey,
  LAMPORTS_PER_SOL
);
await connection.confirmTransaction(signature, "confirmed");
```

</Step>
<Step>

Mint account के लिए keypair जनरेट करें

```ts title="Mint Keypair"
const mint = new Keypair();
```

</Step>
<Step>

rent exemption के लिए न्यूनतम lamports की गणना करें

```ts title="Rent Exemption"
const rentExemptionLamports =
  await getMinimumBalanceForRentExemptMint(connection);
```

</Step>
<Step>

नया अकाउंट बनाने के लिए इंस्ट्रक्शन तैयार करें

<WithMentions>

1. mint डेटा स्टोर करने के लिए [आवश्यक स्पेस आवंटित करें](mention:one)
2. नए अकाउंट को फंड करने के लिए वॉलेट से [lamports ट्रांसफर करें](mention:two)
3. अकाउंट का [स्वामित्व सौंपें](mention:three) Token Extensions प्रोग्राम को
   (`TOKEN_2022_PROGRAM_ID`)

```ts title="Create Account Instruction"
const createAccountInstruction = SystemProgram.createAccount({
  fromPubkey: wallet.publicKey,
  newAccountPubkey: mint.publicKey,
  // !mention one
  space: MINT_SIZE,
  // !mention two
  lamports: rentExemptionLamports,
  // !mention three
  programId: TOKEN_2022_PROGRAM_ID
});
```

</WithMentions>

</Step>
<Step>

Mint account को इनिशियलाइज़ करने के लिए इंस्ट्रक्शन तैयार करें

```ts title="Initialize Mint Instruction"
const initializeMintInstruction = createInitializeMint2Instruction(
  mint.publicKey,
  2, // decimals
  wallet.publicKey, // mint authority
  wallet.publicKey, // freeze authority
  TOKEN_2022_PROGRAM_ID
);
```

</Step>
<Step>

दोनों इंस्ट्रक्शन को एक ट्रांजैक्शन में जोड़ें

```ts title="Build Transaction"
const transaction = new Transaction().add(
  createAccountInstruction,
  initializeMintInstruction
);
```

</Step>
<Step>

दोनों आवश्यक साइनर्स के साथ ट्रांजैक्शन भेजें और कन्फर्म करें

```ts title="Send Transaction"
const transactionSignature = await sendAndConfirmTransaction(
  connection,
  transaction,
  [wallet, mint]
);
```

</Step>
<Step>

Mint account और ट्रांजैक्शन सिग्नेचर प्रिंट करें

```ts title="Output"
console.log("Mint Account:", `${mint.publicKey}`);
console.log("Transaction Signature:", `${transactionSignature}`);
```

</Step>
</Steps>

दोनों इंस्ट्रक्शन को एक ही ट्रांजैक्शन में जोड़कर, आप सुनिश्चित करते हैं कि
अकाउंट क्रिएशन और इनिशियलाइजेशन एटॉमिक रूप से होते हैं। या तो दोनों इंस्ट्रक्शन
सफल होते हैं, या कोई भी नहीं। यह दृष्टिकोण अधिक जटिल Solana ट्रांजैक्शन बनाते
समय आम है, क्योंकि यह गारंटी देता है कि सभी इंस्ट्रक्शन एक साथ निष्पादित होते
हैं।

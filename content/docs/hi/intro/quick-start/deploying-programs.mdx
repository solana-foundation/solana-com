---
title: प्रोग्राम्स को डिप्लॉय करना
description:
  Anchor फ्रेमवर्क और Solana Playground का उपयोग करके अपना पहला Solana प्रोग्राम
  बनाना, डिप्लॉय करना और टेस्ट करना सीखें। यह शुरुआती-अनुकूल गाइड एक सरल
  प्रोग्राम बनाने, इसे devnet पर डिप्लॉय करने, टेस्ट चलाने और प्रोग्राम को बंद
  करने के बारे में बताती है।
h1: अपना पहला Solana प्रोग्राम डिप्लॉय करना
---

इस खंड में, आप Anchor फ्रेमवर्क का उपयोग करके एक सरल Solana प्रोग्राम (स्मार्ट
कॉन्ट्रैक्ट) बनाएंगे, डिप्लॉय करेंगे और टेस्ट करेंगे। अंत तक, आप अपना पहला
प्रोग्राम Solana ब्लॉकचेन पर डिप्लॉय कर चुके होंगे।

इस खंड का उद्देश्य आपको Solana Playground से परिचित कराने पर केंद्रित है। यह
गाइड Program Derived Address (PDA) और Cross-Program Invocation (CPI) खंडों में
एक अधिक विस्तृत उदाहरण के माध्यम से चलती है। अधिक विवरण के लिए,
[Solana पर प्रोग्राम्स](/docs/core/programs) पेज देखें।

<Steps>
<Step>

### Anchor प्रोजेक्ट बनाएं

सबसे पहले, https://beta.solpg.io को एक नए ब्राउज़र टैब में खोलें।

- बाईं ओर के पैनल पर "Create a new project" बटन पर क्लिक करें।

- एक प्रोजेक्ट नाम दर्ज करें, फ्रेमवर्क के रूप में Anchor का चयन करें, फिर
  "Create" बटन पर क्लिक करें।

![नया प्रोजेक्ट](/assets/docs/intro/quickstart/pg-new-project.gif)

आप देखेंगे कि `src/lib.rs` फ़ाइल में प्रोग्राम कोड के साथ एक नया प्रोजेक्ट बनाया
गया है।

यह बुनियादी Solana प्रोग्राम एक नया अकाउंट बनाता है और उसमें एक संख्या स्टोर
करता है। इस प्रोग्राम में एक इंस्ट्रक्शन (`initialize`) है जो:

- इनपुट के रूप में _rs`data: u64`_ पैरामीटर की आवश्यकता होती है
- एक नया अकाउंट बनाता है
- अकाउंट के डेटा में _rs`data: u64`_ पैरामीटर का मान सहेजता है
- ट्रांजैक्शन के प्रोग्राम लॉग्स में एक संदेश लॉग करता है

<WithNotes>

```rust title="lib.rs"
use anchor_lang::prelude::*;

// This is your program's public key and it will update
// automatically when you build the project.
// !tooltip[/declare_id/] declare_id
declare_id!("11111111111111111111111111111111");

// !tooltip[/program/] program
#[program]
mod hello_anchor {
    use super::*;
    // !tooltip[/data: u64/] parameter
    pub fn initialize(ctx: Context<Initialize>, data: u64) -> Result<()> {
        // !tooltip[/ctx.accounts.new_account.data = data/] initialize
        ctx.accounts.new_account.data = data;
        // !tooltip[/msg!/] msg
        msg!("Changed data to: {}!", data); // Message will show up in the tx logs
        Ok(())
    }
}

// !tooltip[/Accounts/] accounts
#[derive(Accounts)]
pub struct Initialize<'info> {
    // We must specify the space in order to initialize an account.
    // First 8 bytes are default account discriminator,
    // next 8 bytes come from NewAccount.data being type u64.
    // (u64 = 64 bits unsigned integer = 8 bytes)
    // !tooltip[/account/] constraints
    #[account(
      // !tooltip[/init/] init
      init,
      // !tooltip[/payer/] payer
      payer = signer,
      // !tooltip[/space/] space
      space = 8 + 8
    )]
    pub new_account: Account<'info, NewAccount>,
    // !tooltip[/account/] constraints
    #[account(mut)]
    pub signer: Signer<'info>,
    pub system_program: Program<'info, System>,
}

// !tooltip[/account/] account
#[account]
pub struct NewAccount {
    data: u64
}
```

### !declare_id

_rs`declare_id!()`_ मैक्रो आपके प्रोग्राम का ऑन-चेन एड्रेस निर्दिष्ट करता है।
Solana Playground प्रोजेक्ट को बिल्ड करते समय इस एड्रेस को अपडेट करता है।

### !program

_rs`#[program]`_ विशेषता एक मॉड्यूल को चिह्नित करती है जिसमें ऐसे फ़ंक्शन होते
हैं जो प्रोग्राम के निर्देशों का प्रतिनिधित्व करते हैं।

### !accounts

_rs`#[derive(Accounts)]`_ विशेषता एक स्ट्रक्ट को चिह्नित करती है जिसमें
प्रोग्राम के अकाउंट्स होते हैं।

### !account

_rs`#[account]`_ विशेषता एक स्ट्रक्ट को परिभाषित करती है जो उन अकाउंट्स के लिए
डेटा प्रकार का प्रतिनिधित्व करती है जिन्हें यह प्रोग्राम बना सकता है और
स्वामित्व में रख सकता है।

### !constraints

_rs`#[account(...)]`_ विशेषताएँ अकाउंट के लिए प्रतिबंधों को निर्दिष्ट करती हैं।

ये सामान्य जाँच या विशेषताएँ जोड़ते हैं जो Anchor प्रोग्राम सुरक्षा को बढ़ाने के
लिए प्रदान करता है।

### !parameter

यह वह मान है जिसे आप निर्देश को कॉल करते समय उसे पास करते हैं।

### !initialize

_rs`ctx.accounts.new_account.data`_ `new_account` अकाउंट के `data` फ़ील्ड को
एक्सेस कर रहा है और उसे `data: u64` पैरामीटर के मान पर सेट कर रहा है।

### !msg

_rs`msg!`_ मैक्रो लेनदेन के प्रोग्राम लॉग्स में एक संदेश लॉग करता है।

### !init

`init` प्रतिबंध निर्दिष्ट करता है कि प्रोग्राम को अकाउंट बनाना चाहिए। अंदर से,
यह प्रतिबंध सिस्टम प्रोग्राम को एक नया अकाउंट बनाने के लिए आमंत्रित करता है और
इस प्रोग्राम को मालिक बनाता है। प्रोग्राम मालिक के रूप में, यह प्रोग्राम तब
अकाउंट डेटा में लिख सकता है।

### !payer

`payer` प्रतिबंध उस अकाउंट को निर्दिष्ट करता है जो नए अकाउंट के लिए भुगतान करता
है।

### !space

`space` प्रतिबंध अकाउंट के लिए आवंटित किए जाने वाले बाइट्स की संख्या निर्दिष्ट
करता है।

</WithNotes>

<Accordions>
<Accordion title="Explanation">

फिलहाल, यह प्रोग्राम कोड का उच्च-स्तरीय अवलोकन कवर करता है:

<WithMentions>

- declare_id! मैक्रो आपके प्रोग्राम का ऑन-चेन पता निर्दिष्ट करता है। Solana
  Playground अगले चरण में जब आप प्रोग्राम बनाते हैं तो स्वचालित रूप से इस पते को
  अपडेट करता है।

```rs
declare_id!("11111111111111111111111111111111");
```

</WithMentions>

<WithMentions>

- [`#[program]`](mention:one) विशेषता एक मॉड्यूल को चिह्नित करती है जिसमें ऐसे
  फंक्शन होते हैं जो प्रोग्राम के निर्देशों का प्रतिनिधित्व करते हैं।

```rs
// !mention one
#[program]
mod hello_anchor {
    use super::*;
    // !mention two
    pub fn initialize(ctx: Context<Initialize>, data: u64) -> Result<()> {
        // !mention three
        ctx.accounts.new_account.data = data;
        msg!("Changed data to: {}!", data); // Message will show up in the tx logs
        Ok(())
    }
}
```

इस उदाहरण में, [`initialize`](mention:two) निर्देश दो पैरामीटर लेता है:

1. `ctx: Context<Initialize>` - फंक्शन को इस निर्देश के लिए आवश्यक अकाउंट्स पास
   करता है, जैसा कि `Initialize` स्ट्रक्ट में निर्दिष्ट है।
2. `data: u64` - एक कस्टम पैरामीटर जिसे आपको निर्देश को कॉल करते समय प्रदान करना
   होगा।

फंक्शन बॉडी [`new_account` के `data` फील्ड को सेट करती है](mention:three) प्रदान
किए गए `data` आर्गुमेंट के अनुसार और फिर प्रोग्राम लॉग्स में एक संदेश प्रिंट
करती है।

</WithMentions>

<WithMentions>

- [`#[derive(Accounts)]`](mention:one) विशेषता एक स्ट्रक्ट को परिभाषित करती है
  जो किसी विशेष निर्देश के लिए आवश्यक अकाउंट्स को निर्दिष्ट करती है, जहां
  प्रत्येक फील्ड एक अलग अकाउंट का प्रतिनिधित्व करती है।

  Anchor स्वचालित रूप से फील्ड प्रकारों (जैसे `Signer<'info>`) और प्रतिबंधों
  (जैसे `#[account(mut)]`) के माध्यम से अकाउंट सत्यापन से संबंधित सामान्य
  सुरक्षा जांच को संभालता है।

  ```rs
  // !mention one
  #[derive(Accounts)]
  pub struct Initialize<'info> {
      #[account(init, payer = signer, space = 8 + 8)]
      pub new_account: Account<'info, NewAccount>,
      #[account(mut)]
      pub signer: Signer<'info>,
      pub system_program: Program<'info, System>,
  }
  ```

</WithMentions>

<WithMentions>

- [`#[account]`](mention:one) विशेषता एक स्ट्रक्ट को परिभाषित करती है जो उन
  अकाउंट्स के लिए डेटा प्रकार का प्रतिनिधित्व करती है जिन्हें यह प्रोग्राम बनाता
  है और स्वामित्व रखता है।

```rs
// !mention one
#[account]
pub struct NewAccount {
  data: u64
}
```

</WithMentions>

</Accordion>
</Accordions>

</Step>
<Step>

### प्रोग्राम बिल्ड और डिप्लॉय करें

प्रोग्राम को बिल्ड करने के लिए, बस टर्मिनल में `build` चलाएं। `build` कमांड
प्रोग्राम को कंपाइल करती है। प्रोग्राम बाइटकोड को फिर डिप्लॉय होने पर एक
निष्पादन योग्य प्रोग्राम अकाउंट में संग्रहीत किया जाता है।

```terminal
$ build
Building...
Build successful. Completed in 1.46s.
```

Solana Playground _rs`declare_id!()`_ में पते को अपडेट करता है। यह पता आपके
प्रोग्राम का ऑन-चेन पता (प्रोग्राम ID) दर्शाता है।

प्रोग्राम बनाने के बाद, नेटवर्क पर प्रोग्राम को डिप्लॉय करने के लिए टर्मिनल में
_shell`deploy`_ चलाएँ (डिफ़ॉल्ट रूप से devnet)। प्रोग्राम डिप्लॉयमेंट के लिए
प्रोग्राम को स्टोर करने वाले ऑन-चेन अकाउंट को SOL आवंटित करना आवश्यक है।

डिप्लॉयमेंट से पहले, सुनिश्चित करें कि आपके पास पर्याप्त SOL है। आप devnet SOL
प्राप्त कर सकते हैं या तो प्लेग्राउंड टर्मिनल में _shell`solana airdrop 5`_
चलाकर या [वेब फॉसेट](https://faucet.solana.com/) का उपयोग करके।

```terminal
$ deploy
Deploying... This could take a while depending on the program size and network conditions.
Warning: 1 transaction not confirmed, retrying...
Deployment successful. Completed in 19s.
```

आप बाईं ओर के पैनल पर `Build` और `Deploy` बटन का भी उपयोग कर सकते हैं।

![बिल्ड और डिप्लॉय](/assets/docs/intro/quickstart/pg-build-deploy.png)

प्रोग्राम को डिप्लॉय करने के बाद, आप इसके निर्देशों को कॉल कर सकते हैं।

</Step>
<Step>

### प्रोग्राम का परीक्षण करें

<WithMentions>

स्टार्टर कोड में `tests/anchor.test.ts` में स्थित एक टेस्ट फ़ाइल शामिल है। यह
फ़ाइल क्लाइंट से प्रोग्राम पर [`initialize`](mention:one) निर्देश को कैसे इनवोक
करना है, यह दिखाती है।

```ts title="anchor.test.ts"
// No imports needed: web3, anchor, pg and more are globally available

describe("Test", () => {
  it("initialize", async () => {
    // Generate keypair for the new account
    const newAccountKp = new web3.Keypair();

    // Send transaction
    const data = new BN(42);
    const txHash = await pg.program.methods
      // !mention one
      .initialize(data)
      .accounts({
        newAccount: newAccountKp.publicKey,
        signer: pg.wallet.publicKey,
        systemProgram: web3.SystemProgram.programId
      })
      .signers([newAccountKp])
      .rpc();
    console.log(`Use 'solana confirm -v ${txHash}' to see the logs`);

    // Confirm transaction
    await pg.connection.confirmTransaction(txHash);

    // Fetch the created account
    const newAccount = await pg.program.account.newAccount.fetch(
      newAccountKp.publicKey
    );

    console.log("On-chain data is:", newAccount.data.toString());

    // Check whether the data on-chain is equal to local 'data'
    assert(data.eq(newAccount.data));
  });
});
```

</WithMentions>

प्रोग्राम को डिप्लॉय करने के बाद टेस्ट फ़ाइल चलाने के लिए, टर्मिनल में
_shell`test`_ चलाएँ।

```terminal
$ test
Running tests...
  hello_anchor.test.ts:
  hello_anchor
    Use 'solana confirm -v 3TewJtiUz1EgtT88pLJHvKFzqrzDNuHVi8CfD2mWmHEBAaMfC5NAaHdmr19qQYfTiBace6XUmADvR4Qrhe8gH5uc' to see the logs
    On-chain data is: 42
    ✔ initialize (961ms)
  1 passing (963ms)
```

ऐसे आउटपुट की तलाश करें जो पुष्टि करता है कि टेस्ट सफलतापूर्वक पास हो गया।

आप बाईं ओर के पैनल पर `Test` बटन का भी उपयोग कर सकते हैं।

![टेस्ट चलाएँ](/assets/docs/intro/quickstart/pg-test.png)

फिर आप `solana confirm -v` कमांड चलाकर और टेस्ट आउटपुट से ट्रांजैक्शन हैश
(सिग्नेचर) निर्दिष्ट करके ट्रांजैक्शन लॉग देख सकते हैं:

```terminal
$ solana confirm -v [TxHash]
```

उदाहरण के लिए:

```terminal
$ solana confirm -v 3TewJtiUz1EgtT88pLJHvKFzqrzDNuHVi8CfD2mWmHEBAaMfC5NAaHdmr19qQYfTiBace6XUmADvR4Qrhe8gH5uc
RPC URL: https://api.devnet.solana.com
Default Signer: Playground Wallet
Commitment: confirmed

Transaction executed in slot 308150984:
  Block Time: 2024-06-25T12:52:05-05:00
  Version: legacy
  Recent Blockhash: 7AnZvY37nMhCybTyVXJ1umcfHSZGbngnm4GZx6jNRTNH
  Signature 0: 3TewJtiUz1EgtT88pLJHvKFzqrzDNuHVi8CfD2mWmHEBAaMfC5NAaHdmr19qQYfTiBace6XUmADvR4Qrhe8gH5uc
  Signature 1: 3TrRbqeMYFCkjsxdPExxBkLAi9SB2pNUyg87ryBaTHzzYtGjbsAz9udfT9AkrjSo1ZjByJgJHBAdRVVTZv6B87PQ
  Account 0: srw- 3z9vL1zjN6qyAFHhHQdWYRTFAcy69pJydkZmSFBKHg1R (fee payer)
  Account 1: srw- c7yy8zdP8oeZ2ewbSb8WWY2yWjDpg3B43jk3478Nv7J
  Account 2: -r-- 11111111111111111111111111111111
  Account 3: -r-x 2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r
  Instruction 0
    Program:   2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r (3)
    Account 0: c7yy8zdP8oeZ2ewbSb8WWY2yWjDpg3B43jk3478Nv7J (1)
    Account 1: 3z9vL1zjN6qyAFHhHQdWYRTFAcy69pJydkZmSFBKHg1R (0)
    Account 2: 11111111111111111111111111111111 (2)
    Data: [175, 175, 109, 31, 13, 152, 155, 237, 42, 0, 0, 0, 0, 0, 0, 0]
  Status: Ok
    Fee: ◎0.00001
    Account 0 balance: ◎5.47001376 -> ◎5.46900152
    Account 1 balance: ◎0 -> ◎0.00100224
    Account 2 balance: ◎0.000000001
    Account 3 balance: ◎0.00139896
  Log Messages:
    Program 2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r invoke [1]
    Program log: Instruction: Initialize
    Program 11111111111111111111111111111111 invoke [2]
    Program 11111111111111111111111111111111 success
    Program log: Changed data to: 42!
    Program 2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r consumed 5661 of 200000 compute units
    Program 2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r success

Confirmed
```

आप ट्रांजैक्शन सिग्नेचर (हैश) के लिए खोज करके [SolanaFM](https://solana.fm/) या
[Solana Explorer](https://explorer.solana.com/?cluster=devnet) पर भी ट्रांजैक्शन
विवरण देख सकते हैं।

<Callout>
  याद रखें कि आप जिस एक्सप्लोरर का उपयोग करते हैं, उस पर क्लस्टर (नेटवर्क)
  कनेक्शन को अपडेट करें ताकि वह Solana प्लेग्राउंड से मेल खाए। Solana
  प्लेग्राउंड डिफ़ॉल्ट रूप से devnet क्लस्टर का उपयोग करता है।
</Callout>

</Step>
<Step>

### प्रोग्राम बंद करें

अंत में, प्रोग्राम को बंद करने से ऑन-चेन प्रोग्राम के लिए आवंटित SOL की पूरी
रिकवरी हो जाती है।

आप निम्न कमांड चलाकर और _rs`declare_id!()`_ में मिले प्रोग्राम एड्रेस को
निर्दिष्ट करके प्रोग्राम बंद कर सकते हैं:

```terminal
$ solana program close [ProgramID]
```

उदाहरण के लिए:

```terminal
$ solana program close 2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r
Closed Program Id 2VvQ11q8xrn5tkPNyeraRsPaATdiPx8weLAD8aD4dn2r, 2.79511512 SOL reclaimed
```

<Accordions>
<Accordion title="स्पष्टीकरण">

केवल प्रोग्राम का अपग्रेड अथॉरिटी ही इसे बंद कर सकता है। डिप्लॉयमेंट प्रक्रिया
प्रोग्राम को डिप्लॉय करते समय अपग्रेड अथॉरिटी सेट करती है। इस अकाउंट के पास
प्रोग्राम को अपडेट या बंद करने का विशेष अधिकार होता है। यदि कोई अपग्रेड अथॉरिटी
को रद्द कर देता है, तो प्रोग्राम बिना किसी बंद होने या अपडेट की संभावना के
अपरिवर्तनीय हो जाता है।

Solana Playground पर प्रोग्राम डिप्लॉय करते समय, आपका Playground वॉलेट स्वचालित
रूप से आपके सभी प्रोग्राम के लिए अपग्रेड अथॉरिटी बन जाता है।

</Accordion>
</Accordions>

बधाई हो। आपने अभी Anchor फ्रेमवर्क का उपयोग करके अपना पहला Solana प्रोग्राम
बनाया और डिप्लॉय किया है।

</Step>
</Steps>
